<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gymestry - Professional Gym Management System</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    function showEquipmentManagement() {
      hideAllSections();
      document.getElementById('equipment-management').style.display = 'block';
      loadEquipmentData();
    }
    
    function loadEquipmentData() {
      console.log('Loading equipment data...');
    }
  </script>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèãÔ∏è</text></svg>">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d2d2d 100%);
      color: white;
      min-height: 100vh;
      line-height: 1.6;
    }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
    
    /* Login Screen */
    .login-screen {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    
    .login-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(30px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 40px;
      width: 100%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    
    .login-header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .login-header p { opacity: 0.8; margin-bottom: 30px; }
    
    .form-group {
      margin-bottom: 20px;
      text-align: left;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #E53E3E;
      font-weight: 600;
    }
    
    .form-group input, .form-group select {
      width: 100%;
      padding: 12px 15px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      color: white;
      font-size: 16px;
      transition: all 0.3s ease;
    }
    
    .form-group input:focus, .form-group select:focus {
      outline: none;
      border-color: #E53E3E;
      box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.2);
    }
    
    .login-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .login-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(229, 62, 62, 0.4);
    }
    
    .demo-credentials {
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid rgba(255,255,255,0.1);
      font-size: 0.85em;
      opacity: 0.7;
    }
    
    /* Dashboard Styles */
    .dashboard { display: none; }
    .dashboard.active { display: block; animation: fadeIn 0.5s ease-out; }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      padding: 20px 25px;
      border-radius: 15px;
      margin-bottom: 25px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .user-info h2 { color: #E53E3E; margin-bottom: 5px; font-size: 1.5em; }
    .user-info p { opacity: 0.7; font-size: 0.9em; }
    
    .logout-btn {
      background: rgba(229, 62, 62, 0.2);
      border: 1px solid #E53E3E;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9em;
    }
    
    .logout-btn:hover { background: rgba(229, 62, 62, 0.4); }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .stat-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(229, 62, 62, 0.2);
    }
    
    .stat-icon { font-size: 2em; margin-bottom: 10px; color: #E53E3E; }
    .stat-value { font-size: 1.8em; font-weight: bold; color: #E53E3E; margin-bottom: 5px; }
    .stat-label { opacity: 0.8; font-size: 0.85em; }
    
    .chart-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 25px;
      margin: 25px 0;
    }
    
    .chart-container h3 { margin-bottom: 20px; color: #E53E3E; }
    
    .actions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      margin: 25px 0;
    }
    
    .action-card {
      background: rgba(229, 62, 62, 0.1);
      border: 2px solid rgba(229, 62, 62, 0.3);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .action-card:hover {
      background: rgba(229, 62, 62, 0.2);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(229, 62, 62, 0.3);
    }
    
    .action-icon { font-size: 1.8em; margin-bottom: 8px; color: #E53E3E; }
    .action-title { font-weight: 600; margin-bottom: 5px; font-size: 0.9em; }
    .action-desc { font-size: 0.8em; opacity: 0.8; }
    
    .live-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      background: #00ff00;
      border-radius: 50%;
      animation: blink 1s infinite;
      margin-right: 8px;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.3; }
    }
    
    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff4444;
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7em;
      font-weight: bold;
    }
    
    /* Staff Management Styles */
    .staff-nav {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    
    .nav-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9em;
    }
    
    .nav-btn:hover, .nav-btn.active {
      background: rgba(229, 62, 62, 0.3);
      border-color: #E53E3E;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .section-header h3 {
      color: #E53E3E;
      font-size: 1.3em;
    }
    
    .add-btn {
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.3s ease;
    }
    
    .add-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(229, 62, 62, 0.4);
    }
    
    .employee-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
    }
    
    .employee-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
    }
    
    .employee-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(229, 62, 62, 0.2);
    }
    
    .employee-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .employee-avatar {
      font-size: 2em;
      width: 50px;
      height: 50px;
      background: rgba(229, 62, 62, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .employee-info h4 {
      margin: 0;
      color: white;
      font-size: 1.1em;
    }
    
    .employee-info p {
      margin: 5px 0;
      opacity: 0.8;
      font-size: 0.9em;
    }
    
    .salary {
      background: rgba(229, 62, 62, 0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .employee-actions {
      display: flex;
      gap: 8px;
    }
    
    .employee-actions button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .employee-actions button:hover {
      background: rgba(229, 62, 62, 0.3);
    }
    
    .schedule-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .schedule-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .schedule-card h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .shift-staff {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .staff-tag {
      background: rgba(229, 62, 62, 0.2);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .payroll-table, .attendance-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
    }
    
    .table-header, .table-row {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .table-header {
      background: rgba(229, 62, 62, 0.2);
      font-weight: bold;
      color: #E53E3E;
    }
    
    .table-row:hover {
      background: rgba(255, 255, 255, 0.05);
    }
    
    .performance-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
    }
    
    .performance-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .performance-metrics {
      margin-top: 15px;
    }
    
    .metric {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    
    .metric-label {
      min-width: 120px;
      font-size: 0.9em;
    }
    
    .progress-bar {
      flex: 1;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress {
      height: 100%;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      transition: width 0.3s ease;
    }
    
    .metric-value {
      min-width: 40px;
      text-align: right;
      font-weight: bold;
      color: #E53E3E;
    }
    
    .attendance-btn {
      background: #22c55e;
      border: none;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
    }
    
    .permissions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .permission-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .permission-card h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .permissions-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .permission {
      padding: 8px;
      border-radius: 6px;
      font-size: 0.9em;
    }
    
    .permission.granted {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .permission.denied {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    /* Financial Reports Styles */
    .financial-section {
      display: block;
    }
    
    .revenue-breakdown, .expense-table, .payment-table, .vat-breakdown, .forecast-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .breakdown-grid {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .breakdown-item {
      display: grid;
      grid-template-columns: 200px 1fr 150px;
      align-items: center;
      gap: 15px;
    }
    
    .breakdown-bar {
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .breakdown-fill {
      height: 100%;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      transition: width 0.3s ease;
    }
    
    .breakdown-value {
      text-align: right;
      font-weight: bold;
      color: #E53E3E;
    }
    
    .pl-statement, .vat-table {
      margin-top: 20px;
    }
    
    .pl-section, .vat-section {
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }
    
    .pl-section h5, .vat-section h5 {
      color: #E53E3E;
      margin-bottom: 10px;
      font-size: 1.1em;
    }
    
    .pl-item, .vat-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .vat-item {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr;
      gap: 20px;
    }
    
    .pl-total, .pl-final, .vat-total, .vat-final {
      display: flex;
      justify-content: space-between;
      padding: 15px 0 5px 0;
      border-top: 2px solid #E53E3E;
      margin-top: 10px;
      font-size: 1.1em;
    }
    
    .vat-total {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr;
      gap: 20px;
    }
    
    .pl-final, .vat-final {
      background: rgba(229, 62, 62, 0.2);
      padding: 15px;
      border-radius: 8px;
      color: #E53E3E;
      font-size: 1.2em;
    }
    
    .status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .status.paid {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .status.overdue {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .status.pending {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .positive {
      color: #22c55e;
    }
    
    .negative {
      color: #ef4444;
    }
    
    .export-section {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }
    
    .export-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 15px;
    }
    
    .export-btn {
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.3s ease;
    }
    
    .export-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(229, 62, 62, 0.4);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .container { padding: 15px; }
      .login-card { padding: 30px 20px; }
      .top-bar { flex-direction: column; gap: 15px; text-align: center; }
      .stats-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
      .actions-grid { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px; }
      .staff-nav { justify-content: center; }
      .employee-grid { grid-template-columns: 1fr; }
      .table-header, .table-row { grid-template-columns: 1fr; font-size: 0.8em; }
      .performance-grid { grid-template-columns: 1fr; }
      .breakdown-item { grid-template-columns: 1fr; gap: 10px; text-align: center; }
      .export-buttons { flex-direction: column; align-items: center; }
      .vat-item { grid-template-columns: 1fr; gap: 5px; text-align: center; }
      .vat-total { grid-template-columns: 1fr; gap: 5px; text-align: center; }
    }
    
    /* Member Analytics Styles */
    .analytics-section {
      display: block;
    }
    
    /* Business Settings Styles */
    .settings-section {
      display: block;
    }
    
    /* Member Management Styles */
    .member-section {
      display: block;
    }
    
    .member-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .member-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      display: grid;
      grid-template-columns: 1fr auto auto;
      align-items: center;
      gap: 15px;
      transition: all 0.3s ease;
    }
    
    .member-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(229, 62, 62, 0.2);
    }
    
    .member-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .member-avatar {
      font-size: 2em;
      width: 50px;
      height: 50px;
      background: rgba(229, 62, 62, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .member-info h4 {
      margin: 0;
      color: white;
      font-size: 1.1em;
    }
    
    .member-info p {
      margin: 5px 0;
      opacity: 0.8;
      font-size: 0.9em;
    }
    
    .member-plan {
      background: rgba(229, 62, 62, 0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .member-status {
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.9em;
      font-weight: bold;
      text-align: center;
      min-width: 80px;
    }
    
    .member-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .member-status.suspended {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .member-actions {
      display: flex;
      gap: 8px;
    }
    
    .member-actions button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .member-actions button:hover {
      background: rgba(229, 62, 62, 0.3);
    }
    
    .status-table, .payment-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }
    
    .status-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .status-badge.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .status-badge.suspended {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .status-badge.expiring {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .payment-status.paid {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .payment-status.overdue {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .communication-list {
      margin: 20px 0;
    }
    
    .comm-item {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
    }
    
    .comm-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    
    .comm-member {
      font-weight: bold;
      color: #E53E3E;
    }
    
    .comm-date {
      opacity: 0.7;
      font-size: 0.9em;
    }
    
    .comm-message {
      margin: 10px 0;
      line-height: 1.5;
    }
    
    .comm-type {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
      display: inline-block;
    }
    
    .pricing-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .pricing-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 25px;
      text-align: center;
      position: relative;
      transition: all 0.3s ease;
    }
    
    .pricing-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(229, 62, 62, 0.3);
    }
    
    .pricing-card.popular {
      border-color: #E53E3E;
      background: rgba(229, 62, 62, 0.1);
    }
    
    .popular-badge {
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      color: white;
      padding: 5px 15px;
      border-radius: 15px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .pricing-card h4 {
      color: #E53E3E;
      margin-bottom: 15px;
      font-size: 1.3em;
    }
    
    .price {
      font-size: 2.5em;
      font-weight: bold;
      color: white;
      margin-bottom: 20px;
    }
    
    .price span {
      font-size: 0.4em;
      opacity: 0.7;
    }
    
    .pricing-card ul {
      list-style: none;
      margin: 20px 0;
      text-align: left;
    }
    
    .pricing-card li {
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .edit-btn {
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      font-weight: bold;
    }
    
    .schedule-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }
    
    .schedule-table .table-header {
      display: grid;
      grid-template-columns: 100px repeat(5, 1fr);
      background: rgba(229, 62, 62, 0.2);
      padding: 15px;
      font-weight: bold;
      color: #E53E3E;
    }
    
    .schedule-table .table-row {
      display: grid;
      grid-template-columns: 100px repeat(5, 1fr);
      padding: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .class-slot {
      background: rgba(229, 62, 62, 0.3);
      padding: 8px;
      border-radius: 6px;
      text-align: center;
      font-size: 0.9em;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .class-slot:hover {
      background: rgba(229, 62, 62, 0.5);
    }
    
    .equipment-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .equipment-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      position: relative;
    }
    
    .equipment-status {
      position: absolute;
      top: 15px;
      right: 15px;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .equipment-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .equipment-status.maintenance {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .equipment-card h4 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .maintenance-btn {
      background: rgba(229, 62, 62, 0.2);
      border: 1px solid #E53E3E;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    
    .branch-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .branch-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 25px;
    }
    
    .branch-card h4 {
      color: #E53E3E;
      margin-bottom: 15px;
      font-size: 1.2em;
    }
    
    .branch-details p {
      margin: 8px 0;
      opacity: 0.9;
    }
    
    .policy-list {
      margin: 20px 0;
    }
    
    .policy-item {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
    }
    
    .policy-item h4 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .policy-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .policy-actions button {
      background: rgba(229, 62, 62, 0.2);
      border: 1px solid rgba(229, 62, 62, 0.5);
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
    }
    
    /* Class Scheduling Styles */
    .class-section {
      display: block;
    }
    
    .class-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .class-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
    }
    
    .class-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(229, 62, 62, 0.2);
    }
    
    .class-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .class-header h4 {
      color: #E53E3E;
      margin: 0;
      font-size: 1.2em;
    }
    
    .class-status {
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .class-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .class-status.full {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .class-details p {
      margin: 8px 0;
      opacity: 0.9;
    }
    
    .class-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
    }
    
    .class-actions button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .class-actions button:hover {
      background: rgba(229, 62, 62, 0.3);
    }
    
    .booking-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }
    
    .booking-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .booking-status.confirmed {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .booking-status.waitlist {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .cancel-btn {
      background: rgba(239, 68, 68, 0.2);
      border: 1px solid #ef4444;
      color: #ef4444;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
    }
    
    .waitlist-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .waitlist-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .class-info h4 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .waitlist-members {
      margin-top: 15px;
    }
    
    .waitlist-member {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .waitlist-member button {
      background: rgba(34, 197, 94, 0.2);
      border: 1px solid #22c55e;
      color: #22c55e;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
    }
    
    .attendance-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .attendance-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .attendance-rate {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.9em;
      color: #E53E3E;
    }
    
    .attendance-list {
      margin-top: 15px;
    }
    
    .attendance-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .attendance-btn {
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
      border: none;
    }
    
    .attendance-btn.present {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .attendance-btn.absent {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .instructor-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .instructor-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .instructor-info {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .instructor-avatar {
      font-size: 2em;
      width: 50px;
      height: 50px;
      background: rgba(229, 62, 62, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .instructor-info h4 {
      margin: 0;
      color: white;
      font-size: 1.1em;
    }
    
    .instructor-info p {
      margin: 5px 0;
      opacity: 0.8;
      font-size: 0.9em;
    }
    
    .instructor-rating {
      background: rgba(229, 62, 62, 0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .instructor-schedule {
      margin: 15px 0;
    }
    
    .instructor-schedule h5 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .schedule-item {
      background: rgba(255, 255, 255, 0.05);
      padding: 8px;
      border-radius: 6px;
      margin-bottom: 5px;
      font-size: 0.9em;
    }
    
    .instructor-stats {
      display: flex;
      gap: 15px;
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .instructor-stats span {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    /* Equipment Management Styles */
    .equipment-section {
      display: block;
    }
    
    .equipment-inventory-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .equipment-inventory-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
    }
    
    .equipment-inventory-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(229, 62, 62, 0.2);
    }
    
    .equipment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .equipment-header h4 {
      color: #E53E3E;
      margin: 0;
      font-size: 1.2em;
    }
    
    .equipment-status {
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .equipment-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .equipment-status.maintenance {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .equipment-status.out-of-order {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .equipment-details p {
      margin: 8px 0;
      opacity: 0.9;
      font-size: 0.9em;
    }
    
    .usage-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
      margin: 15px 0;
    }
    
    .usage-fill {
      height: 100%;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      transition: width 0.3s ease;
    }
    
    .equipment-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
    }
    
    .equipment-actions button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .equipment-actions button:hover {
      background: rgba(229, 62, 62, 0.3);
    }
    
    .maintenance-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }
    
    .maintenance-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .maintenance-status.scheduled {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }
    
    .maintenance-status.in-progress {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .maintenance-status.completed {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .repair-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .repair-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .repair-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .repair-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .repair-date {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .repair-details p {
      margin: 8px 0;
      font-size: 0.9em;
    }
    
    .parts-used {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 15px;
    }
    
    .part-tag {
      background: rgba(229, 62, 62, 0.2);
      color: #E53E3E;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .usage-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .usage-stat-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .usage-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .usage-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .usage-efficiency {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .usage-metrics {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .metric-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 0.9em;
    }
    
    .replacement-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .replacement-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      position: relative;
    }
    
    .replacement-card.high-priority {
      border-color: rgba(239, 68, 68, 0.5);
      background: rgba(239, 68, 68, 0.05);
    }
    
    .replacement-card.medium-priority {
      border-color: rgba(251, 191, 36, 0.5);
      background: rgba(251, 191, 36, 0.05);
    }
    
    .replacement-card.low-priority {
      border-color: rgba(34, 197, 94, 0.5);
      background: rgba(34, 197, 94, 0.05);
    }
    
    .replacement-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .replacement-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .replacement-priority {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .replacement-priority.high {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .replacement-priority.medium {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .replacement-priority.low {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .replacement-metrics {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .replacement-metrics .metric {
      display: flex;
      justify-content: space-between;
      padding: 8px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      font-size: 0.9em;
    }
    
    .recommendation {
      background: rgba(229, 62, 62, 0.1);
      padding: 10px;
      border-radius: 6px;
      font-style: italic;
      color: #E53E3E;
      margin: 0;
    }
    
    /* System Settings Styles */
    .system-section {
      display: block;
    }
    
    .user-table, .audit-table {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      margin: 20px 0;
    }
    
    .role-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .role-badge.admin {
      background: rgba(229, 62, 62, 0.2);
      color: #E53E3E;
    }
    
    .role-badge.receptionist {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }
    
    .role-badge.trainer {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .user-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .user-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .user-status.locked {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .tfa-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .tfa-status.enabled {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .tfa-status.disabled {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .security-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .security-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .security-card h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .setting-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .setting-item label {
      font-size: 0.9em;
      opacity: 0.9;
    }
    
    .setting-item input, .setting-item select {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      color: white;
      padding: 6px 10px;
      font-size: 0.9em;
    }
    
    .backup-status-card, .backup-settings-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .backup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .backup-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .backup-status {
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .backup-status.completed {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .backup-status.in-progress {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .backup-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .backup-metric {
      display: flex;
      justify-content: space-between;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      font-size: 0.9em;
    }
    
    .backup-history {
      margin: 20px 0;
    }
    
    .backup-history h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .backup-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .backup-item {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      align-items: center;
      padding: 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      font-size: 0.9em;
    }
    
    .backup-item-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .backup-item-status.success {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .backup-item button {
      background: rgba(229, 62, 62, 0.2);
      border: 1px solid #E53E3E;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.8em;
    }
    
    .integration-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .integration-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .integration-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .integration-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .integration-status {
      padding: 4px 12px;
      border-radius: 6px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .integration-status.enabled {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .integration-status.disabled {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .audit-filters {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .audit-filters select, .audit-filters input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      color: white;
      padding: 8px 12px;
      font-size: 0.9em;
    }
    
    .severity-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .severity-badge.info {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }
    
    .severity-badge.warning {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .severity-badge.critical {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    /* Workout Plans Styles */
    .workout-section {
      display: block;
    }
    
    .exercise-filters {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .exercise-filters select {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      color: white;
      padding: 8px 12px;
      font-size: 0.9em;
    }
    
    .exercise-grid, .template-grid, .progress-grid, .nutrition-grid, .analytics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .exercise-card, .template-card, .progress-card, .nutrition-card, .analytics-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
    }
    
    .exercise-card:hover, .template-card:hover, .progress-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(229, 62, 62, 0.2);
    }
    
    .exercise-header, .template-header, .progress-header, .nutrition-header, .analytics-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .exercise-header h4, .template-header h4, .progress-header h4, .nutrition-header h4, .analytics-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .difficulty-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .difficulty-badge.beginner {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .difficulty-badge.intermediate {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .difficulty-badge.advanced {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .muscle-groups {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }
    
    .muscle-tag, .exercise-tag {
      background: rgba(229, 62, 62, 0.2);
      color: #E53E3E;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .exercise-info {
      display: flex;
      gap: 15px;
      margin: 10px 0;
      font-size: 0.9em;
      opacity: 0.8;
    }
    
    .exercise-description {
      font-size: 0.9em;
      opacity: 0.9;
      margin: 10px 0;
    }
    
    .exercise-actions, .template-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
    }
    
    .exercise-actions button, .template-actions button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.8em;
      transition: all 0.3s ease;
    }
    
    .exercise-actions button:hover, .template-actions button:hover {
      background: rgba(229, 62, 62, 0.3);
    }
    
    .template-category {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .template-category.strength {
      background: rgba(229, 62, 62, 0.2);
      color: #E53E3E;
    }
    
    .template-category.fat-loss {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .template-info {
      display: flex;
      gap: 15px;
      margin: 10px 0;
      font-size: 0.9em;
      opacity: 0.8;
    }
    
    .template-exercises {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }
    
    .progress-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .progress-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .progress-metric {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      font-size: 0.9em;
    }
    
    .recent-workout {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .recent-workout h5 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .exercise-progress {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
      font-size: 0.9em;
    }
    
    .calorie-target {
      text-align: center;
      margin-bottom: 20px;
    }
    
    .calorie-number {
      font-size: 2.5em;
      font-weight: bold;
      color: #E53E3E;
      display: block;
    }
    
    .calorie-label {
      font-size: 0.9em;
      opacity: 0.8;
    }
    
    .macro-breakdown {
      margin: 20px 0;
    }
    
    .macro-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }
    
    .macro-label {
      min-width: 60px;
      font-size: 0.9em;
    }
    
    .macro-bar {
      flex: 1;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .macro-fill {
      height: 100%;
      transition: width 0.3s ease;
    }
    
    .macro-fill.protein {
      background: #E53E3E;
    }
    
    .macro-fill.carbs {
      background: #22c55e;
    }
    
    .macro-fill.fats {
      background: #fbbf24;
    }
    
    .macro-value {
      min-width: 40px;
      text-align: right;
      font-weight: bold;
    }
    
    .meal-plan {
      margin-top: 20px;
    }
    
    .meal-plan h5 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .meal-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      font-size: 0.9em;
    }
    
    .nutrition-goal {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .analytics-period {
      background: rgba(229, 62, 62, 0.2);
      color: #E53E3E;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
    }
    
    .analytics-metrics {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 15px 0;
    }
    
    .metric-item {
      display: flex;
      justify-content: space-between;
      padding: 8px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      font-size: 0.9em;
    }
    
    .metric-value.positive {
      color: #22c55e;
    }
    
    .performance-chart {
      margin-top: 15px;
    }
    
    .performance-chart h5 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .mini-chart {
      display: flex;
      align-items: end;
      gap: 8px;
      height: 60px;
    }
    
    .chart-bar {
      flex: 1;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border-radius: 2px;
      min-height: 20px;
    }
    
    /* Session Booking Styles */
    .booking-section {
      display: block;
    }
    
    .calendar-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin: 20px 0;
    }
    
    .calendar-controls button {
      background: rgba(229, 62, 62, 0.2);
      border: 1px solid #E53E3E;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
    }
    
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      margin: 20px 0;
    }
    
    .calendar-day {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 10px;
      min-height: 100px;
    }
    
    .day-number {
      font-weight: bold;
      color: #E53E3E;
      margin-bottom: 5px;
    }
    
    .session-item {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 6px;
      border-radius: 4px;
      font-size: 0.8em;
      margin-bottom: 2px;
      cursor: pointer;
    }
    
    .schedule-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .schedule-item {
      display: grid;
      grid-template-columns: 120px 1fr 150px 100px;
      align-items: center;
      gap: 15px;
      background: rgba(255, 255, 255, 0.05);
      padding: 15px;
      border-radius: 8px;
    }
    
    .schedule-time {
      font-weight: bold;
      color: #E53E3E;
    }
    
    .schedule-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
      text-align: center;
    }
    
    .schedule-status.confirmed {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .schedule-status.pending {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .sessions-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .session-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .session-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .session-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .session-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .session-status.confirmed {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .session-status.pending {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .session-status.cancelled {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .session-details p {
      margin: 8px 0;
      font-size: 0.9em;
    }
    
    .session-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
    }
    
    .session-actions button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.8em;
    }
    
    .payments-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .payment-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .payment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .payment-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .payment-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .payment-status.paid {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .payment-status.pending {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .payment-details p {
      margin: 8px 0;
      font-size: 0.9em;
    }
    
    .payment-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
    }
    
    .payment-actions button {
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
    }
    
    .filters {
      display: flex;
      gap: 15px;
    }
    
    .filters select {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      color: white;
      padding: 8px 12px;
      font-size: 0.9em;
    }

    /* Customer Support Styles */
    .support-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    
    .support-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .ticket-filters, .feedback-filters {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .tickets-list, .feedback-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .ticket-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .ticket-item:hover {
      background: rgba(229, 62, 62, 0.1);
      border-color: #E53E3E;
    }
    
    .ticket-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .ticket-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .ticket-meta {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    
    .ticket-type, .ticket-status, .ticket-priority {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .ticket-type.inquiry {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }
    
    .ticket-type.complaint {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .ticket-type.suggestion {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .ticket-status.open {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .ticket-status.in_progress {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }
    
    .ticket-status.resolved {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .ticket-priority.low {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .ticket-priority.medium {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .ticket-priority.high {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .feedback-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .feedback-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .feedback-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .rating-stars {
      color: #fbbf24;
      font-size: 1.2em;
    }
    
    .feedback-category {
      background: rgba(229, 62, 62, 0.2);
      color: #E53E3E;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
      margin-bottom: 10px;
      display: inline-block;
    }
    
    .history-search {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      align-items: center;
    }
    
    .member-history {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .history-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 20px;
    }
    
    .history-section h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .new-ticket-form {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 30px;
      margin: 20px 0;
    }
    
    .new-ticket-form h3 {
      color: #E53E3E;
      margin-bottom: 20px;
    }
    
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .modal-content {
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      width: 90%;
      max-width: 800px;
      max-height: 90%;
      overflow-y: auto;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .modal-header h3 {
      color: #E53E3E;
      margin: 0;
    }
    
    .close-btn {
      background: none;
      border: none;
      color: white;
      font-size: 1.5em;
      cursor: pointer;
    }
    
    .modal-body {
      padding: 20px;
    }
    
    .ticket-info {
      margin-bottom: 20px;
    }
    
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin: 15px 0;
    }
    
    .communications {
      margin: 20px 0;
    }
    
    .communications h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .communications-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-height: 300px;
      overflow-y: auto;
      margin-bottom: 20px;
    }
    
    .communication-item {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 15px;
    }
    
    .communication-item.member {
      border-left: 3px solid #3b82f6;
    }
    
    .communication-item.staff {
      border-left: 3px solid #22c55e;
    }
    
    .communication-item.system {
      border-left: 3px solid #fbbf24;
    }
    
    .comm-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 0.9em;
    }
    
    .comm-from {
      font-weight: bold;
      color: #E53E3E;
    }
    
    .comm-time {
      opacity: 0.7;
    }
    
    .new-message {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 20px;
    }
    
    .message-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    
    .btn-warning {
      background: rgba(251, 191, 36, 0.2);
      border: 1px solid #fbbf24;
      color: #fbbf24;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
    }

    /* Payment Processing Styles */
    .payment-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    
    .renewal-form, .training-form, .refund-form, .payment-plan-form {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      align-items: end;
    }
    
    .product-sale {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
    }
    
    .product-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .product-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .product-info h5 {
      color: #E53E3E;
      margin: 0 0 5px 0;
    }
    
    .product-info p {
      margin: 0;
      opacity: 0.8;
      font-size: 0.9em;
    }
    
    .product-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .quantity-input {
      width: 60px;
      padding: 5px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      color: white;
      text-align: center;
    }
    
    .add-to-cart {
      background: rgba(229, 62, 62, 0.3);
      border: 1px solid #E53E3E;
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8em;
    }
    
    .cart {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
    }
    
    .cart h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .cart-items {
      margin: 15px 0;
    }
    
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .cart-total {
      padding: 15px 0;
      border-top: 2px solid #E53E3E;
      margin: 15px 0;
      font-size: 1.2em;
      text-align: right;
      color: #E53E3E;
    }
    
    .plans-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin: 20px 0;
    }
    
    .plan-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr auto;
      align-items: center;
      gap: 15px;
    }
    
    .plan-info h5 {
      color: #E53E3E;
      margin: 0 0 5px 0;
    }
    
    .plan-progress {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .plan-progress-fill {
      height: 100%;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      transition: width 0.3s ease;
    }
    
    .pay-installment {
      background: rgba(34, 197, 94, 0.2);
      border: 1px solid #22c55e;
      color: #22c55e;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
    }
    
    .recent-transactions {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
    }
    
    .recent-transactions h3 {
      color: #E53E3E;
      margin-bottom: 20px;
    }
    
    .transactions-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .transaction-item {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
      align-items: center;
      padding: 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      font-size: 0.9em;
    }
    
    .transaction-type {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .transaction-type.membership_renewal {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }
    
    .transaction-type.personal_training {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .transaction-type.product_sale {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .transaction-type.refund {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .transaction-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .transaction-status.completed {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .transaction-status.pending {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }

    /* New Registration Styles */
    .registration-steps {
      display: flex;
      justify-content: center;
      margin: 30px 0;
      gap: 20px;
    }
    
    .step {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      padding: 10px 20px;
      font-size: 0.9em;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    
    .step.active {
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border-color: #E53E3E;
      color: white;
    }
    
    .step.completed {
      background: rgba(34, 197, 94, 0.3);
      border-color: #22c55e;
      color: #22c55e;
    }
    
    .registration-step {
      display: none;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 30px;
      margin: 20px 0;
    }
    
    .registration-step.active {
      display: block;
    }
    
    .registration-step h3 {
      color: #E53E3E;
      margin-bottom: 20px;
      font-size: 1.5em;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .membership-plans {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .plan-card {
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .plan-card:hover {
      border-color: #E53E3E;
      background: rgba(229, 62, 62, 0.1);
    }
    
    .plan-card.selected {
      border-color: #E53E3E;
      background: rgba(229, 62, 62, 0.2);
    }
    
    .plan-card h4 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .plan-price {
      font-size: 2em;
      font-weight: bold;
      color: white;
      margin: 15px 0;
    }
    
    .plan-features {
      list-style: none;
      padding: 0;
      margin: 15px 0;
    }
    
    .plan-features li {
      padding: 5px 0;
      font-size: 0.9em;
    }
    
    .document-upload {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .upload-item h4 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .upload-area {
      background: rgba(255, 255, 255, 0.05);
      border: 2px dashed rgba(229, 62, 62, 0.5);
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .upload-area:hover {
      background: rgba(229, 62, 62, 0.1);
      border-color: #E53E3E;
    }
    
    .upload-icon {
      font-size: 3em;
      margin-bottom: 10px;
    }
    
    .upload-status {
      margin-top: 10px;
      padding: 8px;
      border-radius: 6px;
      font-size: 0.9em;
      font-weight: bold;
    }
    
    .upload-status.success {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .payment-summary {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .payment-summary h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .summary-total {
      display: flex;
      justify-content: space-between;
      padding: 15px 0 5px 0;
      border-top: 2px solid #E53E3E;
      margin-top: 10px;
      font-size: 1.2em;
      font-weight: bold;
      color: #E53E3E;
    }
    
    .payment-methods h4 {
      color: #E53E3E;
      margin: 20px 0 15px 0;
    }
    
    .payment-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .payment-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .payment-option:hover {
      background: rgba(229, 62, 62, 0.1);
    }
    
    .tour-slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    
    .tour-slot {
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .tour-slot:hover {
      border-color: #E53E3E;
      background: rgba(229, 62, 62, 0.1);
    }
    
    .tour-slot.selected {
      border-color: #E53E3E;
      background: rgba(229, 62, 62, 0.2);
    }
    
    .tour-slot h5 {
      color: #E53E3E;
      margin-bottom: 5px;
    }
    
    .step-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 30px;
    }
    
    .completion-message {
      text-align: center;
      margin: 30px 0;
    }
    
    .success-icon {
      font-size: 4em;
      margin-bottom: 20px;
    }
    
    .completion-message h3 {
      color: #22c55e;
      font-size: 2em;
      margin-bottom: 10px;
    }
    
    .member-details {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .member-details h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .detail-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .welcome-package {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .welcome-package h4 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .package-items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
    }
    
    .package-item {
      background: rgba(229, 62, 62, 0.2);
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      font-size: 0.9em;
    }

    /* Member Check-in Styles */
    .checkin-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    
    .tab-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9em;
    }
    
    .tab-btn:hover, .tab-btn.active {
      background: rgba(229, 62, 62, 0.3);
      border-color: #E53E3E;
    }
    
    .tab-content {
      display: none;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .capacity-status {
      margin: 20px 0;
    }
    
    .capacity-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    
    .capacity-card h3 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .capacity-bar {
      width: 100%;
      height: 20px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
      margin: 15px 0;
    }
    
    .capacity-fill {
      height: 100%;
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      transition: width 0.3s ease;
      width: 30%;
    }
    
    .capacity-text {
      font-size: 1.2em;
      font-weight: bold;
      color: #E53E3E;
    }
    
    .qr-scanner {
      text-align: center;
    }
    
    .scanner-area {
      background: rgba(255, 255, 255, 0.05);
      border: 2px dashed rgba(229, 62, 62, 0.5);
      border-radius: 12px;
      padding: 40px;
      margin: 20px 0;
      position: relative;
    }
    
    .scanner-frame {
      width: 200px;
      height: 200px;
      border: 3px solid #E53E3E;
      border-radius: 12px;
      margin: 0 auto 20px;
      position: relative;
      animation: scannerPulse 2s infinite;
    }
    
    @keyframes scannerPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    .form-input {
      width: 100%;
      padding: 12px 15px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      color: white;
      font-size: 16px;
      margin: 10px 0;
      transition: all 0.3s ease;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #E53E3E;
      box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.2);
    }
    
    .btn-primary {
      background: linear-gradient(45deg, #E53E3E, #FF6B6B);
      border: none;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      margin: 10px 0;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(229, 62, 62, 0.4);
    }
    
    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .btn-secondary {
      background: rgba(229, 62, 62, 0.2);
      border: 1px solid #E53E3E;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9em;
    }
    
    .btn-secondary:hover {
      background: rgba(229, 62, 62, 0.4);
    }
    
    .search-results {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      margin: 10px 0;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .search-result-item {
      padding: 12px 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .search-result-item:hover {
      background: rgba(229, 62, 62, 0.2);
    }
    
    .search-result-item.selected {
      background: rgba(229, 62, 62, 0.3);
      border-left: 3px solid #E53E3E;
    }
    
    .checkins-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .checkin-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .checkin-info {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .checkin-avatar {
      font-size: 2em;
      width: 50px;
      height: 50px;
      background: rgba(229, 62, 62, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .checkin-details h4 {
      margin: 0;
      color: white;
      font-size: 1.1em;
    }
    
    .checkin-details p {
      margin: 5px 0;
      opacity: 0.8;
      font-size: 0.9em;
    }
    
    .checkin-type {
      background: rgba(229, 62, 62, 0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .checkout-btn {
      background: rgba(239, 68, 68, 0.2);
      border: 1px solid #ef4444;
      color: #ef4444;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.3s ease;
    }
    
    .checkout-btn:hover {
      background: rgba(239, 68, 68, 0.4);
    }
    
    .section {
      display: none;
    }
    
    .section.active {
      display: block;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }
    
    .section-header h2 {
      color: #E53E3E;
      font-size: 1.8em;
      margin: 0;
    }

    /* Progress Tracking Styles */
    .progress-section {
      display: block;
    }
    
    .measurements-grid, .strength-grid, .cardio-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .measurement-card, .strength-card, .cardio-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .measurement-header, .strength-header, .cardio-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .measurement-header h4, .strength-header h4, .cardio-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .measurement-date {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .measurement-row {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .value-change {
      font-weight: bold;
    }
    
    .value-change.positive {
      color: #22c55e;
    }
    
    .value-change.negative {
      color: #ef4444;
    }
    
    .body-measurements {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .measurement-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      font-size: 0.9em;
    }
    
    .pr-badge {
      background: linear-gradient(45deg, #fbbf24, #f59e0b);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .progress-badge {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
    }
    
    .exercise-progress, .cardio-progress {
      margin-top: 15px;
    }
    
    .exercise-progress h5, .cardio-progress h5 {
      color: #E53E3E;
      margin-bottom: 15px;
    }
    
    .progress-metrics, .cardio-metrics {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .metric {
      display: flex;
      justify-content: space-between;
      padding: 8px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      font-size: 0.9em;
    }
    
    .metric-value {
      font-weight: bold;
    }
    
    .metric-value.positive {
      color: #22c55e;
    }
    
    .strength-timeline, .cardio-timeline {
      margin-top: 15px;
    }
    
    .timeline-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      padding: 6px 0;
      font-size: 0.9em;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .photo-comparison-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .comparison-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
    }
    
    .comparison-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .comparison-header h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .comparison-period {
      background: rgba(229, 62, 62, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      color: #E53E3E;
    }
    
    .photo-comparison {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .photo-before, .photo-after {
      flex: 1;
      text-align: center;
    }
    
    .photo-placeholder {
      background: rgba(255, 255, 255, 0.05);
      border: 2px dashed rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 40px 20px;
      margin-bottom: 10px;
    }
    
    .photo-icon {
      font-size: 3em;
      margin-bottom: 10px;
      opacity: 0.5;
    }
    
    .photo-stats {
      display: flex;
      flex-direction: column;
      gap: 5px;
      font-size: 0.9em;
      opacity: 0.8;
    }
    
    .photo-arrow {
      font-size: 2em;
      color: #E53E3E;
      font-weight: bold;
    }
    
    .comparison-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
    }
    
    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      font-size: 0.9em;
    }
    
    .summary-item.positive {
      border-left: 3px solid #22c55e;
    }
    
    .milestones-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .milestone-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      position: relative;
    }
    
    .milestone-card.achieved {
      border-left: 4px solid #22c55e;
    }
    
    .milestone-card.in-progress {
      border-left: 4px solid #fbbf24;
    }
    
    .milestone-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .milestone-icon {
      font-size: 2em;
      width: 50px;
      height: 50px;
      background: rgba(229, 62, 62, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .milestone-info h4 {
      color: #E53E3E;
      margin: 0;
    }
    
    .milestone-date {
      font-size: 0.8em;
      opacity: 0.8;
    }
    
    .milestone-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      font-weight: bold;
      margin-left: auto;
    }
    
    .milestone-status.achieved {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .milestone-status.in-progress {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }
    
    .milestone-details h5 {
      color: #E53E3E;
      margin-bottom: 10px;
    }
    
    .milestone-details p {
      margin: 10px 0;
      opacity: 0.9;
    }
    
    .milestone-progress {
      margin: 15px 0;
    }
    
    .progress-text {
      font-size: 0.9em;
      margin-top: 5px;
      display: block;
    }
    
    .milestone-reward {
      margin-top: 15px;
      padding: 10px;
      background: rgba(229, 62, 62, 0.1);
      border-radius: 6px;
      font-size: 0.9em;
      color: #E53E3E;
    }
    
    @media (max-width: 768px) {
      .pricing-grid { grid-template-columns: 1fr; }
      .schedule-table .table-header, .schedule-table .table-row { grid-template-columns: 1fr; gap: 10px; }
      .equipment-grid { grid-template-columns: 1fr; }
      .branch-grid { grid-template-columns: 1fr; }
      .class-grid { grid-template-columns: 1fr; }
      .waitlist-grid { grid-template-columns: 1fr; }
      .attendance-grid { grid-template-columns: 1fr; }
      .instructor-grid { grid-template-columns: 1fr; }
      .equipment-inventory-grid { grid-template-columns: 1fr; }
      .repair-grid { grid-template-columns: 1fr; }
      .usage-stats-grid { grid-template-columns: 1fr; }
      .replacement-grid { grid-template-columns: 1fr; }
      .security-grid { grid-template-columns: 1fr; }
      .integration-grid { grid-template-columns: 1fr; }
      .backup-details { grid-template-columns: 1fr; }
      .backup-item { grid-template-columns: 1fr; gap: 10px; text-align: center; }
      .audit-filters { flex-direction: column; }
      .client-grid { grid-template-columns: 1fr; }
      .exercise-grid { grid-template-columns: 1fr; }
      .template-grid { grid-template-columns: 1fr; }
      .progress-grid { grid-template-columns: 1fr; }
      .nutrition-grid { grid-template-columns: 1fr; }
      .analytics-grid { grid-template-columns: 1fr; }
      .exercise-filters { flex-direction: column; }
      .analytics-metrics { grid-template-columns: 1fr; }
      .measurements-grid { grid-template-columns: 1fr; }
      .strength-grid { grid-template-columns: 1fr; }
      .cardio-grid { grid-template-columns: 1fr; }
      .photo-comparison-grid { grid-template-columns: 1fr; }
      .milestones-grid { grid-template-columns: 1fr; }
      .progress-metrics { grid-template-columns: 1fr; }
      .cardio-metrics { grid-template-columns: 1fr; }
      .comparison-summary { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <script>
    // Customer Support Functions
    function showCustomerSupport() {
      hideAllSections();
      document.getElementById('customerSupportSection').style.display = 'block';
      loadSupportData();
    }
    
    function loadSupportData() {
      // Load mock support data
      const mockTickets = [
        { id: 'T001', member: 'Ahmed Al-Rashid', type: 'inquiry', status: 'open', priority: 'medium', subject: 'Class booking issue', date: '2024-12-20' },
        { id: 'T002', member: 'Sarah Johnson', type: 'complaint', status: 'in_progress', priority: 'high', subject: 'Equipment malfunction', date: '2024-12-19' },
        { id: 'T003', member: 'Mike Wilson', type: 'suggestion', status: 'resolved', priority: 'low', subject: 'New class request', date: '2024-12-18' }
      ];
      
      // Update statistics
      document.getElementById('totalTickets').textContent = mockTickets.length;
      document.getElementById('openTickets').textContent = mockTickets.filter(t => t.status === 'open').length;
      document.getElementById('resolvedTickets').textContent = mockTickets.filter(t => t.status === 'resolved').length;
      document.getElementById('averageRating').textContent = '4.2';
      
      // Load tickets list
      loadTicketsList(mockTickets);
    }
    
    function loadTicketsList(tickets) {
      const ticketsList = document.getElementById('ticketsList');
      ticketsList.innerHTML = tickets.map(ticket => `
        <div class="ticket-item" onclick="openTicketModal('${ticket.id}')">
          <div class="ticket-header">
            <h4>${ticket.subject}</h4>
            <div class="ticket-meta">
              <span class="ticket-type ${ticket.type}">${ticket.type}</span>
              <span class="ticket-status ${ticket.status}">${ticket.status}</span>
              <span class="ticket-priority ${ticket.priority}">${ticket.priority}</span>
            </div>
          </div>
          <p><strong>Member:</strong> ${ticket.member}</p>
          <p><strong>Date:</strong> ${ticket.date}</p>
        </div>
      `).join('');
    }
    
    function showSupportTab(tab) {
      // Hide all tab contents
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Remove active class from all tab buttons
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Show selected tab
      document.getElementById(tab + 'Tab').classList.add('active');
      event.target.classList.add('active');
    }
    
    function openTicketModal(ticketId) {
      document.getElementById('ticketModal').style.display = 'flex';
      // Load ticket details
    }
    
    function closeTicketModal() {
      document.getElementById('ticketModal').style.display = 'none';
    }
    
    function createTicket() {
      const memberId = document.getElementById('newMemberId').value;
      const memberName = document.getElementById('newMemberName').value;
      const type = document.getElementById('newTicketType').value;
      const subject = document.getElementById('newSubject').value;
      const description = document.getElementById('newDescription').value;
      
      if (!memberId || !memberName || !type || !subject || !description) {
        alert('Please fill in all required fields');
        return;
      }
      
      alert('Support ticket created successfully!');
      // Clear form
      document.getElementById('newMemberId').value = '';
      document.getElementById('newMemberName').value = '';
      document.getElementById('newTicketType').value = '';
      document.getElementById('newSubject').value = '';
      document.getElementById('newDescription').value = '';
    }
    
    function filterTickets() {
      // Filter functionality
      console.log('Filtering tickets...');
    }
    
    function filterFeedback() {
      // Filter functionality
      console.log('Filtering feedback...');
    }
    
    function loadMemberHistory() {
      const memberId = document.getElementById('memberIdSearch').value;
      if (!memberId) {
        alert('Please enter a Member ID');
        return;
      }
      alert('Loading member history for: ' + memberId);
    }
    
    // Hide all sections function
    function hideAllSections() {
      document.querySelectorAll('.dashboard, .section').forEach(section => {
        section.style.display = 'none';
        section.classList.remove('active');
      });
    }
    
    // Back to dashboard function
    function backToDashboard() {
      hideAllSections();
      const role = localStorage.getItem('userRole');
      if (role) {
        document.getElementById(role + '-dashboard').style.display = 'block';
        document.getElementById(role + '-dashboard').classList.add('active');
      }
    }
  </script>
  <!-- Login Screen -->
  <div id="login-screen" class="login-screen">
    <div class="login-card">
      <div class="login-header">
        <h1>üèãÔ∏è Gymestry</h1>
        <p>Professional Gym Management System</p>
      </div>
      
      <form id="login-form">
        <div class="form-group">
          <label>Staff Role</label>
          <select id="role" required>
            <option value="">Select Your Role</option>
            <option value="owner">Gym Owner</option>
            <option value="admin">Admin Manager</option>
            <option value="receptionist">Receptionist</option>
            <option value="trainer">Personal Trainer</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email" placeholder="Enter your email" required>
        </div>
        
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="password" placeholder="Enter your password" required>
        </div>
        
        <button type="submit" class="login-btn">Login to Dashboard</button>
      </form>
      
      <div class="demo-credentials">
        <p><strong>Demo Credentials:</strong></p>
        <p>Owner: owner@gym.com / admin123</p>
        <p>Admin: admin@gym.com / admin123</p>
        <p>Receptionist: reception@gym.com / admin123</p>
        <p>Trainer: trainer@gym.com / admin123</p>
      </div>
    </div>
  </div>

  <!-- Owner Dashboard -->
  <div id="owner-dashboard" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üëî Gym Owner Dashboard</h2>
          <p><span class="live-indicator"></span>Fitness First Dubai - Business Control Center</p>
        </div>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-value">AED 45,230</div>
          <div class="stat-label">Monthly Revenue</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-value">1,234</div>
          <div class="stat-label">Active Members</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìà</div>
          <div class="stat-value">+12%</div>
          <div class="stat-label">Growth Rate</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üë®üíº</div>
          <div class="stat-value">24</div>
          <div class="stat-label">Staff Members</div>
        </div>
      </div>
      
      <div class="chart-container">
        <h3>üìä Revenue Analytics - Last 6 Months</h3>
        <canvas id="revenueChart" width="400" height="200"></canvas>
      </div>
      
      <div class="actions-grid">
        <div class="action-card" onclick="showFeature('Staff Management')">
          <div class="action-icon">üë®üíº</div>
          <div class="action-title">Staff Management</div>
          <div class="action-desc">Manage employees & schedules</div>
          <div class="notification-badge">3</div>
        </div>
        <div class="action-card" onclick="showFeature('Financial Reports')">
          <div class="action-icon">üìä</div>
          <div class="action-title">Financial Reports</div>
          <div class="action-desc">Revenue & expense analysis</div>
        </div>
        <div class="action-card" onclick="showFeature('Member Analytics')">
          <div class="action-icon">üìà</div>
          <div class="action-title">Member Analytics</div>
          <div class="action-desc">Growth & retention insights</div>
        </div>
        <div class="action-card" onclick="showFeature('Business Settings')">
          <div class="action-icon">‚öôÔ∏è</div>
          <div class="action-title">Business Settings</div>
          <div class="action-desc">Pricing & gym configuration</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div id="admin-dashboard" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üîß Admin Manager Dashboard</h2>
          <p><span class="live-indicator"></span>Operations & System Administration</p>
        </div>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-value">1,234</div>
          <div class="stat-label">Total Members</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìÖ</div>
          <div class="stat-value">45</div>
          <div class="stat-label">Classes Today</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üèãÔ∏è</div>
          <div class="stat-value">89%</div>
          <div class="stat-label">Equipment Status</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üì±</div>
          <div class="stat-value">156</div>
          <div class="stat-label">Check-ins Today</div>
        </div>
      </div>
      
      <div class="actions-grid">
        <div class="action-card" onclick="showMemberManagement()">
          <div class="action-icon">üë•</div>
          <div class="action-title">Member Management</div>
          <div class="action-desc">Add, edit member accounts</div>
          <div class="notification-badge">7</div>
        </div>
        <div class="action-card" onclick="showFeature('Class Scheduling')">
          <div class="action-icon">üìÖ</div>
          <div class="action-title">Class Scheduling</div>
          <div class="action-desc">Manage classes & instructors</div>
        </div>
        <div class="action-card" onclick="showEquipmentManagement()">
          <div class="action-icon">üèãÔ∏è</div>
          <div class="action-title">Equipment Management</div>
          <div class="action-desc">Maintenance & inventory</div>
          <div class="notification-badge">4</div>
        </div>
        <div class="action-card" onclick="showSystemSettings()">
          <div class="action-icon">‚öôÔ∏è</div>
          <div class="action-title">System Settings</div>
          <div class="action-desc">User permissions & config</div>
          <div class="notification-badge">2</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Receptionist Dashboard -->
  <div id="receptionist-dashboard" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üè™ Receptionist Dashboard</h2>
          <p><span class="live-indicator"></span>Front Desk Operations</p>
        </div>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üì±</div>
          <div class="stat-value">156</div>
          <div class="stat-label">Check-ins Today</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üÜï</div>
          <div class="stat-value">8</div>
          <div class="stat-label">New Registrations</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üí≥</div>
          <div class="stat-value">12</div>
          <div class="stat-label">Payments Processed</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìû</div>
          <div class="stat-value">23</div>
          <div class="stat-label">Inquiries Handled</div>
        </div>
      </div>
      
      <div class="actions-grid">
        <div class="action-card" onclick="showMemberCheckin()">
          <div class="action-icon">üì±</div>
          <div class="action-title">Member Check-in</div>
          <div class="action-desc">QR scanner & manual entry</div>
          <div class="notification-badge">5</div>
        </div>
        <div class="action-card" onclick="showNewRegistration()">
          <div class="action-icon">üÜï</div>
          <div class="action-title">New Registration</div>
          <div class="action-desc">Register new members</div>
        </div>
        <div class="action-card" onclick="showPaymentProcessing()">
          <div class="action-icon">üí≥</div>
          <div class="action-title">Payment Processing</div>
          <div class="action-desc">Membership fees & renewals</div>
        </div>
        <div class="action-card" onclick="showCustomerSupport()">
          <div class="action-icon">üìû</div>
          <div class="action-title">Customer Support</div>
          <div class="action-desc">Handle inquiries & complaints</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Trainer Dashboard -->
  <div id="trainer-dashboard" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üí™ Personal Trainer Dashboard</h2>
          <p><span class="live-indicator"></span>Client Training & Progress Management</p>
        </div>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-value">24</div>
          <div class="stat-label">Active Clients</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìÖ</div>
          <div class="stat-value">8</div>
          <div class="stat-label">Sessions Today</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚≠ê</div>
          <div class="stat-value">4.9</div>
          <div class="stat-label">Rating</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-value">AED 3,200</div>
          <div class="stat-label">Monthly Earnings</div>
        </div>
      </div>
      
      <div class="actions-grid">
        <div class="action-card" onclick="showClientManagement()">
          <div class="action-icon">üë•</div>
          <div class="action-title">Client Management</div>
          <div class="action-desc">View clients & progress</div>
          <div class="notification-badge">3</div>
        </div>
        <div class="action-card" onclick="showWorkoutPlans()">
          <div class="action-icon">üìã</div>
          <div class="action-title">Workout Plans</div>
          <div class="action-desc">Create custom routines</div>
          <div class="notification-badge">5</div>
        </div>
        <div class="action-card" onclick="showProgressTracking()">
          <div class="action-icon">üìà</div>
          <div class="action-title">Progress Tracking</div>
          <div class="action-desc">Monitor achievements</div>
          <div class="notification-badge">6</div>
        </div>
        <div class="action-card" onclick="showSessionBooking()">
          <div class="action-icon">üìÖ</div>
          <div class="action-title">Session Booking</div>
          <div class="action-desc">Manage appointments</div>
          <div class="notification-badge">3</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Customer Support Section -->
  <div id="customerSupportSection" class="section" style="display: none;">
    <div class="section-header">
      <h2>Customer Support</h2>
      <button class="btn-secondary" onclick="backToDashboard()">Back to Dashboard</button>
    </div>
    
    <div class="support-tabs">
      <button class="tab-btn active" onclick="showSupportTab('tickets')">Tickets</button>
      <button class="tab-btn" onclick="showSupportTab('feedback')">Feedback</button>
      <button class="tab-btn" onclick="showSupportTab('history')">History</button>
      <button class="tab-btn" onclick="showSupportTab('new')">New Ticket</button>
    </div>
    
    <!-- Support Statistics -->
    <div class="support-stats">
      <div class="stat-card">
        <div class="stat-icon">üé´</div>
        <div class="stat-value" id="totalTickets">0</div>
        <div class="stat-label">Total Tickets</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üîì</div>
        <div class="stat-value" id="openTickets">0</div>
        <div class="stat-label">Open Tickets</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-value" id="resolvedTickets">0</div>
        <div class="stat-label">Resolved</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">‚≠ê</div>
        <div class="stat-value" id="averageRating">0</div>
        <div class="stat-label">Avg Rating</div>
      </div>
    </div>
    
    <!-- Tickets Tab -->
    <div id="ticketsTab" class="tab-content active">
      <div class="ticket-filters">
        <select id="statusFilter" onchange="filterTickets()">
          <option value="">All Status</option>
          <option value="open">Open</option>
          <option value="in_progress">In Progress</option>
          <option value="resolved">Resolved</option>
        </select>
        <select id="typeFilter" onchange="filterTickets()">
          <option value="">All Types</option>
          <option value="inquiry">Inquiry</option>
          <option value="complaint">Complaint</option>
          <option value="suggestion">Suggestion</option>
        </select>
        <select id="priorityFilter" onchange="filterTickets()">
          <option value="">All Priority</option>
          <option value="low">Low</option>
          <option value="medium">Medium</option>
          <option value="high">High</option>
        </select>
      </div>
      
      <div id="ticketsList" class="tickets-list"></div>
    </div>
    
    <!-- Feedback Tab -->
    <div id="feedbackTab" class="tab-content">
      <div class="feedback-filters">
        <select id="categoryFilter" onchange="filterFeedback()">
          <option value="">All Categories</option>
          <option value="facilities">Facilities</option>
          <option value="staff">Staff</option>
          <option value="classes">Classes</option>
          <option value="equipment">Equipment</option>
        </select>
        <select id="ratingFilter" onchange="filterFeedback()">
          <option value="">All Ratings</option>
          <option value="5">5 Stars</option>
          <option value="4">4 Stars</option>
          <option value="3">3 Stars</option>
          <option value="2">2 Stars</option>
          <option value="1">1 Star</option>
        </select>
      </div>
      
      <div id="feedbackList" class="feedback-list"></div>
    </div>
    
    <!-- History Tab -->
    <div id="historyTab" class="tab-content">
      <div class="history-search">
        <input type="text" id="memberIdSearch" placeholder="Enter Member ID" class="form-input">
        <button class="btn-primary" onclick="loadMemberHistory()">Search History</button>
      </div>
      
      <div id="memberHistory" class="member-history"></div>
    </div>
    
    <!-- New Ticket Tab -->
    <div id="newTab" class="tab-content">
      <div class="new-ticket-form">
        <h3>Create New Support Ticket</h3>
        <div class="form-grid">
          <input type="text" id="newMemberId" placeholder="Member ID" class="form-input" required>
          <input type="text" id="newMemberName" placeholder="Member Name" class="form-input" required>
          <select id="newTicketType" class="form-input" required>
            <option value="">Select Type</option>
            <option value="inquiry">Inquiry</option>
            <option value="complaint">Complaint</option>
            <option value="suggestion">Suggestion</option>
          </select>
          <select id="newPriority" class="form-input">
            <option value="low">Low Priority</option>
            <option value="medium" selected>Medium Priority</option>
            <option value="high">High Priority</option>
          </select>
        </div>
        <input type="text" id="newSubject" placeholder="Subject" class="form-input" required>
        <textarea id="newDescription" placeholder="Description" class="form-input" rows="4" required></textarea>
        <button class="btn-primary" onclick="createTicket()">Create Ticket</button>
      </div>
    </div>
  </div>
  
  <!-- Ticket Detail Modal -->
  <div id="ticketModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTicketSubject"></h3>
        <button class="close-btn" onclick="closeTicketModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="ticket-info">
          <div class="info-grid">
            <div><strong>Member:</strong> <span id="modalMemberName"></span></div>
            <div><strong>Type:</strong> <span id="modalTicketType"></span></div>
            <div><strong>Status:</strong> <span id="modalTicketStatus"></span></div>
            <div><strong>Priority:</strong> <span id="modalTicketPriority"></span></div>
          </div>
        </div>
        
        <div class="communications">
          <h4>Communication History</h4>
          <div id="modalCommunications" class="communications-list"></div>
        </div>
        
        <div class="new-message">
          <textarea id="newMessage" placeholder="Type your response..." class="form-input" rows="3"></textarea>
          <div class="message-actions">
            <button class="btn-primary" onclick="addMessage()">Send Message</button>
            <button class="btn-secondary" onclick="updateTicketStatus()">Update Status</button>
            <button class="btn-warning" onclick="escalateTicket()">Escalate</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Processing Section -->
  <div id="paymentProcessingSection" class="section" style="display: none;">
    <div class="section-header">
      <h2>Payment Processing</h2>
      <button class="btn-secondary" onclick="backToDashboard()">Back to Dashboard</button>
    </div>
    
    <div class="payment-tabs">
      <button class="tab-btn active" onclick="showPaymentTab('renewals')">Renewals</button>
      <button class="tab-btn" onclick="showPaymentTab('training')">Training</button>
      <button class="tab-btn" onclick="showPaymentTab('products')">Products</button>
      <button class="tab-btn" onclick="showPaymentTab('refunds')">Refunds</button>
      <button class="tab-btn" onclick="showPaymentTab('plans')">Payment Plans</button>
    </div>
    
    <!-- Membership Renewals Tab -->
    <div id="renewalsTab" class="tab-content active">
      <h3>Membership Renewals</h3>
      <div class="renewal-form">
        <select id="renewalMember" class="form-input">
          <option value="">Select Member</option>
        </select>
        <select id="renewalPlan" class="form-input">
          <option value="">Select Plan</option>
          <option value="basic">Basic - AED 200</option>
          <option value="standard">Standard - AED 300</option>
          <option value="premium">Premium - AED 450</option>
        </select>
        <select id="renewalMethod" class="form-input">
          <option value="card">Credit/Debit Card</option>
          <option value="cash">Cash</option>
          <option value="bank_transfer">Bank Transfer</option>
        </select>
        <button class="btn-primary" onclick="processRenewal()">Process Renewal</button>
      </div>
    </div>
    
    <!-- Personal Training Tab -->
    <div id="trainingTab" class="tab-content">
      <h3>Personal Training Fees</h3>
      <div class="training-form">
        <select id="trainingMember" class="form-input">
          <option value="">Select Member</option>
        </select>
        <select id="trainer" class="form-input">
          <option value="">Select Trainer</option>
          <option value="T001">Ahmed Al-Rashid</option>
          <option value="T002">Sarah Johnson</option>
          <option value="T003">Mike Wilson</option>
        </select>
        <input type="number" id="sessions" placeholder="Number of Sessions" class="form-input" min="1">
        <input type="number" id="sessionRate" placeholder="Rate per Session (AED)" class="form-input" value="150">
        <select id="trainingMethod" class="form-input">
          <option value="card">Credit/Debit Card</option>
          <option value="cash">Cash</option>
          <option value="bank_transfer">Bank Transfer</option>
        </select>
        <button class="btn-primary" onclick="processTrainingPayment()">Process Payment</button>
      </div>
    </div>
    
    <!-- Product Sales Tab -->
    <div id="productsTab" class="tab-content">
      <h3>Product Sales</h3>
      <div class="product-sale">
        <select id="productMember" class="form-input">
          <option value="">Select Member</option>
        </select>
        <div id="productList" class="product-list"></div>
        <div class="cart">
          <h4>Shopping Cart</h4>
          <div id="cartItems" class="cart-items"></div>
          <div class="cart-total">
            <strong>Total: AED <span id="cartTotal">0</span></strong>
          </div>
          <select id="productMethod" class="form-input">
            <option value="card">Credit/Debit Card</option>
            <option value="cash">Cash</option>
            <option value="bank_transfer">Bank Transfer</option>
          </select>
          <button class="btn-primary" onclick="processProductSale()">Process Sale</button>
        </div>
      </div>
    </div>
    
    <!-- Refunds Tab -->
    <div id="refundsTab" class="tab-content">
      <h3>Refund Processing</h3>
      <div class="refund-form">
        <select id="refundTransaction" class="form-input">
          <option value="">Select Transaction to Refund</option>
        </select>
        <input type="number" id="refundAmount" placeholder="Refund Amount (AED)" class="form-input">
        <textarea id="refundReason" placeholder="Reason for refund" class="form-input" rows="3"></textarea>
        <button class="btn-primary" onclick="processRefund()">Process Refund</button>
      </div>
    </div>
    
    <!-- Payment Plans Tab -->
    <div id="plansTab" class="tab-content">
      <h3>Payment Plans</h3>
      <div class="payment-plan-form">
        <h4>Create New Payment Plan</h4>
        <select id="planMember" class="form-input">
          <option value="">Select Member</option>
        </select>
        <input type="number" id="totalAmount" placeholder="Total Amount (AED)" class="form-input">
        <input type="number" id="installments" placeholder="Number of Installments" class="form-input" min="2" max="12">
        <input type="number" id="firstPayment" placeholder="First Payment (AED)" class="form-input">
        <button class="btn-primary" onclick="createPaymentPlan()">Create Payment Plan</button>
      </div>
      
      <div class="existing-plans">
        <h4>Existing Payment Plans</h4>
        <div id="paymentPlansList" class="plans-list"></div>
      </div>
    </div>
    
    <!-- Recent Transactions -->
    <div class="recent-transactions">
      <h3>Recent Transactions</h3>
      <div id="transactionsList" class="transactions-list"></div>
    </div>
  </div>

  <!-- New Registration Section -->
  <div id="newRegistrationSection" class="section" style="display: none;">
    <div class="section-header">
      <h2>New Member Registration</h2>
      <button class="btn-secondary" onclick="backToDashboard()">Back to Dashboard</button>
    </div>
    
    <div class="registration-steps">
      <div class="step active" id="step1">1. Personal Info</div>
      <div class="step" id="step2">2. Documents</div>
      <div class="step" id="step3">3. Payment</div>
      <div class="step" id="step4">4. Tour</div>
      <div class="step" id="step5">5. Complete</div>
    </div>
    
    <!-- Step 1: Personal Information -->
    <div id="personalInfoStep" class="registration-step active">
      <h3>Personal Information</h3>
      <div class="form-grid">
        <input type="text" id="firstName" placeholder="First Name" class="form-input" required>
        <input type="text" id="lastName" placeholder="Last Name" class="form-input" required>
        <input type="email" id="email" placeholder="Email Address" class="form-input" required>
        <input type="tel" id="phone" placeholder="Phone Number" class="form-input" required>
        <input type="date" id="dateOfBirth" class="form-input" required>
        <select id="gender" class="form-input" required>
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
        <input type="text" id="nationality" placeholder="Nationality" class="form-input" required>
        <input type="text" id="emiratesId" placeholder="Emirates ID" class="form-input" required>
      </div>
      
      <h4>Membership Plan</h4>
      <div id="membershipPlans" class="membership-plans"></div>
      
      <h4>Emergency Contact</h4>
      <div class="form-grid">
        <input type="text" id="emergencyName" placeholder="Emergency Contact Name" class="form-input" required>
        <input type="tel" id="emergencyPhone" placeholder="Emergency Contact Phone" class="form-input" required>
        <input type="text" id="emergencyRelation" placeholder="Relationship" class="form-input" required>
      </div>
      
      <button class="btn-primary" onclick="nextStep()">Next: Upload Documents</button>
    </div>
    
    <!-- Step 2: Document Upload -->
    <div id="documentsStep" class="registration-step">
      <h3>Document Upload</h3>
      <div class="document-upload">
        <div class="upload-item">
          <h4>Emirates ID (Required)</h4>
          <div class="upload-area" onclick="uploadDocument('emirates_id')">
            <div class="upload-icon">üìÑ</div>
            <p>Click to upload Emirates ID</p>
          </div>
          <div id="emiratesIdStatus" class="upload-status"></div>
        </div>
        
        <div class="upload-item">
          <h4>Profile Photo (Required)</h4>
          <div class="upload-area" onclick="uploadDocument('photo')">
            <div class="upload-icon">üì∑</div>
            <p>Click to upload profile photo</p>
          </div>
          <div id="photoStatus" class="upload-status"></div>
        </div>
        
        <div class="upload-item">
          <h4>Medical Certificate (Optional)</h4>
          <div class="upload-area" onclick="uploadDocument('medical')">
            <div class="upload-icon">üè•</div>
            <p>Click to upload medical certificate</p>
          </div>
          <div id="medicalStatus" class="upload-status"></div>
        </div>
      </div>
      
      <div class="step-buttons">
        <button class="btn-secondary" onclick="previousStep()">Previous</button>
        <button class="btn-primary" id="documentsNextBtn" onclick="nextStep()" disabled>Next: Payment</button>
      </div>
    </div>
    
    <!-- Step 3: Payment Processing -->
    <div id="paymentStep" class="registration-step">
      <h3>Payment Processing</h3>
      <div class="payment-summary">
        <h4>Payment Summary</h4>
        <div class="summary-item">
          <span>Membership Plan:</span>
          <span id="selectedPlanName"></span>
        </div>
        <div class="summary-item">
          <span>Monthly Fee:</span>
          <span id="selectedPlanPrice"></span>
        </div>
        <div class="summary-item">
          <span>Registration Fee:</span>
          <span>AED 100</span>
        </div>
        <div class="summary-total">
          <span>Total Amount:</span>
          <span id="totalAmount"></span>
        </div>
      </div>
      
      <div class="payment-methods">
        <h4>Payment Method</h4>
        <div class="payment-options">
          <label class="payment-option">
            <input type="radio" name="paymentMethod" value="card" checked>
            <span>üí≥ Credit/Debit Card</span>
          </label>
          <label class="payment-option">
            <input type="radio" name="paymentMethod" value="cash">
            <span>üíµ Cash</span>
          </label>
          <label class="payment-option">
            <input type="radio" name="paymentMethod" value="bank_transfer">
            <span>üè¶ Bank Transfer</span>
          </label>
        </div>
      </div>
      
      <div class="step-buttons">
        <button class="btn-secondary" onclick="previousStep()">Previous</button>
        <button class="btn-primary" onclick="processPayment()">Process Payment</button>
      </div>
    </div>
    
    <!-- Step 4: Tour Scheduling -->
    <div id="tourStep" class="registration-step">
      <h3>Schedule Gym Tour</h3>
      <p>Book a complimentary gym tour to familiarize yourself with our facilities</p>
      
      <div id="tourSlots" class="tour-slots"></div>
      
      <div class="step-buttons">
        <button class="btn-secondary" onclick="previousStep()">Previous</button>
        <button class="btn-primary" id="tourNextBtn" onclick="nextStep()" disabled>Next: Complete Registration</button>
      </div>
    </div>
    
    <!-- Step 5: Registration Complete -->
    <div id="completeStep" class="registration-step">
      <div class="completion-message">
        <div class="success-icon">üéâ</div>
        <h3>Welcome to Gymestry!</h3>
        <p>Your registration has been completed successfully.</p>
      </div>
      
      <div class="member-details">
        <h4>Your Membership Details</h4>
        <div class="detail-item">
          <span>Member ID:</span>
          <span id="newMemberId"></span>
        </div>
        <div class="detail-item">
          <span>QR Code:</span>
          <span id="newQrCode"></span>
        </div>
        <div class="detail-item">
          <span>Tour Date:</span>
          <span id="tourDetails"></span>
        </div>
      </div>
      
      <div class="welcome-package">
        <h4>Welcome Package</h4>
        <div class="package-items">
          <div class="package-item">üìÑ Membership Card</div>
          <div class="package-item">üìã Gym Rules Handbook</div>
          <div class="package-item">üìÖ Class Schedule</div>
          <div class="package-item">üíå Welcome Letter</div>
          <div class="package-item">üéüÔ∏è Discount Vouchers</div>
        </div>
      </div>
      
      <button class="btn-primary" onclick="startNewRegistration()">Register Another Member</button>
    </div>
  </div>

  <!-- Member Check-in Section -->
  <div id="memberCheckinSection" class="section" style="display: none;">
    <div class="section-header">
      <h2>Member Check-in</h2>
      <button class="btn-secondary" onclick="backToDashboard()">Back to Dashboard</button>
    </div>
    
    <div class="checkin-tabs">
      <button class="tab-btn active" onclick="showCheckinTab('qr')">QR Scan</button>
      <button class="tab-btn" onclick="showCheckinTab('manual')">Manual</button>
      <button class="tab-btn" onclick="showCheckinTab('guest')">Guest</button>
      <button class="tab-btn" onclick="showCheckinTab('active')">Active</button>
    </div>
    
    <!-- Capacity Status -->
    <div class="capacity-status">
      <div class="capacity-card">
        <h3>Current Capacity</h3>
        <div class="capacity-bar">
          <div class="capacity-fill" id="capacityFill"></div>
        </div>
        <div class="capacity-text">
          <span id="currentCount">45</span> / <span id="maxCapacity">150</span>
        </div>
      </div>
    </div>
    
    <!-- QR Scan Tab -->
    <div id="qrTab" class="tab-content active">
      <div class="qr-scanner">
        <div class="scanner-area">
          <div class="scanner-frame"></div>
          <p>Position QR code within the frame</p>
        </div>
        <input type="text" id="qrInput" placeholder="Or enter QR code manually" class="form-input">
        <button class="btn-primary" onclick="processQRCheckin()">Check In</button>
      </div>
    </div>
    
    <!-- Manual Check-in Tab -->
    <div id="manualTab" class="tab-content">
      <div class="manual-checkin">
        <input type="text" id="memberSearch" placeholder="Search member by name or ID" class="form-input">
        <div id="memberResults" class="search-results"></div>
        <button class="btn-primary" onclick="processManualCheckin()" disabled id="manualCheckinBtn">Check In Selected Member</button>
      </div>
    </div>
    
    <!-- Guest Registration Tab -->
    <div id="guestTab" class="tab-content">
      <div class="guest-form">
        <input type="text" id="guestName" placeholder="Guest Name" class="form-input">
        <input type="tel" id="guestPhone" placeholder="Phone Number" class="form-input">
        <input type="text" id="sponsorSearch" placeholder="Search sponsor member" class="form-input">
        <div id="sponsorResults" class="search-results"></div>
        <button class="btn-primary" onclick="processGuestCheckin()" disabled id="guestCheckinBtn">Register & Check In Guest</button>
      </div>
    </div>
    
    <!-- Active Check-ins Tab -->
    <div id="activeTab" class="tab-content">
      <div class="active-checkins">
        <div id="activeCheckinsList" class="checkins-list"></div>
      </div>
    </div>
  </div>

  <!-- Financial Reports System -->
  <div id="financial-reports" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üí∞ Financial Reports & Analytics</h2>
          <p><span class="live-indicator"></span>Comprehensive Financial Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showFinancialSection('revenue-tracking')">üí∞ Revenue</button>
        <button class="nav-btn" onclick="showFinancialSection('expense-tracking')">üí∏ Expenses</button>
        <button class="nav-btn" onclick="showFinancialSection('profit-loss')">üìà P&L</button>
        <button class="nav-btn" onclick="showFinancialSection('payment-status')">üí≥ Payments</button>
        <button class="nav-btn" onclick="showFinancialSection('vat-reporting')">üèõÔ∏è UAE VAT</button>
        <button class="nav-btn" onclick="showFinancialSection('budget-forecast')">üìä Budget</button>
      </div>
      
      <!-- Revenue Tracking Section -->
      <div id="revenue-tracking" class="financial-section">
        <div class="section-header">
          <h3>üí∞ Revenue & Income Tracking</h3>
          <button class="add-btn" onclick="generateFinancialReport('revenue')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 245,680</div>
            <div class="stat-label">Monthly Revenue</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">+15.2%</div>
            <div class="stat-label">Growth Rate</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">AED 159,192</div>
            <div class="stat-label">Membership Revenue</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí™</div>
            <div class="stat-value">AED 61,420</div>
            <div class="stat-label">Training Revenue</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üìä Revenue Trend Analysis</h3>
          <canvas id="revenueTrackingChart" width="400" height="200"></canvas>
        </div>
        
        <div class="revenue-breakdown">
          <h4>Revenue Sources Breakdown</h4>
          <div class="breakdown-grid">
            <div class="breakdown-item">
              <span class="breakdown-label">Membership Fees</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" style="width: 65%"></div>
              </div>
              <span class="breakdown-value">65% - AED 159,692</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Personal Training</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" style="width: 25%"></div>
              </div>
              <span class="breakdown-value">25% - AED 61,420</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Products & Supplements</span>
              <div class="breakdown-bar">
                <div class="breakdown-fill" style="width: 10%"></div>
              </div>
              <span class="breakdown-value">10% - AED 24,568</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Expense Tracking Section -->
      <div id="expense-tracking" class="financial-section" style="display:none;">
        <div class="section-header">
          <h3>üí∏ Expense Management</h3>
          <button class="add-btn" onclick="generateFinancialReport('expenses')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üí∏</div>
            <div class="stat-value">AED 156,420</div>
            <div class="stat-label">Monthly Expenses</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë®üíº</div>
            <div class="stat-value">AED 70,389</div>
            <div class="stat-label">Staff Salaries</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üè¢</div>
            <div class="stat-value">AED 46,926</div>
            <div class="stat-label">Rent & Utilities</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üèãÔ∏è</div>
            <div class="stat-value">AED 23,463</div>
            <div class="stat-label">Equipment</div>
          </div>
        </div>
        
        <div class="expense-table">
          <div class="table-header">
            <span>Category</span>
            <span>Budget</span>
            <span>Actual</span>
            <span>Variance</span>
            <span>%</span>
          </div>
          <div class="table-row">
            <span>Staff Salaries</span>
            <span>AED 75,000</span>
            <span>AED 70,389</span>
            <span class="positive">-AED 4,611</span>
            <span>45%</span>
          </div>
          <div class="table-row">
            <span>Rent & Utilities</span>
            <span>AED 45,000</span>
            <span>AED 46,926</span>
            <span class="negative">+AED 1,926</span>
            <span>30%</span>
          </div>
          <div class="table-row">
            <span>Equipment & Maintenance</span>
            <span>AED 25,000</span>
            <span>AED 23,463</span>
            <span class="positive">-AED 1,537</span>
            <span>15%</span>
          </div>
          <div class="table-row">
            <span>Marketing & Advertising</span>
            <span>AED 18,000</span>
            <span>AED 15,642</span>
            <span class="positive">-AED 2,358</span>
            <span>10%</span>
          </div>
        </div>
      </div>
      
      <!-- Profit & Loss Section -->
      <div id="profit-loss" class="financial-section" style="display:none;">
        <div class="section-header">
          <h3>üìà Profit & Loss Statement</h3>
          <button class="add-btn" onclick="generateFinancialReport('profit-loss')">Generate P&L</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 245,680</div>
            <div class="stat-label">Total Revenue</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∏</div>
            <div class="stat-value">AED 156,420</div>
            <div class="stat-label">Total Expenses</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">AED 89,260</div>
            <div class="stat-label">Gross Profit</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">36.3%</div>
            <div class="stat-label">Profit Margin</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üìä Quarterly Profit & Loss Analysis</h3>
          <canvas id="profitLossChart" width="400" height="200"></canvas>
        </div>
        
        <div class="pl-statement">
          <h4>Monthly P&L Statement - December 2024</h4>
          <div class="pl-table">
            <div class="pl-section">
              <h5>REVENUE</h5>
              <div class="pl-item">
                <span>Membership Fees</span>
                <span>AED 159,692</span>
              </div>
              <div class="pl-item">
                <span>Personal Training</span>
                <span>AED 61,420</span>
              </div>
              <div class="pl-item">
                <span>Products & Supplements</span>
                <span>AED 24,568</span>
              </div>
              <div class="pl-total">
                <span><strong>Total Revenue</strong></span>
                <span><strong>AED 245,680</strong></span>
              </div>
            </div>
            
            <div class="pl-section">
              <h5>EXPENSES</h5>
              <div class="pl-item">
                <span>Staff Salaries</span>
                <span>AED 70,389</span>
              </div>
              <div class="pl-item">
                <span>Rent & Utilities</span>
                <span>AED 46,926</span>
              </div>
              <div class="pl-item">
                <span>Equipment & Maintenance</span>
                <span>AED 23,463</span>
              </div>
              <div class="pl-item">
                <span>Marketing</span>
                <span>AED 15,642</span>
              </div>
              <div class="pl-total">
                <span><strong>Total Expenses</strong></span>
                <span><strong>AED 156,420</strong></span>
              </div>
            </div>
            
            <div class="pl-section">
              <div class="pl-final">
                <span><strong>NET PROFIT</strong></span>
                <span><strong>AED 89,260</strong></span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Payment Status Section -->
      <div id="payment-status" class="financial-section" style="display:none;">
        <div class="section-header">
          <h3>üí≥ Member Payment Status</h3>
          <button class="add-btn" onclick="alert('Payment reminder sent to overdue members')">Send Reminders</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">1,156</div>
            <div class="stat-label">Paid Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è∞</div>
            <div class="stat-value">78</div>
            <div class="stat-label">Overdue Payments</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 23,400</div>
            <div class="stat-label">Outstanding Amount</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">93.7%</div>
            <div class="stat-label">Collection Rate</div>
          </div>
        </div>
        
        <div class="payment-table">
          <div class="table-header">
            <span>Member</span>
            <span>Plan</span>
            <span>Amount</span>
            <span>Due Date</span>
            <span>Status</span>
          </div>
          <div class="table-row">
            <span>Ahmed Al-Mansouri</span>
            <span>Premium Annual</span>
            <span>AED 2,400</span>
            <span>Dec 15, 2024</span>
            <span class="status paid">‚úÖ Paid</span>
          </div>
          <div class="table-row">
            <span>Sarah Johnson</span>
            <span>Standard Monthly</span>
            <span>AED 300</span>
            <span>Dec 20, 2024</span>
            <span class="status overdue">‚è∞ Overdue</span>
          </div>
          <div class="table-row">
            <span>Mike Chen</span>
            <span>Premium Monthly</span>
            <span>AED 450</span>
            <span>Dec 25, 2024</span>
            <span class="status pending">‚è≥ Pending</span>
          </div>
          <div class="table-row">
            <span>Lisa Park</span>
            <span>Basic Monthly</span>
            <span>AED 200</span>
            <span>Dec 10, 2024</span>
            <span class="status paid">‚úÖ Paid</span>
          </div>
        </div>
      </div>
      
      <!-- UAE VAT Reporting Section -->
      <div id="vat-reporting" class="financial-section" style="display:none;">
        <div class="section-header">
          <h3>üèõÔ∏è UAE VAT Reporting</h3>
          <button class="add-btn" onclick="generateFinancialReport('vat')">Generate VAT Return</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">5%</div>
            <div class="stat-label">VAT Rate</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 12,284</div>
            <div class="stat-label">VAT Collected</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∏</div>
            <div class="stat-value">AED 7,821</div>
            <div class="stat-label">VAT Paid</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üèõÔ∏è</div>
            <div class="stat-value">AED 4,463</div>
            <div class="stat-label">Net VAT Due</div>
          </div>
        </div>
        
        <div class="vat-breakdown">
          <h4>VAT Breakdown - Q4 2024</h4>
          <div class="vat-table">
            <div class="vat-section">
              <h5>OUTPUT VAT (Sales)</h5>
              <div class="vat-item">
                <span>Membership Fees (Standard Rated)</span>
                <span>AED 159,692</span>
                <span>AED 7,985</span>
              </div>
              <div class="vat-item">
                <span>Personal Training (Standard Rated)</span>
                <span>AED 61,420</span>
                <span>AED 3,071</span>
              </div>
              <div class="vat-item">
                <span>Products (Standard Rated)</span>
                <span>AED 24,568</span>
                <span>AED 1,228</span>
              </div>
              <div class="vat-total">
                <span><strong>Total Output VAT</strong></span>
                <span><strong>AED 245,680</strong></span>
                <span><strong>AED 12,284</strong></span>
              </div>
            </div>
            
            <div class="vat-section">
              <h5>INPUT VAT (Purchases)</h5>
              <div class="vat-item">
                <span>Equipment Purchases</span>
                <span>AED 78,210</span>
                <span>AED 3,911</span>
              </div>
              <div class="vat-item">
                <span>Utilities & Services</span>
                <span>AED 46,926</span>
                <span>AED 2,346</span>
              </div>
              <div class="vat-item">
                <span>Marketing & Advertising</span>
                <span>AED 31,284</span>
                <span>AED 1,564</span>
              </div>
              <div class="vat-total">
                <span><strong>Total Input VAT</strong></span>
                <span><strong>AED 156,420</strong></span>
                <span><strong>AED 7,821</strong></span>
              </div>
            </div>
            
            <div class="vat-section">
              <div class="vat-final">
                <span><strong>NET VAT PAYABLE</strong></span>
                <span><strong>AED 4,463</strong></span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Budget Forecasting Section -->
      <div id="budget-forecast" class="financial-section" style="display:none;">
        <div class="section-header">
          <h3>üìä Budget Forecasting</h3>
          <button class="add-btn" onclick="generateFinancialReport('budget')">Generate Forecast</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-value">AED 3.2M</div>
            <div class="stat-label">2025 Target</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">+18%</div>
            <div class="stat-label">Growth Target</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">-2.3%</div>
            <div class="stat-label">Budget Variance</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 280K</div>
            <div class="stat-label">Q1 Forecast</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üìä Revenue Source Distribution</h3>
          <canvas id="budgetChart" width="400" height="200"></canvas>
        </div>
        
        <div class="forecast-table">
          <h4>2025 Budget Forecast</h4>
          <div class="table-header">
            <span>Quarter</span>
            <span>Revenue Target</span>
            <span>Expense Budget</span>
            <span>Profit Target</span>
            <span>Growth %</span>
          </div>
          <div class="table-row">
            <span>Q1 2025</span>
            <span>AED 780,000</span>
            <span>AED 520,000</span>
            <span>AED 260,000</span>
            <span>+15%</span>
          </div>
          <div class="table-row">
            <span>Q2 2025</span>
            <span>AED 820,000</span>
            <span>AED 540,000</span>
            <span>AED 280,000</span>
            <span>+18%</span>
          </div>
          <div class="table-row">
            <span>Q3 2025</span>
            <span>AED 860,000</span>
            <span>AED 560,000</span>
            <span>AED 300,000</span>
            <span>+20%</span>
          </div>
          <div class="table-row">
            <span>Q4 2025</span>
            <span>AED 900,000</span>
            <span>AED 580,000</span>
            <span>AED 320,000</span>
            <span>+22%</span>
          </div>
        </div>
      </div>
      
      <div class="export-section">
        <h4>üìÑ Export Financial Data</h4>
        <div class="export-buttons">
          <button class="export-btn" onclick="exportFinancialData('pdf')">üìÑ Export PDF</button>
          <button class="export-btn" onclick="exportFinancialData('xlsx')">üìä Export Excel</button>
          <button class="export-btn" onclick="exportFinancialData('csv')">üìã Export CSV</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Member Analytics System -->
  <div id="member-analytics" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üìä Member Analytics & Insights</h2>
          <p><span class="live-indicator"></span>Advanced Member Intelligence</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showAnalyticsSection('growth-retention')">üìà Growth</button>
        <button class="nav-btn" onclick="showAnalyticsSection('churn-prediction')">‚ö†Ô∏è Churn</button>
        <button class="nav-btn" onclick="showAnalyticsSection('usage-patterns')">üìä Usage</button>
        <button class="nav-btn" onclick="showAnalyticsSection('lifetime-value')">üí∞ LTV</button>
        <button class="nav-btn" onclick="showAnalyticsSection('demographics')">üë• Demographics</button>
      </div>
      
      <!-- Growth & Retention Section -->
      <div id="growth-retention" class="analytics-section">
        <div class="section-header">
          <h3>üìà Growth & Retention Analysis</h3>
          <button class="add-btn" onclick="alert('üìà Growth Analysis Report\n\n‚Ä¢ Monthly Growth Rate: +12.3%\n‚Ä¢ New Members: 742 YTD\n‚Ä¢ Retention Rate: 87.5%\n‚Ä¢ Churn Rate: 12.5%\n‚Ä¢ Net Growth: +628 members')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">+12.3%</div>
            <div class="stat-label">Monthly Growth</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üîÑ</div>
            <div class="stat-value">87.5%</div>
            <div class="stat-label">Retention Rate</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">742</div>
            <div class="stat-label">New Members YTD</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìâ</div>
            <div class="stat-value">12.5%</div>
            <div class="stat-label">Churn Rate</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üìä Member Growth vs Churn Trend</h3>
          <canvas id="growthChart" width="400" height="200"></canvas>
        </div>
      </div>
      
      <!-- Churn Prediction Section -->
      <div id="churn-prediction" class="analytics-section" style="display:none;">
        <div class="section-header">
          <h3>‚ö†Ô∏è Churn Prediction & Risk Analysis</h3>
          <button class="add-btn" onclick="alert('‚ö†Ô∏è Churn Prediction Report\n\n‚Ä¢ High Risk Members: 62 (5%)\n‚Ä¢ Medium Risk: 247 (20%)\n‚Ä¢ Predicted Churn: 15.2%\n‚Ä¢ Intervention Needed: 62 members\n‚Ä¢ Revenue at Risk: AED 18,600')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">‚ö†Ô∏è</div>
            <div class="stat-value">62</div>
            <div class="stat-label">High Risk Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìâ</div>
            <div class="stat-value">15.2%</div>
            <div class="stat-label">Predicted Churn</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 18,600</div>
            <div class="stat-label">Revenue at Risk</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-value">85%</div>
            <div class="stat-label">Prediction Accuracy</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üéØ Churn Risk Distribution</h3>
          <canvas id="churnChart" width="400" height="200"></canvas>
        </div>
      </div>
      
      <!-- Usage Patterns Section -->
      <div id="usage-patterns" class="analytics-section" style="display:none;">
        <div class="section-header">
          <h3>üìä Usage Patterns & Behavior</h3>
          <button class="add-btn" onclick="alert('üìä Usage Pattern Analysis\n\n‚Ä¢ Peak Hours: 6-9 PM (avg 215 members)\n‚Ä¢ Off-Peak: 10 AM-4 PM (avg 85 members)\n‚Ä¢ Busiest Day: Friday\n‚Ä¢ Equipment Utilization: 78%\n‚Ä¢ Class Attendance: 92%')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">‚è∞</div>
            <div class="stat-value">6-9 PM</div>
            <div class="stat-label">Peak Hours</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìÖ</div>
            <div class="stat-value">Friday</div>
            <div class="stat-label">Busiest Day</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üèãÔ∏è</div>
            <div class="stat-value">78%</div>
            <div class="stat-label">Equipment Usage</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-value">3.2</div>
            <div class="stat-label">Avg Visits/Week</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üìä Weekly Usage Patterns</h3>
          <canvas id="usageChart" width="400" height="200"></canvas>
        </div>
      </div>
      
      <!-- Lifetime Value Section -->
      <div id="lifetime-value" class="analytics-section" style="display:none;">
        <div class="section-header">
          <h3>üí∞ Lifetime Value Analysis</h3>
          <button class="add-btn" onclick="alert('üí∞ Lifetime Value Analysis\n\n‚Ä¢ Average LTV: AED 4,250\n‚Ä¢ High-Value Segment: AED 8,500+\n‚Ä¢ LTV Growth: +18% YoY\n‚Ä¢ Payback Period: 8.2 months\n‚Ä¢ Revenue per Member: AED 295/month')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 4,250</div>
            <div class="stat-label">Average LTV</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚≠ê</div>
            <div class="stat-value">AED 8,500</div>
            <div class="stat-label">High-Value LTV</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">+18%</div>
            <div class="stat-label">LTV Growth YoY</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è±Ô∏è</div>
            <div class="stat-value">8.2 months</div>
            <div class="stat-label">Payback Period</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üí∞ LTV vs Member Tenure</h3>
          <canvas id="ltvChart" width="400" height="200"></canvas>
        </div>
      </div>
      
      <!-- Demographics Section -->
      <div id="demographics" class="analytics-section" style="display:none;">
        <div class="section-header">
          <h3>üë• Demographic Analysis</h3>
          <button class="add-btn" onclick="alert('üë• Demographic Report\n\n‚Ä¢ Age Distribution: 26-35 (42%)\n‚Ä¢ Gender Split: 58% Male, 42% Female\n‚Ä¢ Nationality: 65% UAE, 35% Expat\n‚Ä¢ Income Level: 70% High Income\n‚Ä¢ Education: 85% University+')">Generate Report</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë®</div>
            <div class="stat-value">58%</div>
            <div class="stat-label">Male Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë©</div>
            <div class="stat-value">42%</div>
            <div class="stat-label">Female Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéÇ</div>
            <div class="stat-value">26-35</div>
            <div class="stat-label">Dominant Age Group</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üá¶üá™</div>
            <div class="stat-value">65%</div>
            <div class="stat-label">UAE Nationals</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üë• Age & Gender Distribution</h3>
          <canvas id="demographicsChart" width="400" height="200"></canvas>
        </div>
      </div>
      
      <div class="export-section">
        <h4>üìä Export Analytics Data</h4>
        <div class="export-buttons">
          <button class="export-btn" onclick="alert('üìä Member Analytics Exported!\n\nFormat: PDF\nFiles Generated:\n‚Ä¢ Growth_Retention_Analysis.pdf\n‚Ä¢ Churn_Prediction_Report.pdf\n‚Ä¢ Usage_Patterns.pdf\n‚Ä¢ LTV_Analysis.pdf\n‚Ä¢ Demographics_Report.pdf\n\nSaved to Downloads folder.')">üìÑ Export PDF</button>
          <button class="export-btn" onclick="alert('üìä Member Analytics Exported!\n\nFormat: XLSX\nFiles Generated:\n‚Ä¢ Growth_Retention_Analysis.xlsx\n‚Ä¢ Churn_Prediction_Report.xlsx\n‚Ä¢ Usage_Patterns.xlsx\n‚Ä¢ LTV_Analysis.xlsx\n‚Ä¢ Demographics_Report.xlsx\n\nSaved to Downloads folder.')">üìä Export Excel</button>
          <button class="export-btn" onclick="alert('üìä Member Analytics Exported!\n\nFormat: CSV\nFiles Generated:\n‚Ä¢ Growth_Retention_Analysis.csv\n‚Ä¢ Churn_Prediction_Report.csv\n‚Ä¢ Usage_Patterns.csv\n‚Ä¢ LTV_Analysis.csv\n‚Ä¢ Demographics_Report.csv\n\nSaved to Downloads folder.')">üìã Export CSV</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Business Settings System -->
  <div id="business-settings" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>‚öôÔ∏è Business Settings & Configuration</h2>
          <p><span class="live-indicator"></span>Gym Operations Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showSettingsSection('membership-pricing')">üí∞ Pricing</button>
        <button class="nav-btn" onclick="showSettingsSection('class-schedules')">üìÖ Classes</button>
        <button class="nav-btn" onclick="showSettingsSection('equipment-management')">üèãÔ∏è Equipment</button>
        <button class="nav-btn" onclick="showSettingsSection('branch-settings')">üè¢ Branches</button>
        <button class="nav-btn" onclick="showSettingsSection('policy-management')">üìã Policies</button>
      </div>
      
      <!-- Membership Pricing Section -->
      <div id="membership-pricing" class="settings-section">
        <div class="section-header">
          <h3>üí∞ Membership Pricing</h3>
          <button class="add-btn" onclick="alert('New membership plan added!')">+ Add Plan</button>
        </div>
        
        <div class="pricing-grid">
          <div class="pricing-card">
            <h4>Basic Monthly</h4>
            <div class="price">AED 200<span>/month</span></div>
            <ul>
              <li>‚úÖ Gym Access</li>
              <li>‚úÖ Basic Equipment</li>
              <li>‚ùå Classes</li>
              <li>‚ùå Personal Training</li>
            </ul>
            <button class="edit-btn" onclick="alert('Edit Basic Plan')">Edit Plan</button>
          </div>
          
          <div class="pricing-card popular">
            <div class="popular-badge">Most Popular</div>
            <h4>Standard Monthly</h4>
            <div class="price">AED 300<span>/month</span></div>
            <ul>
              <li>‚úÖ Gym Access</li>
              <li>‚úÖ All Equipment</li>
              <li>‚úÖ Group Classes</li>
              <li>‚ùå Personal Training</li>
            </ul>
            <button class="edit-btn" onclick="alert('Edit Standard Plan')">Edit Plan</button>
          </div>
          
          <div class="pricing-card">
            <h4>Premium Monthly</h4>
            <div class="price">AED 450<span>/month</span></div>
            <ul>
              <li>‚úÖ Gym Access</li>
              <li>‚úÖ All Equipment</li>
              <li>‚úÖ Group Classes</li>
              <li>‚úÖ 4 PT Sessions</li>
            </ul>
            <button class="edit-btn" onclick="alert('Edit Premium Plan')">Edit Plan</button>
          </div>
        </div>
      </div>
      
      <!-- Class Schedules Section -->
      <div id="class-schedules" class="settings-section" style="display:none;">
        <div class="section-header">
          <h3>üìÖ Class Schedules</h3>
          <button class="add-btn" onclick="alert('New class scheduled!')">+ Add Class</button>
        </div>
        
        <div class="schedule-table">
          <div class="table-header">
            <span>Time</span>
            <span>Monday</span>
            <span>Tuesday</span>
            <span>Wednesday</span>
            <span>Thursday</span>
            <span>Friday</span>
          </div>
          <div class="table-row">
            <span>6:00 AM</span>
            <span class="class-slot">Yoga</span>
            <span class="class-slot">HIIT</span>
            <span class="class-slot">Yoga</span>
            <span class="class-slot">HIIT</span>
            <span class="class-slot">Yoga</span>
          </div>
          <div class="table-row">
            <span>7:00 AM</span>
            <span class="class-slot">Cardio</span>
            <span class="class-slot">Strength</span>
            <span class="class-slot">Cardio</span>
            <span class="class-slot">Strength</span>
            <span class="class-slot">Cardio</span>
          </div>
          <div class="table-row">
            <span>6:00 PM</span>
            <span class="class-slot">Zumba</span>
            <span class="class-slot">Boxing</span>
            <span class="class-slot">Zumba</span>
            <span class="class-slot">Boxing</span>
            <span class="class-slot">Zumba</span>
          </div>
        </div>
      </div>
      
      <!-- Equipment Management Section -->
      <div id="equipment-management" class="settings-section" style="display:none;">
        <div class="section-header">
          <h3>üèãÔ∏è Equipment Management</h3>
          <button class="add-btn" onclick="alert('New equipment added!')">+ Add Equipment</button>
        </div>
        
        <div class="equipment-grid">
          <div class="equipment-card">
            <div class="equipment-status active">üü¢ Active</div>
            <h4>Treadmill #1</h4>
            <p>Last Maintenance: Dec 1, 2024</p>
            <p>Usage: 89%</p>
            <button class="maintenance-btn" onclick="alert('Maintenance scheduled')">Schedule Maintenance</button>
          </div>
          
          <div class="equipment-card">
            <div class="equipment-status maintenance">üü° Maintenance</div>
            <h4>Bench Press #2</h4>
            <p>Last Maintenance: Nov 28, 2024</p>
            <p>Usage: 0%</p>
            <button class="maintenance-btn" onclick="alert('Mark as active')">Mark Active</button>
          </div>
          
          <div class="equipment-card">
            <div class="equipment-status active">üü¢ Active</div>
            <h4>Rowing Machine #3</h4>
            <p>Last Maintenance: Nov 15, 2024</p>
            <p>Usage: 67%</p>
            <button class="maintenance-btn" onclick="alert('Maintenance scheduled')">Schedule Maintenance</button>
          </div>
        </div>
      </div>
      
      <!-- Branch Settings Section -->
      <div id="branch-settings" class="settings-section" style="display:none;">
        <div class="section-header">
          <h3>üè¢ Branch Settings</h3>
          <button class="add-btn" onclick="alert('New branch added!')">+ Add Branch</button>
        </div>
        
        <div class="branch-grid">
          <div class="branch-card">
            <h4>üè¢ Dubai Marina Branch</h4>
            <div class="branch-details">
              <p><strong>Address:</strong> Marina Walk, Dubai</p>
              <p><strong>Hours:</strong> 5:00 AM - 11:00 PM</p>
              <p><strong>Capacity:</strong> 200 members</p>
              <p><strong>Staff:</strong> 12 employees</p>
            </div>
            <button class="edit-btn" onclick="alert('Edit branch settings')">Edit Settings</button>
          </div>
          
          <div class="branch-card">
            <h4>üè¢ JBR Branch</h4>
            <div class="branch-details">
              <p><strong>Address:</strong> JBR Beach Road, Dubai</p>
              <p><strong>Hours:</strong> 6:00 AM - 10:00 PM</p>
              <p><strong>Capacity:</strong> 150 members</p>
              <p><strong>Staff:</strong> 8 employees</p>
            </div>
            <button class="edit-btn" onclick="alert('Edit branch settings')">Edit Settings</button>
          </div>
        </div>
      </div>
      
      <!-- Policy Management Section -->
      <div id="policy-management" class="settings-section" style="display:none;">
        <div class="section-header">
          <h3>üìã Policy Management</h3>
          <button class="add-btn" onclick="alert('New policy created!')">+ Add Policy</button>
        </div>
        
        <div class="policy-list">
          <div class="policy-item">
            <h4>üîí Membership Cancellation Policy</h4>
            <p>Members must provide 30 days written notice for cancellation. Refunds processed within 7 business days.</p>
            <div class="policy-actions">
              <button onclick="alert('Edit policy')">‚úèÔ∏è Edit</button>
              <button onclick="alert('Policy published')">üì¢ Publish</button>
            </div>
          </div>
          
          <div class="policy-item">
            <h4>‚è∞ Late Payment Policy</h4>
            <p>Grace period of 7 days after due date. AED 50 late fee applies. Access suspended after 14 days.</p>
            <div class="policy-actions">
              <button onclick="alert('Edit policy')">‚úèÔ∏è Edit</button>
              <button onclick="alert('Policy published')">üì¢ Publish</button>
            </div>
          </div>
          
          <div class="policy-item">
            <h4>üèãÔ∏è Equipment Usage Policy</h4>
            <p>Maximum 30 minutes on cardio equipment during peak hours. Proper attire required at all times.</p>
            <div class="policy-actions">
              <button onclick="alert('Edit policy')">‚úèÔ∏è Edit</button>
              <button onclick="alert('Policy published')">üì¢ Publish</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Class Scheduling System -->
  <div id="class-scheduling" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üìÖ Class Scheduling System</h2>
          <p><span class="live-indicator"></span>Smart Class Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showClassSection('class-overview')">üìÖ Classes</button>
        <button class="nav-btn" onclick="showClassSection('booking-management')">üìù Bookings</button>
        <button class="nav-btn" onclick="showClassSection('waitlist-management')">‚è≥ Waitlist</button>
        <button class="nav-btn" onclick="showClassSection('attendance-tracking')">‚úÖ Attendance</button>
        <button class="nav-btn" onclick="showClassSection('instructor-schedule')">üë®‚Äçüè´ Instructors</button>
      </div>
      
      <!-- Class Overview Section -->
      <div id="class-overview" class="class-section">
        <div class="section-header">
          <h3>üìÖ Class Schedule Overview</h3>
          <button class="add-btn" onclick="addClass()">+ Add Class</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìÖ</div>
            <div class="stat-value">24</div>
            <div class="stat-label">Classes Today</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">312</div>
            <div class="stat-label">Total Bookings</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è≥</div>
            <div class="stat-value">28</div>
            <div class="stat-label">Waitlist Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">87%</div>
            <div class="stat-label">Capacity Utilization</div>
          </div>
        </div>
        
        <div id="class-list" class="class-grid">
          <div class="class-card">
            <div class="class-header">
              <h4>Morning Yoga</h4>
              <span class="class-status active">Active</span>
            </div>
            <div class="class-details">
              <p><strong>Instructor:</strong> Sarah Johnson</p>
              <p><strong>Time:</strong> 07:00 - 08:00</p>
              <p><strong>Capacity:</strong> 15/20</p>
              <p><strong>Room:</strong> Studio A</p>
              <p><strong>Price:</strong> AED 50</p>
            </div>
            <div class="class-actions">
              <button onclick="editClass(this)">‚úèÔ∏è</button>
              <button onclick="viewBookings(this)">üë•</button>
              <button onclick="cancelClass(this)">‚ùå</button>
            </div>
          </div>
          
          <div class="class-card">
            <div class="class-header">
              <h4>HIIT Training</h4>
              <span class="class-status full">Full</span>
            </div>
            <div class="class-details">
              <p><strong>Instructor:</strong> Mike Wilson</p>
              <p><strong>Time:</strong> 18:00 - 18:45</p>
              <p><strong>Capacity:</strong> 15/15</p>
              <p><strong>Room:</strong> Gym Floor</p>
              <p><strong>Price:</strong> AED 75</p>
            </div>
            <div class="class-actions">
              <button onclick="editClass(this)">‚úèÔ∏è</button>
              <button onclick="viewBookings(this)">üë•</button>
              <button onclick="cancelClass(this)">‚ùå</button>
            </div>
          </div>
          
          <div class="class-card">
            <div class="class-header">
              <h4>Strength Training</h4>
              <span class="class-status active">Active</span>
            </div>
            <div class="class-details">
              <p><strong>Instructor:</strong> Ahmed Al-Rashid</p>
              <p><strong>Time:</strong> 19:00 - 20:00</p>
              <p><strong>Capacity:</strong> 8/12</p>
              <p><strong>Room:</strong> Weight Room</p>
              <p><strong>Price:</strong> AED 60</p>
            </div>
            <div class="class-actions">
              <button onclick="editClass(this)">‚úèÔ∏è</button>
              <button onclick="viewBookings(this)">üë•</button>
              <button onclick="cancelClass(this)">‚ùå</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Booking Management Section -->
      <div id="booking-management" class="class-section" style="display:none;">
        <div class="section-header">
          <h3>üìù Booking Management</h3>
          <button class="add-btn" onclick="addBooking()">+ New Booking</button>
        </div>
        
        <div class="booking-table">
          <div class="table-header">
            <span>Member</span>
            <span>Class</span>
            <span>Date & Time</span>
            <span>Status</span>
            <span>Actions</span>
          </div>
          <div class="table-row">
            <span>Ahmed Al-Rashid</span>
            <span>Morning Yoga</span>
            <span>Jan 15, 07:00</span>
            <span class="booking-status confirmed">‚úÖ Confirmed</span>
            <button class="cancel-btn" onclick="cancelBooking(this)">Cancel</button>
          </div>
          <div class="table-row">
            <span>Fatima Hassan</span>
            <span>HIIT Training</span>
            <span>Jan 15, 18:00</span>
            <span class="booking-status confirmed">‚úÖ Confirmed</span>
            <button class="cancel-btn" onclick="cancelBooking(this)">Cancel</button>
          </div>
          <div class="table-row">
            <span>Omar Khalil</span>
            <span>HIIT Training</span>
            <span>Jan 15, 18:00</span>
            <span class="booking-status waitlist">‚è≥ Waitlist</span>
            <button class="cancel-btn" onclick="cancelBooking(this)">Cancel</button>
          </div>
        </div>
      </div>
      
      <!-- Waitlist Management Section -->
      <div id="waitlist-management" class="class-section" style="display:none;">
        <div class="section-header">
          <h3>‚è≥ Waitlist Management</h3>
          <button class="add-btn" onclick="processWaitlist()">Process Waitlist</button>
        </div>
        
        <div class="waitlist-grid">
          <div class="waitlist-card">
            <div class="class-info">
              <h4>HIIT Training - Jan 15, 18:00</h4>
              <p>Instructor: Mike Wilson</p>
              <p>Waitlist: 5 members</p>
            </div>
            <div class="waitlist-members">
              <div class="waitlist-member">
                <span>1. Omar Khalil</span>
                <button onclick="confirmFromWaitlist(this)">‚úÖ Confirm</button>
              </div>
              <div class="waitlist-member">
                <span>2. Lisa Park</span>
                <button onclick="confirmFromWaitlist(this)">‚úÖ Confirm</button>
              </div>
              <div class="waitlist-member">
                <span>3. David Chen</span>
                <button onclick="confirmFromWaitlist(this)">‚úÖ Confirm</button>
              </div>
            </div>
          </div>
          
          <div class="waitlist-card">
            <div class="class-info">
              <h4>Morning Yoga - Jan 16, 07:00</h4>
              <p>Instructor: Sarah Johnson</p>
              <p>Waitlist: 2 members</p>
            </div>
            <div class="waitlist-members">
              <div class="waitlist-member">
                <span>1. Emma Wilson</span>
                <button onclick="confirmFromWaitlist(this)">‚úÖ Confirm</button>
              </div>
              <div class="waitlist-member">
                <span>2. John Smith</span>
                <button onclick="confirmFromWaitlist(this)">‚úÖ Confirm</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Attendance Tracking Section -->
      <div id="attendance-tracking" class="class-section" style="display:none;">
        <div class="section-header">
          <h3>‚úÖ Attendance Tracking</h3>
          <button class="add-btn" onclick="exportAttendance()">Export Report</button>
        </div>
        
        <div class="attendance-grid">
          <div class="attendance-card">
            <div class="class-header">
              <h4>Morning Yoga - Jan 15, 07:00</h4>
              <span class="attendance-rate">13/15 Present (87%)</span>
            </div>
            <div class="attendance-list">
              <div class="attendance-item">
                <span>Ahmed Al-Rashid</span>
                <button class="attendance-btn present" onclick="toggleAttendance(this)">‚úÖ Present</button>
              </div>
              <div class="attendance-item">
                <span>Fatima Hassan</span>
                <button class="attendance-btn absent" onclick="toggleAttendance(this)">‚ùå Absent</button>
              </div>
              <div class="attendance-item">
                <span>Sarah Johnson</span>
                <button class="attendance-btn present" onclick="toggleAttendance(this)">‚úÖ Present</button>
              </div>
            </div>
          </div>
          
          <div class="attendance-card">
            <div class="class-header">
              <h4>HIIT Training - Jan 15, 18:00</h4>
              <span class="attendance-rate">15/15 Present (100%)</span>
            </div>
            <div class="attendance-list">
              <div class="attendance-item">
                <span>Mike Wilson</span>
                <button class="attendance-btn present" onclick="toggleAttendance(this)">‚úÖ Present</button>
              </div>
              <div class="attendance-item">
                <span>Lisa Park</span>
                <button class="attendance-btn present" onclick="toggleAttendance(this)">‚úÖ Present</button>
              </div>
              <div class="attendance-item">
                <span>David Chen</span>
                <button class="attendance-btn present" onclick="toggleAttendance(this)">‚úÖ Present</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Instructor Schedule Section -->
      <div id="instructor-schedule" class="class-section" style="display:none;">
        <div class="section-header">
          <h3>üë®‚Äçüè´ Instructor Schedules</h3>
          <button class="add-btn" onclick="assignInstructor()">Assign Instructor</button>
        </div>
        
        <div class="instructor-grid">
          <div class="instructor-card">
            <div class="instructor-info">
              <div class="instructor-avatar">üë®</div>
              <div>
                <h4>Ahmed Al-Rashid</h4>
                <p>Senior Trainer</p>
                <span class="instructor-rating">‚≠ê 4.9/5</span>
              </div>
            </div>
            <div class="instructor-schedule">
              <h5>Today's Classes:</h5>
              <div class="schedule-item">07:00 - Strength Training</div>
              <div class="schedule-item">19:00 - Personal Training</div>
              <div class="schedule-item">20:00 - HIIT Class</div>
            </div>
            <div class="instructor-stats">
              <span>Classes: 18/week</span>
              <span>Utilization: 85%</span>
            </div>
          </div>
          
          <div class="instructor-card">
            <div class="instructor-info">
              <div class="instructor-avatar">üë©</div>
              <div>
                <h4>Sarah Johnson</h4>
                <p>Yoga Instructor</p>
                <span class="instructor-rating">‚≠ê 4.8/5</span>
              </div>
            </div>
            <div class="instructor-schedule">
              <h5>Today's Classes:</h5>
              <div class="schedule-item">07:00 - Morning Yoga</div>
              <div class="schedule-item">17:00 - Evening Yoga</div>
              <div class="schedule-item">19:30 - Meditation</div>
            </div>
            <div class="instructor-stats">
              <span>Classes: 15/week</span>
              <span>Utilization: 75%</span>
            </div>
          </div>
          
          <div class="instructor-card">
            <div class="instructor-info">
              <div class="instructor-avatar">üë®</div>
              <div>
                <h4>Mike Wilson</h4>
                <p>HIIT Specialist</p>
                <span class="instructor-rating">‚≠ê 4.7/5</span>
              </div>
            </div>
            <div class="instructor-schedule">
              <h5>Today's Classes:</h5>
              <div class="schedule-item">06:00 - Boot Camp</div>
              <div class="schedule-item">18:00 - HIIT Training</div>
              <div class="schedule-item">20:00 - Cardio Blast</div>
            </div>
            <div class="instructor-stats">
              <span>Classes: 20/week</span>
              <span>Utilization: 90%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Equipment Management System -->
  <div id="equipment-management" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üèãÔ∏è Equipment Management System</h2>
          <p><span class="live-indicator"></span>Equipment Lifecycle Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showEquipmentSection('equipment-inventory')">üèãÔ∏è Inventory</button>
        <button class="nav-btn" onclick="showEquipmentSection('maintenance-schedule')">üîß Maintenance</button>
        <button class="nav-btn" onclick="showEquipmentSection('repair-tracking')">üîç Repairs</button>
        <button class="nav-btn" onclick="showEquipmentSection('usage-analytics')">üìä Analytics</button>
        <button class="nav-btn" onclick="showEquipmentSection('replacement-planning')">üîÑ Planning</button>
      </div>
      
      <!-- Equipment Inventory Section -->
      <div id="equipment-inventory" class="equipment-section">
        <div class="section-header">
          <h3>üèãÔ∏è Equipment Inventory</h3>
          <button class="add-btn" onclick="addEquipment()">+ Add Equipment</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üèãÔ∏è</div>
            <div class="stat-value">156</div>
            <div class="stat-label">Total Equipment</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">142</div>
            <div class="stat-label">Active</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üîß</div>
            <div class="stat-value">8</div>
            <div class="stat-label">In Maintenance</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚ùå</div>
            <div class="stat-value">6</div>
            <div class="stat-label">Out of Order</div>
          </div>
        </div>
        
        <div id="equipment-list" class="equipment-inventory-grid">
          <div class="equipment-inventory-card">
            <div class="equipment-header">
              <h4>Treadmill Pro X1</h4>
              <span class="equipment-status active">‚úÖ Active</span>
            </div>
            <div class="equipment-details">
              <p><strong>Brand:</strong> TechnoGym</p>
              <p><strong>Location:</strong> Cardio Zone A</p>
              <p><strong>Usage:</strong> 2,847 / 10,000 hrs</p>
              <p><strong>Last Maintenance:</strong> Nov 15, 2024</p>
              <p><strong>Next Maintenance:</strong> Feb 15, 2025</p>
            </div>
            <div class="usage-bar">
              <div class="usage-fill" style="width: 28%"></div>
            </div>
            <div class="equipment-actions">
              <button onclick="editEquipment(this)">‚úèÔ∏è</button>
              <button onclick="scheduleMaintenance(this)">üîß</button>
              <button onclick="viewHistory(this)">üìä</button>
            </div>
          </div>
          
          <div class="equipment-inventory-card">
            <div class="equipment-header">
              <h4>Bench Press Station</h4>
              <span class="equipment-status maintenance">üîß Maintenance</span>
            </div>
            <div class="equipment-details">
              <p><strong>Brand:</strong> Hammer Strength</p>
              <p><strong>Location:</strong> Free Weights Area</p>
              <p><strong>Usage:</strong> 1,654 / 15,000 hrs</p>
              <p><strong>Last Maintenance:</strong> Dec 1, 2024</p>
              <p><strong>Next Maintenance:</strong> Dec 20, 2024</p>
            </div>
            <div class="usage-bar">
              <div class="usage-fill" style="width: 11%"></div>
            </div>
            <div class="equipment-actions">
              <button onclick="editEquipment(this)">‚úèÔ∏è</button>
              <button onclick="scheduleMaintenance(this)">üîß</button>
              <button onclick="viewHistory(this)">üìä</button>
            </div>
          </div>
          
          <div class="equipment-inventory-card">
            <div class="equipment-header">
              <h4>Rowing Machine Elite</h4>
              <span class="equipment-status active">‚úÖ Active</span>
            </div>
            <div class="equipment-details">
              <p><strong>Brand:</strong> Concept2</p>
              <p><strong>Location:</strong> Cardio Zone B</p>
              <p><strong>Usage:</strong> 3,245 / 12,000 hrs</p>
              <p><strong>Last Maintenance:</strong> Oct 20, 2024</p>
              <p><strong>Next Maintenance:</strong> Jan 20, 2025</p>
            </div>
            <div class="usage-bar">
              <div class="usage-fill" style="width: 27%"></div>
            </div>
            <div class="equipment-actions">
              <button onclick="editEquipment(this)">‚úèÔ∏è</button>
              <button onclick="scheduleMaintenance(this)">üîß</button>
              <button onclick="viewHistory(this)">üìä</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Maintenance Schedule Section -->
      <div id="maintenance-schedule" class="equipment-section" style="display:none;">
        <div class="section-header">
          <h3>üîß Maintenance Schedule</h3>
          <button class="add-btn" onclick="scheduleMaintenance()">+ Schedule Maintenance</button>
        </div>
        
        <div class="maintenance-table">
          <div class="table-header">
            <span>Equipment</span>
            <span>Type</span>
            <span>Scheduled Date</span>
            <span>Technician</span>
            <span>Status</span>
            <span>Actions</span>
          </div>
          <div class="table-row">
            <span>Treadmill Pro X1</span>
            <span>Routine</span>
            <span>Feb 15, 2025</span>
            <span>Ahmed Al-Rashid</span>
            <span class="maintenance-status scheduled">üìÖ Scheduled</span>
            <button class="action-btn" onclick="completeMaintenance(this)">Complete</button>
          </div>
          <div class="table-row">
            <span>Bench Press Station</span>
            <span>Repair</span>
            <span>Dec 20, 2024</span>
            <span>Mike Wilson</span>
            <span class="maintenance-status in-progress">üîß In Progress</span>
            <button class="action-btn" onclick="completeMaintenance(this)">Complete</button>
          </div>
          <div class="table-row">
            <span>Elliptical Trainer</span>
            <span>Routine</span>
            <span>Jan 10, 2025</span>
            <span>Sarah Johnson</span>
            <span class="maintenance-status scheduled">üìÖ Scheduled</span>
            <button class="action-btn" onclick="completeMaintenance(this)">Complete</button>
          </div>
        </div>
      </div>
      
      <!-- Repair Tracking Section -->
      <div id="repair-tracking" class="equipment-section" style="display:none;">
        <div class="section-header">
          <h3>üîç Repair Tracking</h3>
          <button class="add-btn" onclick="addRepairRecord()">+ Add Repair</button>
        </div>
        
        <div class="repair-grid">
          <div class="repair-card">
            <div class="repair-header">
              <h4>Treadmill Pro X1</h4>
              <span class="repair-date">Aug 15, 2024</span>
            </div>
            <div class="repair-details">
              <p><strong>Issue:</strong> Belt slipping during high-speed operation</p>
              <p><strong>Solution:</strong> Belt tension adjustment and lubrication</p>
              <p><strong>Technician:</strong> Ahmed Al-Rashid</p>
              <p><strong>Cost:</strong> AED 120</p>
              <p><strong>Downtime:</strong> 2 hours</p>
            </div>
            <div class="parts-used">
              <span class="part-tag">Belt lubricant</span>
              <span class="part-tag">Tension bolts</span>
            </div>
          </div>
          
          <div class="repair-card">
            <div class="repair-header">
              <h4>Bench Press Station</h4>
              <span class="repair-date">Oct 5, 2024</span>
            </div>
            <div class="repair-details">
              <p><strong>Issue:</strong> Bench padding worn and torn</p>
              <p><strong>Solution:</strong> Replaced bench padding and covers</p>
              <p><strong>Technician:</strong> Mike Wilson</p>
              <p><strong>Cost:</strong> AED 85</p>
              <p><strong>Downtime:</strong> 1 hour</p>
            </div>
            <div class="parts-used">
              <span class="part-tag">Bench padding</span>
              <span class="part-tag">Vinyl covers</span>
            </div>
          </div>
          
          <div class="repair-card">
            <div class="repair-header">
              <h4>Cable Machine</h4>
              <span class="repair-date">Nov 22, 2024</span>
            </div>
            <div class="repair-details">
              <p><strong>Issue:</strong> Cable fraying and weight stack sticking</p>
              <p><strong>Solution:</strong> Cable replacement and weight stack lubrication</p>
              <p><strong>Technician:</strong> David Chen</p>
              <p><strong>Cost:</strong> AED 240</p>
              <p><strong>Downtime:</strong> 4 hours</p>
            </div>
            <div class="parts-used">
              <span class="part-tag">Steel cable</span>
              <span class="part-tag">Weight stack lubricant</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Usage Analytics Section -->
      <div id="usage-analytics" class="equipment-section" style="display:none;">
        <div class="section-header">
          <h3>üìä Usage Analytics</h3>
          <button class="add-btn" onclick="exportUsageReport()">Export Report</button>
        </div>
        
        <div class="chart-container">
          <h3>üìä Equipment Usage Trends</h3>
          <canvas id="usageAnalyticsChart" width="400" height="200"></canvas>
        </div>
        
        <div class="usage-stats-grid">
          <div class="usage-stat-card">
            <div class="usage-header">
              <h4>Treadmill Pro X1</h4>
              <span class="usage-efficiency">85% Efficiency</span>
            </div>
            <div class="usage-metrics">
              <div class="metric-row">
                <span>Daily Usage:</span>
                <span>8.5 hours</span>
              </div>
              <div class="metric-row">
                <span>Peak Hours:</span>
                <span>6-9 AM, 6-9 PM</span>
              </div>
              <div class="metric-row">
                <span>Users Today:</span>
                <span>24 members</span>
              </div>
              <div class="metric-row">
                <span>Avg Session:</span>
                <span>21.3 minutes</span>
              </div>
            </div>
          </div>
          
          <div class="usage-stat-card">
            <div class="usage-header">
              <h4>Bench Press Station</h4>
              <span class="usage-efficiency">78% Efficiency</span>
            </div>
            <div class="usage-metrics">
              <div class="metric-row">
                <span>Daily Usage:</span>
                <span>6.2 hours</span>
              </div>
              <div class="metric-row">
                <span>Peak Hours:</span>
                <span>5-8 PM</span>
              </div>
              <div class="metric-row">
                <span>Users Today:</span>
                <span>18 members</span>
              </div>
              <div class="metric-row">
                <span>Avg Session:</span>
                <span>20.7 minutes</span>
              </div>
            </div>
          </div>
          
          <div class="usage-stat-card">
            <div class="usage-header">
              <h4>Rowing Machine Elite</h4>
              <span class="usage-efficiency">92% Efficiency</span>
            </div>
            <div class="usage-metrics">
              <div class="metric-row">
                <span>Daily Usage:</span>
                <span>7.8 hours</span>
              </div>
              <div class="metric-row">
                <span>Peak Hours:</span>
                <span>7-10 AM, 7-9 PM</span>
              </div>
              <div class="metric-row">
                <span>Users Today:</span>
                <span>22 members</span>
              </div>
              <div class="metric-row">
                <span>Avg Session:</span>
                <span>21.3 minutes</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Replacement Planning Section -->
      <div id="replacement-planning" class="equipment-section" style="display:none;">
        <div class="section-header">
          <h3>üîÑ Replacement Planning</h3>
          <button class="add-btn" onclick="generateReplacementPlan()">Generate Plan</button>
        </div>
        
        <div class="replacement-grid">
          <div class="replacement-card high-priority">
            <div class="replacement-header">
              <h4>Treadmill Model T-200</h4>
              <span class="replacement-priority high">üî¥ High Priority</span>
            </div>
            <div class="replacement-details">
              <div class="replacement-metrics">
                <div class="metric">
                  <span>Usage:</span>
                  <span>87% of max hours</span>
                </div>
                <div class="metric">
                  <span>Age:</span>
                  <span>4.2 years</span>
                </div>
                <div class="metric">
                  <span>Repairs:</span>
                  <span>5 incidents</span>
                </div>
                <div class="metric">
                  <span>Est. Cost:</span>
                  <span>AED 18,000</span>
                </div>
              </div>
              <p class="recommendation">Schedule replacement within 6 months</p>
            </div>
          </div>
          
          <div class="replacement-card medium-priority">
            <div class="replacement-header">
              <h4>Elliptical Trainer E-150</h4>
              <span class="replacement-priority medium">üü° Medium Priority</span>
            </div>
            <div class="replacement-details">
              <div class="replacement-metrics">
                <div class="metric">
                  <span>Usage:</span>
                  <span>65% of max hours</span>
                </div>
                <div class="metric">
                  <span>Age:</span>
                  <span>3.1 years</span>
                </div>
                <div class="metric">
                  <span>Repairs:</span>
                  <span>2 incidents</span>
                </div>
                <div class="metric">
                  <span>Est. Cost:</span>
                  <span>AED 12,000</span>
                </div>
              </div>
              <p class="recommendation">Plan replacement within 12 months</p>
            </div>
          </div>
          
          <div class="replacement-card low-priority">
            <div class="replacement-header">
              <h4>Rowing Machine Elite</h4>
              <span class="replacement-priority low">üü¢ Low Priority</span>
            </div>
            <div class="replacement-details">
              <div class="replacement-metrics">
                <div class="metric">
                  <span>Usage:</span>
                  <span>27% of max hours</span>
                </div>
                <div class="metric">
                  <span>Age:</span>
                  <span>1.8 years</span>
                </div>
                <div class="metric">
                  <span>Repairs:</span>
                  <span>0 incidents</span>
                </div>
                <div class="metric">
                  <span>Est. Cost:</span>
                  <span>AED 8,400</span>
                </div>
              </div>
              <p class="recommendation">Continue monitoring</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- System Settings -->
  <div id="system-settings" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>‚öôÔ∏è System Settings & Administration</h2>
          <p><span class="live-indicator"></span>System Configuration & Security</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showSystemSection('user-permissions')">üë• Users</button>
        <button class="nav-btn" onclick="showSystemSection('security-settings')">üîí Security</button>
        <button class="nav-btn" onclick="showSystemSection('backup-management')">üíæ Backup</button>
        <button class="nav-btn" onclick="showSystemSection('integration-settings')">üîó Integrations</button>
        <button class="nav-btn" onclick="showSystemSection('audit-logs')">üìÑ Audit Logs</button>
      </div>
      
      <!-- User Permissions Section -->
      <div id="user-permissions" class="system-section">
        <div class="section-header">
          <h3>üë• User Management & Permissions</h3>
          <button class="add-btn" onclick="addUser()">+ Add User</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">12</div>
            <div class="stat-label">Total Users</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">10</div>
            <div class="stat-label">Active Users</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üîí</div>
            <div class="stat-value">8</div>
            <div class="stat-label">2FA Enabled</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚ö†Ô∏è</div>
            <div class="stat-value">2</div>
            <div class="stat-label">Locked Accounts</div>
          </div>
        </div>
        
        <div class="user-table">
          <div class="table-header">
            <span>User</span>
            <span>Role</span>
            <span>Status</span>
            <span>Last Login</span>
            <span>2FA</span>
            <span>Actions</span>
          </div>
          <div class="table-row">
            <span>admin@gym.com</span>
            <span class="role-badge admin">Admin</span>
            <span class="user-status active">‚úÖ Active</span>
            <span>Dec 20, 10:30 AM</span>
            <span class="tfa-status enabled">‚úÖ Enabled</span>
            <button class="action-btn" onclick="editUser(this)">Edit</button>
          </div>
          <div class="table-row">
            <span>reception@gym.com</span>
            <span class="role-badge receptionist">Receptionist</span>
            <span class="user-status active">‚úÖ Active</span>
            <span>Dec 20, 08:15 AM</span>
            <span class="tfa-status disabled">‚ùå Disabled</span>
            <button class="action-btn" onclick="editUser(this)">Edit</button>
          </div>
          <div class="table-row">
            <span>trainer@gym.com</span>
            <span class="role-badge trainer">Trainer</span>
            <span class="user-status locked">üîí Locked</span>
            <span>Dec 19, 06:45 PM</span>
            <span class="tfa-status enabled">‚úÖ Enabled</span>
            <button class="action-btn" onclick="unlockUser(this)">Unlock</button>
          </div>
        </div>
      </div>
      
      <!-- Security Settings Section -->
      <div id="security-settings" class="system-section" style="display:none;">
        <div class="section-header">
          <h3>üîí Security Settings</h3>
          <button class="add-btn" onclick="saveSecuritySettings()">Save Settings</button>
        </div>
        
        <div class="security-grid">
          <div class="security-card">
            <h4>üîë Password Policy</h4>
            <div class="setting-item">
              <label>Minimum Length:</label>
              <input type="number" value="8" min="6" max="20">
            </div>
            <div class="setting-item">
              <label>Require Uppercase:</label>
              <input type="checkbox" checked>
            </div>
            <div class="setting-item">
              <label>Require Numbers:</label>
              <input type="checkbox" checked>
            </div>
            <div class="setting-item">
              <label>Password Expiry (days):</label>
              <input type="number" value="90" min="30" max="365">
            </div>
          </div>
          
          <div class="security-card">
            <h4>‚è±Ô∏è Session Settings</h4>
            <div class="setting-item">
              <label>Session Timeout (minutes):</label>
              <input type="number" value="30" min="5" max="120">
            </div>
            <div class="setting-item">
              <label>Max Concurrent Sessions:</label>
              <input type="number" value="3" min="1" max="10">
            </div>
            <div class="setting-item">
              <label>Require 2FA:</label>
              <input type="checkbox">
            </div>
          </div>
          
          <div class="security-card">
            <h4>üö´ Access Control</h4>
            <div class="setting-item">
              <label>Max Login Attempts:</label>
              <input type="number" value="5" min="3" max="10">
            </div>
            <div class="setting-item">
              <label>Lockout Duration (minutes):</label>
              <input type="number" value="15" min="5" max="60">
            </div>
            <div class="setting-item">
              <label>IP Whitelist:</label>
              <input type="text" value="192.168.1.0/24" placeholder="IP ranges">
            </div>
          </div>
        </div>
      </div>
      
      <!-- Backup Management Section -->
      <div id="backup-management" class="system-section" style="display:none;">
        <div class="section-header">
          <h3>üíæ Backup Management</h3>
          <button class="add-btn" onclick="createBackup()">Create Backup</button>
        </div>
        
        <div class="backup-status-card">
          <div class="backup-header">
            <h4>üìä Backup Status</h4>
            <span class="backup-status completed">‚úÖ Completed</span>
          </div>
          <div class="backup-details">
            <div class="backup-metric">
              <span>Last Backup:</span>
              <span>Dec 20, 2024 02:00 AM</span>
            </div>
            <div class="backup-metric">
              <span>Backup Size:</span>
              <span>2.4 GB</span>
            </div>
            <div class="backup-metric">
              <span>Frequency:</span>
              <span>Daily</span>
            </div>
            <div class="backup-metric">
              <span>Retention:</span>
              <span>30 days</span>
            </div>
          </div>
        </div>
        
        <div class="backup-settings-card">
          <h4>‚öôÔ∏è Backup Settings</h4>
          <div class="setting-item">
            <label>Auto Backup:</label>
            <input type="checkbox" checked>
          </div>
          <div class="setting-item">
            <label>Frequency:</label>
            <select>
              <option value="hourly">Hourly</option>
              <option value="daily" selected>Daily</option>
              <option value="weekly">Weekly</option>
            </select>
          </div>
          <div class="setting-item">
            <label>Retention Days:</label>
            <input type="number" value="30" min="7" max="365">
          </div>
          <div class="setting-item">
            <label>Backup Location:</label>
            <input type="text" value="/backups/gymestry" readonly>
          </div>
        </div>
        
        <div class="backup-history">
          <h4>üìÖ Recent Backups</h4>
          <div class="backup-list">
            <div class="backup-item">
              <span>Dec 20, 2024 02:00 AM</span>
              <span>2.4 GB</span>
              <span class="backup-item-status success">‚úÖ Success</span>
              <button onclick="downloadBackup(this)">Download</button>
            </div>
            <div class="backup-item">
              <span>Dec 19, 2024 02:00 AM</span>
              <span>2.3 GB</span>
              <span class="backup-item-status success">‚úÖ Success</span>
              <button onclick="downloadBackup(this)">Download</button>
            </div>
            <div class="backup-item">
              <span>Dec 18, 2024 02:00 AM</span>
              <span>2.2 GB</span>
              <span class="backup-item-status success">‚úÖ Success</span>
              <button onclick="downloadBackup(this)">Download</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Integration Settings Section -->
      <div id="integration-settings" class="system-section" style="display:none;">
        <div class="section-header">
          <h3>üîó Integration Settings</h3>
          <button class="add-btn" onclick="saveIntegrations()">Save Settings</button>
        </div>
        
        <div class="integration-grid">
          <div class="integration-card">
            <div class="integration-header">
              <h4>üí≥ Payment Gateway</h4>
              <span class="integration-status enabled">‚úÖ Enabled</span>
            </div>
            <div class="integration-details">
              <div class="setting-item">
                <label>Provider:</label>
                <select>
                  <option value="stripe" selected>Stripe</option>
                  <option value="paypal">PayPal</option>
                  <option value="square">Square</option>
                </select>
              </div>
              <div class="setting-item">
                <label>Test Mode:</label>
                <input type="checkbox">
              </div>
              <div class="setting-item">
                <label>Webhook URL:</label>
                <input type="text" value="https://api.gymestry.com/webhooks/stripe" readonly>
              </div>
            </div>
          </div>
          
          <div class="integration-card">
            <div class="integration-header">
              <h4>üìß Email Service</h4>
              <span class="integration-status enabled">‚úÖ Enabled</span>
            </div>
            <div class="integration-details">
              <div class="setting-item">
                <label>Provider:</label>
                <select>
                  <option value="sendgrid" selected>SendGrid</option>
                  <option value="mailgun">Mailgun</option>
                  <option value="ses">Amazon SES</option>
                </select>
              </div>
              <div class="setting-item">
                <label>From Email:</label>
                <input type="email" value="noreply@gymestry.com">
              </div>
              <div class="setting-item">
                <label>API Key:</label>
                <input type="password" value="sg-****-****" placeholder="API Key">
              </div>
            </div>
          </div>
          
          <div class="integration-card">
            <div class="integration-header">
              <h4>üì± SMS Service</h4>
              <span class="integration-status enabled">‚úÖ Enabled</span>
            </div>
            <div class="integration-details">
              <div class="setting-item">
                <label>Provider:</label>
                <select>
                  <option value="twilio" selected>Twilio</option>
                  <option value="nexmo">Nexmo</option>
                  <option value="sns">Amazon SNS</option>
                </select>
              </div>
              <div class="setting-item">
                <label>From Number:</label>
                <input type="text" value="+971501234567">
              </div>
              <div class="setting-item">
                <label>Account SID:</label>
                <input type="password" value="AC****" placeholder="Account SID">
              </div>
            </div>
          </div>
          
          <div class="integration-card">
            <div class="integration-header">
              <h4>üìä Analytics</h4>
              <span class="integration-status enabled">‚úÖ Enabled</span>
            </div>
            <div class="integration-details">
              <div class="setting-item">
                <label>Google Analytics:</label>
                <input type="checkbox" checked>
              </div>
              <div class="setting-item">
                <label>Tracking ID:</label>
                <input type="text" value="GA-****-****" placeholder="GA-XXXXXXXXX-X">
              </div>
              <div class="setting-item">
                <label>Facebook Pixel:</label>
                <input type="checkbox">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Audit Logs Section -->
      <div id="audit-logs" class="system-section" style="display:none;">
        <div class="section-header">
          <h3>üìÑ Audit Logs</h3>
          <button class="add-btn" onclick="exportAuditLogs()">Export Logs</button>
        </div>
        
        <div class="audit-filters">
          <select onchange="filterAuditLogs(this)">
            <option value="">All Actions</option>
            <option value="USER_LOGIN">User Login</option>
            <option value="PERMISSION_CHANGE">Permission Change</option>
            <option value="BACKUP_COMPLETED">Backup Completed</option>
          </select>
          <select onchange="filterAuditLogs(this)">
            <option value="">All Severity</option>
            <option value="info">Info</option>
            <option value="warning">Warning</option>
            <option value="critical">Critical</option>
          </select>
          <input type="date" onchange="filterAuditLogs(this)" placeholder="Start Date">
          <input type="date" onchange="filterAuditLogs(this)" placeholder="End Date">
        </div>
        
        <div class="audit-table">
          <div class="table-header">
            <span>Timestamp</span>
            <span>User</span>
            <span>Action</span>
            <span>Resource</span>
            <span>Severity</span>
            <span>IP Address</span>
          </div>
          <div class="table-row">
            <span>Dec 20, 10:30 AM</span>
            <span>admin</span>
            <span>USER_LOGIN</span>
            <span>system</span>
            <span class="severity-badge info">üü¢ Info</span>
            <span>192.168.1.100</span>
          </div>
          <div class="table-row">
            <span>Dec 20, 09:45 AM</span>
            <span>admin</span>
            <span>PERMISSION_CHANGE</span>
            <span>user_management</span>
            <span class="severity-badge warning">üü° Warning</span>
            <span>192.168.1.100</span>
          </div>
          <div class="table-row">
            <span>Dec 20, 02:00 AM</span>
            <span>system</span>
            <span>BACKUP_COMPLETED</span>
            <span>database</span>
            <span class="severity-badge info">üü¢ Info</span>
            <span>127.0.0.1</span>
          </div>
          <div class="table-row">
            <span>Dec 19, 11:30 PM</span>
            <span>trainer</span>
            <span>FAILED_LOGIN</span>
            <span>authentication</span>
            <span class="severity-badge critical">üî¥ Critical</span>
            <span>203.0.113.45</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Client Management System -->
  <div id="client-management" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üë• Client Management System</h2>
          <p><span class="live-indicator"></span>Personal Training Client Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showClientSection('client-profiles')">üë• Profiles</button>
        <button class="nav-btn" onclick="showClientSection('training-history')">üèãÔ∏è Training</button>
        <button class="nav-btn" onclick="showClientSection('progress-photos')">üì∑ Photos</button>
        <button class="nav-btn" onclick="showClientSection('goal-tracking')">üéØ Goals</button>
        <button class="nav-btn" onclick="showClientSection('communication-logs')">üí¨ Messages</button>
      </div>
      
      <!-- Client Profiles Section -->
      <div id="client-profiles" class="client-section">
        <div class="section-header">
          <h3>üë• Client Profiles</h3>
          <button class="add-btn" onclick="addClient()">+ Add Client</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">24</div>
            <div class="stat-label">Total Clients</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">22</div>
            <div class="stat-label">Active Clients</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üèãÔ∏è</div>
            <div class="stat-value">156</div>
            <div class="stat-label">Total Sessions</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-value">18</div>
            <div class="stat-label">Goals Achieved</div>
          </div>
        </div>
        
        <div id="client-list" class="client-grid">
          <div class="client-card">
            <div class="client-header">
              <div class="client-avatar">üë®</div>
              <div class="client-info">
                <h4>Ahmed Al-Mansouri</h4>
                <p>32 years, Male</p>
                <span class="client-status active">‚úÖ Active</span>
              </div>
            </div>
            <div class="client-details">
              <div class="detail-row">
                <span>Current Weight:</span>
                <span>78 kg</span>
              </div>
              <div class="detail-row">
                <span>Target Weight:</span>
                <span>75 kg</span>
              </div>
              <div class="detail-row">
                <span>Sessions:</span>
                <span>24/32</span>
              </div>
              <div class="detail-row">
                <span>Body Fat:</span>
                <span>18.5%</span>
              </div>
            </div>
            <div class="client-actions">
              <button onclick="viewClientDetails(this)">üëÅÔ∏è</button>
              <button onclick="editClient(this)">‚úèÔ∏è</button>
              <button onclick="addSession(this)">üèãÔ∏è</button>
            </div>
          </div>
          
          <div class="client-card">
            <div class="client-header">
              <div class="client-avatar">üë©</div>
              <div class="client-info">
                <h4>Sarah Johnson</h4>
                <p>28 years, Female</p>
                <span class="client-status active">‚úÖ Active</span>
              </div>
            </div>
            <div class="client-details">
              <div class="detail-row">
                <span>Current Weight:</span>
                <span>62 kg</span>
              </div>
              <div class="detail-row">
                <span>Target Weight:</span>
                <span>58 kg</span>
              </div>
              <div class="detail-row">
                <span>Sessions:</span>
                <span>16/28</span>
              </div>
              <div class="detail-row">
                <span>Body Fat:</span>
                <span>22.3%</span>
              </div>
            </div>
            <div class="client-actions">
              <button onclick="viewClientDetails(this)">üëÅÔ∏è</button>
              <button onclick="editClient(this)">‚úèÔ∏è</button>
              <button onclick="addSession(this)">üèãÔ∏è</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Training History Section -->
      <div id="training-history" class="client-section" style="display:none;">
        <div class="section-header">
          <h3>üèãÔ∏è Training History</h3>
          <button class="add-btn" onclick="addTrainingSession()">+ Add Session</button>
        </div>
        
        <div class="training-grid">
          <div class="training-card">
            <div class="training-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="training-date">Dec 20, 2024</span>
            </div>
            <div class="training-details">
              <div class="training-type">Strength Training</div>
              <div class="training-duration">60 minutes</div>
              <div class="exercises-list">
                <span class="exercise-tag">Bench Press</span>
                <span class="exercise-tag">Squats</span>
                <span class="exercise-tag">Deadlifts</span>
                <span class="exercise-tag">Pull-ups</span>
              </div>
              <div class="training-metrics">
                <span>üî• 420 cal</span>
                <span>‚ù§Ô∏è 145 bpm</span>
              </div>
              <p class="training-notes">Great progress on bench press, increased weight by 5kg</p>
            </div>
          </div>
          
          <div class="training-card">
            <div class="training-header">
              <h4>Sarah Johnson</h4>
              <span class="training-date">Dec 19, 2024</span>
            </div>
            <div class="training-details">
              <div class="training-type">Cardio</div>
              <div class="training-duration">45 minutes</div>
              <div class="exercises-list">
                <span class="exercise-tag">Treadmill</span>
                <span class="exercise-tag">Rowing</span>
                <span class="exercise-tag">Cycling</span>
              </div>
              <div class="training-metrics">
                <span>üî• 380 cal</span>
                <span>‚ù§Ô∏è 155 bpm</span>
              </div>
              <p class="training-notes">Improved endurance, completed full session without breaks</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Progress Photos Section -->
      <div id="progress-photos" class="client-section" style="display:none;">
        <div class="section-header">
          <h3>üì∑ Progress Photos</h3>
          <button class="add-btn" onclick="uploadProgressPhoto()">+ Upload Photo</button>
        </div>
        
        <div class="photo-grid">
          <div class="photo-card">
            <div class="photo-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="photo-date">Dec 1, 2024</span>
            </div>
            <div class="photo-placeholder">
              <div class="photo-icon">üì∑</div>
              <p>Front View</p>
            </div>
            <div class="photo-details">
              <div class="photo-metric">
                <span>Weight:</span>
                <span>78.5 kg</span>
              </div>
              <div class="photo-metric">
                <span>Body Fat:</span>
                <span>19.2%</span>
              </div>
            </div>
          </div>
          
          <div class="photo-card">
            <div class="photo-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="photo-date">Dec 1, 2024</span>
            </div>
            <div class="photo-placeholder">
              <div class="photo-icon">üì∑</div>
              <p>Side View</p>
            </div>
            <div class="photo-details">
              <div class="photo-metric">
                <span>Weight:</span>
                <span>78.5 kg</span>
              </div>
              <div class="photo-metric">
                <span>Body Fat:</span>
                <span>19.2%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Goal Tracking Section -->
      <div id="goal-tracking" class="client-section" style="display:none;">
        <div class="section-header">
          <h3>üéØ Goal Tracking</h3>
          <button class="add-btn" onclick="addGoal()">+ Add Goal</button>
        </div>
        
        <div class="goal-grid">
          <div class="goal-card">
            <div class="goal-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="goal-status in-progress">üü° In Progress</span>
            </div>
            <div class="goal-details">
              <h5>Weight Loss Goal</h5>
              <p>Lose 3kg and reduce body fat to 15%</p>
              <div class="goal-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 0%"></div>
                </div>
                <span class="progress-text">78kg / 75kg</span>
              </div>
              <div class="goal-timeline">
                <span>Target: Mar 15, 2025</span>
                <span>85 days remaining</span>
              </div>
            </div>
          </div>
          
          <div class="goal-card">
            <div class="goal-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="goal-status in-progress">üü° In Progress</span>
            </div>
            <div class="goal-details">
              <h5>Strength Improvement</h5>
              <p>Bench press 100kg for 3 reps</p>
              <div class="goal-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 85%"></div>
                </div>
                <span class="progress-text">85kg / 100kg</span>
              </div>
              <div class="goal-timeline">
                <span>Target: Feb 28, 2025</span>
                <span>70 days remaining</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Communication Logs Section -->
      <div id="communication-logs" class="client-section" style="display:none;">
        <div class="section-header">
          <h3>üí¨ Communication Logs</h3>
          <button class="add-btn" onclick="sendMessage()">+ Send Message</button>
        </div>
        
        <div class="communication-list">
          <div class="comm-item">
            <div class="comm-header">
              <div class="comm-client">
                <div class="client-avatar">üë®</div>
                <span>Ahmed Al-Mansouri</span>
              </div>
              <span class="comm-date">Dec 20, 2024</span>
            </div>
            <div class="comm-content">
              <div class="comm-type session_feedback">Session Feedback</div>
              <p>Great session today! Your form on squats has improved significantly.</p>
            </div>
            <div class="comm-footer">
              <span class="comm-sender">From: Trainer</span>
              <span class="comm-status read">‚úì Read</span>
            </div>
          </div>
          
          <div class="comm-item">
            <div class="comm-header">
              <div class="comm-client">
                <div class="client-avatar">üë®</div>
                <span>Ahmed Al-Mansouri</span>
              </div>
              <span class="comm-date">Dec 19, 2024</span>
            </div>
            <div class="comm-content">
              <div class="comm-type nutrition_advice">Nutrition Advice</div>
              <p>Remember to increase protein intake to 1.6g per kg body weight for better recovery.</p>
            </div>
            <div class="comm-footer">
              <span class="comm-sender">From: Trainer</span>
              <span class="comm-status read">‚úì Read</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Workout Plans System -->
  <div id="workout-plans" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üìã Workout Plans & Programs</h2>
          <p><span class="live-indicator"></span>Custom Fitness Program Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showWorkoutSection('exercise-library')">üèãÔ∏è Exercises</button>
        <button class="nav-btn" onclick="showWorkoutSection('program-templates')">üìã Templates</button>
        <button class="nav-btn" onclick="showWorkoutSection('progress-tracking')">üìä Progress</button>
        <button class="nav-btn" onclick="showWorkoutSection('nutrition-integration')">üçé Nutrition</button>
        <button class="nav-btn" onclick="showWorkoutSection('performance-analytics')">üìà Analytics</button>
      </div>
      
      <!-- Exercise Library Section -->
      <div id="exercise-library" class="workout-section">
        <div class="section-header">
          <h3>üèãÔ∏è Exercise Library</h3>
          <button class="add-btn" onclick="addExercise()">+ Add Exercise</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üèãÔ∏è</div>
            <div class="stat-value">156</div>
            <div class="stat-label">Total Exercises</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí™</div>
            <div class="stat-value">12</div>
            <div class="stat-label">Muscle Groups</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-value">8</div>
            <div class="stat-label">Categories</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üèÜ</div>
            <div class="stat-value">24</div>
            <div class="stat-label">Equipment Types</div>
          </div>
        </div>
        
        <div class="exercise-filters">
          <select onchange="filterExercises(this)">
            <option value="">All Categories</option>
            <option value="chest">Chest</option>
            <option value="back">Back</option>
            <option value="legs">Legs</option>
            <option value="shoulders">Shoulders</option>
          </select>
          <select onchange="filterExercises(this)">
            <option value="">All Difficulty</option>
            <option value="beginner">Beginner</option>
            <option value="intermediate">Intermediate</option>
            <option value="advanced">Advanced</option>
          </select>
          <select onchange="filterExercises(this)">
            <option value="">All Equipment</option>
            <option value="barbell">Barbell</option>
            <option value="dumbbell">Dumbbell</option>
            <option value="bodyweight">Bodyweight</option>
          </select>
        </div>
        
        <div class="exercise-grid">
          <div class="exercise-card">
            <div class="exercise-header">
              <h4>Bench Press</h4>
              <span class="difficulty-badge intermediate">Intermediate</span>
            </div>
            <div class="exercise-details">
              <div class="muscle-groups">
                <span class="muscle-tag">Chest</span>
                <span class="muscle-tag">Triceps</span>
                <span class="muscle-tag">Shoulders</span>
              </div>
              <div class="exercise-info">
                <span>üèãÔ∏è Barbell</span>
                <span>üî• 8 cal/min</span>
              </div>
              <p class="exercise-description">Lie on bench, grip bar shoulder-width apart, lower to chest, press up</p>
            </div>
            <div class="exercise-actions">
              <button onclick="viewExercise(this)">üëÅÔ∏è View</button>
              <button onclick="editExercise(this)">‚úèÔ∏è Edit</button>
              <button onclick="addToPlan(this)">+ Plan</button>
            </div>
          </div>
          
          <div class="exercise-card">
            <div class="exercise-header">
              <h4>Squats</h4>
              <span class="difficulty-badge beginner">Beginner</span>
            </div>
            <div class="exercise-details">
              <div class="muscle-groups">
                <span class="muscle-tag">Quadriceps</span>
                <span class="muscle-tag">Glutes</span>
                <span class="muscle-tag">Hamstrings</span>
              </div>
              <div class="exercise-info">
                <span>üèãÔ∏è Barbell</span>
                <span>üî• 10 cal/min</span>
              </div>
              <p class="exercise-description">Stand with feet shoulder-width apart, lower hips back and down, return to standing</p>
            </div>
            <div class="exercise-actions">
              <button onclick="viewExercise(this)">üëÅÔ∏è View</button>
              <button onclick="editExercise(this)">‚úèÔ∏è Edit</button>
              <button onclick="addToPlan(this)">+ Plan</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Program Templates Section -->
      <div id="program-templates" class="workout-section" style="display:none;">
        <div class="section-header">
          <h3>üìã Program Templates</h3>
          <button class="add-btn" onclick="createTemplate()">+ Create Template</button>
        </div>
        
        <div class="template-grid">
          <div class="template-card">
            <div class="template-header">
              <h4>Beginner Strength Builder</h4>
              <span class="template-category strength">Strength</span>
            </div>
            <div class="template-details">
              <div class="template-info">
                <span>üìÖ 4 weeks</span>
                <span>üí™ 3 days/week</span>
                <span>üéØ Beginner</span>
              </div>
              <p>4-week program for building foundational strength</p>
              <div class="template-exercises">
                <span class="exercise-tag">Bench Press</span>
                <span class="exercise-tag">Squats</span>
                <span class="exercise-tag">Pull-ups</span>
              </div>
            </div>
            <div class="template-actions">
              <button onclick="previewTemplate(this)">üëÅÔ∏è Preview</button>
              <button onclick="assignTemplate(this)">üë• Assign</button>
              <button onclick="editTemplate(this)">‚úèÔ∏è Edit</button>
            </div>
          </div>
          
          <div class="template-card">
            <div class="template-header">
              <h4>Fat Loss Circuit</h4>
              <span class="template-category fat-loss">Fat Loss</span>
            </div>
            <div class="template-details">
              <div class="template-info">
                <span>üìÖ 6 weeks</span>
                <span>üí™ 4 days/week</span>
                <span>üéØ Intermediate</span>
              </div>
              <p>High-intensity circuit for maximum calorie burn</p>
              <div class="template-exercises">
                <span class="exercise-tag">Squats</span>
                <span class="exercise-tag">Pull-ups</span>
                <span class="exercise-tag">Bench Press</span>
              </div>
            </div>
            <div class="template-actions">
              <button onclick="previewTemplate(this)">üëÅÔ∏è Preview</button>
              <button onclick="assignTemplate(this)">üë• Assign</button>
              <button onclick="editTemplate(this)">‚úèÔ∏è Edit</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Progress Tracking Section -->
      <div id="progress-tracking" class="workout-section" style="display:none;">
        <div class="section-header">
          <h3>üìä Progress Tracking</h3>
          <button class="add-btn" onclick="logWorkout()">+ Log Workout</button>
        </div>
        
        <div class="chart-container">
          <h3>üìä Strength Progress Trends</h3>
          <canvas id="progressChart" width="400" height="200"></canvas>
        </div>
        
        <div class="progress-grid">
          <div class="progress-card">
            <div class="progress-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="progress-status active">üü¢ Active</span>
            </div>
            <div class="progress-details">
              <div class="progress-metric">
                <span>Plan:</span>
                <span>Beginner Strength Builder</span>
              </div>
              <div class="progress-metric">
                <span>Progress:</span>
                <span>65% (8/12 workouts)</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 65%"></div>
              </div>
              <div class="recent-workout">
                <h5>Latest Workout (Dec 20)</h5>
                <div class="workout-exercises">
                  <div class="exercise-progress">
                    <span>Bench Press:</span>
                    <span>3x8 @ 60kg</span>
                  </div>
                  <div class="exercise-progress">
                    <span>Squats:</span>
                    <span>3x10 @ 80kg</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="progress-card">
            <div class="progress-header">
              <h4>Sarah Johnson</h4>
              <span class="progress-status active">üü¢ Active</span>
            </div>
            <div class="progress-details">
              <div class="progress-metric">
                <span>Plan:</span>
                <span>Fat Loss Circuit</span>
              </div>
              <div class="progress-metric">
                <span>Progress:</span>
                <span>45% (11/24 workouts)</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 45%"></div>
              </div>
              <div class="recent-workout">
                <h5>Latest Workout (Dec 19)</h5>
                <div class="workout-exercises">
                  <div class="exercise-progress">
                    <span>Squats:</span>
                    <span>4x15 @ 40kg</span>
                  </div>
                  <div class="exercise-progress">
                    <span>Pull-ups:</span>
                    <span>3x8 @ bodyweight</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Nutrition Integration Section -->
      <div id="nutrition-integration" class="workout-section" style="display:none;">
        <div class="section-header">
          <h3>üçé Nutrition Integration</h3>
          <button class="add-btn" onclick="createNutritionPlan()">+ Create Plan</button>
        </div>
        
        <div class="nutrition-grid">
          <div class="nutrition-card">
            <div class="nutrition-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="nutrition-goal">Muscle Building</span>
            </div>
            <div class="nutrition-details">
              <div class="calorie-target">
                <span class="calorie-number">2,800</span>
                <span class="calorie-label">Daily Calories</span>
              </div>
              <div class="macro-breakdown">
                <div class="macro-item">
                  <span class="macro-label">Protein</span>
                  <div class="macro-bar">
                    <div class="macro-fill protein" style="width: 35%"></div>
                  </div>
                  <span class="macro-value">35%</span>
                </div>
                <div class="macro-item">
                  <span class="macro-label">Carbs</span>
                  <div class="macro-bar">
                    <div class="macro-fill carbs" style="width: 40%"></div>
                  </div>
                  <span class="macro-value">40%</span>
                </div>
                <div class="macro-item">
                  <span class="macro-label">Fats</span>
                  <div class="macro-bar">
                    <div class="macro-fill fats" style="width: 25%"></div>
                  </div>
                  <span class="macro-value">25%</span>
                </div>
              </div>
              <div class="meal-plan">
                <h5>Daily Meal Plan</h5>
                <div class="meal-item">
                  <span>Breakfast:</span>
                  <span>650 cal (30g protein)</span>
                </div>
                <div class="meal-item">
                  <span>Lunch:</span>
                  <span>750 cal (40g protein)</span>
                </div>
                <div class="meal-item">
                  <span>Dinner:</span>
                  <span>700 cal (35g protein)</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Performance Analytics Section -->
      <div id="performance-analytics" class="workout-section" style="display:none;">
        <div class="section-header">
          <h3>üìà Performance Analytics</h3>
          <button class="add-btn" onclick="generateReport()">Generate Report</button>
        </div>
        
        <div class="analytics-grid">
          <div class="analytics-card">
            <div class="analytics-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="analytics-period">Last 4 Weeks</span>
            </div>
            <div class="analytics-metrics">
              <div class="metric-item">
                <span class="metric-label">Total Workouts:</span>
                <span class="metric-value">12</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Avg Workouts/Week:</span>
                <span class="metric-value">3</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Strength Progress:</span>
                <span class="metric-value positive">+15%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Volume Progress:</span>
                <span class="metric-value positive">+22%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Consistency Score:</span>
                <span class="metric-value">85%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Plan Progress:</span>
                <span class="metric-value">65%</span>
              </div>
            </div>
            <div class="performance-chart">
              <h5>Weekly Performance</h5>
              <div class="mini-chart">
                <div class="chart-bar" style="height: 60%"></div>
                <div class="chart-bar" style="height: 75%"></div>
                <div class="chart-bar" style="height: 85%"></div>
                <div class="chart-bar" style="height: 90%"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Progress Tracking System -->
  <div id="progress-tracking" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üìà Progress Tracking & Achievements</h2>
          <p><span class="live-indicator"></span>Client Achievement Monitoring</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showProgressSection('body-measurements')">üìä Measurements</button>
        <button class="nav-btn" onclick="showProgressSection('strength-gains')">üí™ Strength</button>
        <button class="nav-btn" onclick="showProgressSection('cardio-improvements')">‚ù§Ô∏è Cardio</button>
        <button class="nav-btn" onclick="showProgressSection('photo-comparisons')">üì∑ Photos</button>
        <button class="nav-btn" onclick="showProgressSection('goal-milestones')">üéØ Milestones</button>
      </div>
      
      <!-- Body Measurements Section -->
      <div id="body-measurements" class="progress-section">
        <div class="section-header">
          <h3>üìä Body Measurements</h3>
          <button class="add-btn" onclick="addMeasurement()">+ Add Measurement</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">‚öñÔ∏è</div>
            <div class="stat-value">-2.2kg</div>
            <div class="stat-label">Avg Weight Loss</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">-1.6%</div>
            <div class="stat-label">Avg Body Fat Loss</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí™</div>
            <div class="stat-value">+0.8kg</div>
            <div class="stat-label">Avg Muscle Gain</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">156</div>
            <div class="stat-label">Total Measurements</div>
          </div>
        </div>
        
        <div class="chart-container">
          <h3>üìà Body Composition Trends</h3>
          <canvas id="measurementsChart" width="400" height="200"></canvas>
        </div>
        
        <div class="measurements-grid">
          <div class="measurement-card">
            <div class="measurement-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="measurement-date">Dec 20, 2024</span>
            </div>
            <div class="measurement-details">
              <div class="measurement-row">
                <span>Weight:</span>
                <span class="value-change positive">78.0 kg (-2.2)</span>
              </div>
              <div class="measurement-row">
                <span>Body Fat:</span>
                <span class="value-change positive">18.5% (-1.6)</span>
              </div>
              <div class="measurement-row">
                <span>Muscle Mass:</span>
                <span class="value-change positive">63.6 kg (+0.8)</span>
              </div>
              <div class="measurement-row">
                <span>BMI:</span>
                <span class="value-change positive">25.5 (-0.7)</span>
              </div>
            </div>
            <div class="body-measurements">
              <div class="measurement-item">
                <span>Chest: 102cm</span>
                <span>Waist: 85cm</span>
              </div>
              <div class="measurement-item">
                <span>Biceps: 35cm</span>
                <span>Thighs: 58cm</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Strength Gains Section -->
      <div id="strength-gains" class="progress-section" style="display:none;">
        <div class="section-header">
          <h3>üí™ Strength Gains</h3>
          <button class="add-btn" onclick="logStrengthProgress()">+ Log Progress</button>
        </div>
        
        <div class="chart-container">
          <h3>üí™ Strength Progress Over Time</h3>
          <canvas id="strengthChart" width="400" height="200"></canvas>
        </div>
        
        <div class="strength-grid">
          <div class="strength-card">
            <div class="strength-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="pr-badge">üèÜ New PR!</span>
            </div>
            <div class="exercise-progress">
              <h5>Bench Press</h5>
              <div class="progress-metrics">
                <div class="metric">
                  <span>Current:</span>
                  <span class="metric-value">85kg x 8</span>
                </div>
                <div class="metric">
                  <span>1RM:</span>
                  <span class="metric-value">106kg</span>
                </div>
                <div class="metric">
                  <span>Volume:</span>
                  <span class="metric-value">2,040kg</span>
                </div>
                <div class="metric">
                  <span>Improvement:</span>
                  <span class="metric-value positive">+6%</span>
                </div>
              </div>
              <div class="strength-timeline">
                <div class="timeline-item">
                  <span>Dec 20:</span>
                  <span>85kg x 8 üèÜ</span>
                </div>
                <div class="timeline-item">
                  <span>Nov 20:</span>
                  <span>80kg x 8</span>
                </div>
                <div class="timeline-item">
                  <span>Oct 20:</span>
                  <span>75kg x 8</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="strength-card">
            <div class="strength-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="progress-badge">üìà Progressing</span>
            </div>
            <div class="exercise-progress">
              <h5>Squats</h5>
              <div class="progress-metrics">
                <div class="metric">
                  <span>Current:</span>
                  <span class="metric-value">120kg x 10</span>
                </div>
                <div class="metric">
                  <span>1RM:</span>
                  <span class="metric-value">160kg</span>
                </div>
                <div class="metric">
                  <span>Volume:</span>
                  <span class="metric-value">3,600kg</span>
                </div>
                <div class="metric">
                  <span>Improvement:</span>
                  <span class="metric-value positive">+12%</span>
                </div>
              </div>
              <div class="strength-timeline">
                <div class="timeline-item">
                  <span>Dec 20:</span>
                  <span>120kg x 10</span>
                </div>
                <div class="timeline-item">
                  <span>Nov 20:</span>
                  <span>115kg x 10</span>
                </div>
                <div class="timeline-item">
                  <span>Oct 20:</span>
                  <span>110kg x 10</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Cardio Improvements Section -->
      <div id="cardio-improvements" class="progress-section" style="display:none;">
        <div class="section-header">
          <h3>‚ù§Ô∏è Cardio Improvements</h3>
          <button class="add-btn" onclick="logCardioProgress()">+ Log Cardio</button>
        </div>
        
        <div class="chart-container">
          <h3>‚ù§Ô∏è Cardio Performance Trends</h3>
          <canvas id="cardioChart" width="400" height="200"></canvas>
        </div>
        
        <div class="cardio-grid">
          <div class="cardio-card">
            <div class="cardio-header">
              <h4>Ahmed Al-Mansouri</h4>
              <span class="pr-badge">üèÜ Distance PR!</span>
            </div>
            <div class="cardio-progress">
              <h5>Treadmill Run</h5>
              <div class="cardio-metrics">
                <div class="metric">
                  <span>Distance:</span>
                  <span class="metric-value">5.2 km</span>
                </div>
                <div class="metric">
                  <span>Duration:</span>
                  <span class="metric-value">30 min</span>
                </div>
                <div class="metric">
                  <span>Avg Pace:</span>
                  <span class="metric-value">5:46 /km</span>
                </div>
                <div class="metric">
                  <span>Calories:</span>
                  <span class="metric-value">420 cal</span>
                </div>
                <div class="metric">
                  <span>Avg HR:</span>
                  <span class="metric-value">155 bpm</span>
                </div>
                <div class="metric">
                  <span>Max HR:</span>
                  <span class="metric-value">175 bpm</span>
                </div>
              </div>
              <div class="cardio-timeline">
                <div class="timeline-item">
                  <span>Dec 20:</span>
                  <span>5.2km in 30min üèÜ</span>
                </div>
                <div class="timeline-item">
                  <span>Dec 15:</span>
                  <span>4.8km in 30min</span>
                </div>
                <div class="timeline-item">
                  <span>Dec 10:</span>
                  <span>4.5km in 30min</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Photo Comparisons Section -->
      <div id="photo-comparisons" class="progress-section" style="display:none;">
        <div class="section-header">
          <h3>üì∑ Photo Comparisons</h3>
          <button class="add-btn" onclick="uploadProgressPhoto()">+ Upload Photo</button>
        </div>
        
        <div class="photo-comparison-grid">
          <div class="comparison-card">
            <div class="comparison-header">
              <h4>Ahmed Al-Mansouri - Front View</h4>
              <span class="comparison-period">3 Month Progress</span>
            </div>
            <div class="photo-comparison">
              <div class="photo-before">
                <div class="photo-placeholder">
                  <div class="photo-icon">üì∑</div>
                  <p>Before</p>
                  <span>Sep 1, 2024</span>
                </div>
                <div class="photo-stats">
                  <span>Weight: 82kg</span>
                  <span>Body Fat: 22%</span>
                </div>
              </div>
              <div class="photo-arrow">‚Üí</div>
              <div class="photo-after">
                <div class="photo-placeholder">
                  <div class="photo-icon">üì∑</div>
                  <p>After</p>
                  <span>Dec 1, 2024</span>
                </div>
                <div class="photo-stats">
                  <span>Weight: 78kg</span>
                  <span>Body Fat: 18.5%</span>
                </div>
              </div>
            </div>
            <div class="comparison-summary">
              <div class="summary-item positive">
                <span>Weight Loss:</span>
                <span>-4kg</span>
              </div>
              <div class="summary-item positive">
                <span>Body Fat:</span>
                <span>-3.5%</span>
              </div>
              <div class="summary-item positive">
                <span>Muscle Definition:</span>
                <span>Improved</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Goal Milestones Section -->
      <div id="goal-milestones" class="progress-section" style="display:none;">
        <div class="section-header">
          <h3>üéØ Goal Milestones</h3>
          <button class="add-btn" onclick="addMilestone()">+ Add Milestone</button>
        </div>
        
        <div class="milestones-grid">
          <div class="milestone-card achieved">
            <div class="milestone-header">
              <div class="milestone-icon">üèÜ</div>
              <div class="milestone-info">
                <h4>Weight Loss Milestone</h4>
                <span class="milestone-date">Achieved Dec 15, 2024</span>
              </div>
              <span class="milestone-status achieved">‚úÖ Achieved</span>
            </div>
            <div class="milestone-details">
              <h5>Lost 2kg - Ahmed Al-Mansouri</h5>
              <p>Successfully reduced weight from 82kg to 78kg</p>
              <div class="milestone-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 100%"></div>
                </div>
                <span class="progress-text">78kg / 75kg target</span>
              </div>
              <div class="milestone-reward">
                <span>üéÅ Reward: New workout gear</span>
              </div>
            </div>
          </div>
          
          <div class="milestone-card achieved">
            <div class="milestone-header">
              <div class="milestone-icon">üí™</div>
              <div class="milestone-info">
                <h4>Strength Milestone</h4>
                <span class="milestone-date">Achieved Dec 10, 2024</span>
              </div>
              <span class="milestone-status achieved">‚úÖ Achieved</span>
            </div>
            <div class="milestone-details">
              <h5>Bench Press 100kg - Ahmed Al-Mansouri</h5>
              <p>Reached strength goal of bench pressing 100kg</p>
              <div class="milestone-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 100%"></div>
                </div>
                <span class="progress-text">106kg / 100kg target</span>
              </div>
              <div class="milestone-reward">
                <span>üéÅ Reward: Personal training session</span>
              </div>
            </div>
          </div>
          
          <div class="milestone-card in-progress">
            <div class="milestone-header">
              <div class="milestone-icon">üéØ</div>
              <div class="milestone-info">
                <h4>Body Fat Goal</h4>
                <span class="milestone-date">Target: Mar 15, 2025</span>
              </div>
              <span class="milestone-status in-progress">üü° In Progress</span>
            </div>
            <div class="milestone-details">
              <h5>Reach 15% Body Fat - Ahmed Al-Mansouri</h5>
              <p>Reduce body fat percentage to 15%</p>
              <div class="milestone-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 70%"></div>
                </div>
                <span class="progress-text">18.5% / 15% target</span>
              </div>
              <div class="milestone-reward">
                <span>üéÅ Reward: Nutrition consultation</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Session Booking System -->
  <div id="session-booking" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üìÖ Session Booking System</h2>
          <p><span class="live-indicator"></span>Training Appointment Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üìÖ</div>
          <div class="stat-value" id="totalSessions">0</div>
          <div class="stat-label">Total Sessions</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚úÖ</div>
          <div class="stat-value" id="confirmedSessions">0</div>
          <div class="stat-label">Confirmed</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚è≥</div>
          <div class="stat-value" id="pendingSessions">0</div>
          <div class="stat-label">Pending</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-value" id="sessionRevenue">AED 0</div>
          <div class="stat-label">Revenue</div>
        </div>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showBookingTab('calendar')">üìÖ Calendar</button>
        <button class="nav-btn" onclick="showBookingTab('schedule')">üìã Schedule</button>
        <button class="nav-btn" onclick="showBookingTab('sessions')">üíº Sessions</button>
        <button class="nav-btn" onclick="showBookingTab('payments')">üí≥ Payments</button>
      </div>
      
      <!-- Calendar Tab -->
      <div id="calendarTab" class="booking-section">
        <div class="section-header">
          <h3>üìÖ Calendar View</h3>
          <button class="add-btn" onclick="showNewSessionModal()">+ New Session</button>
        </div>
        
        <div class="calendar-controls">
          <button onclick="changeMonth(-1)">‚Üê Previous</button>
          <span id="currentMonth">January 2024</span>
          <button onclick="changeMonth(1)">Next ‚Üí</button>
        </div>
        
        <div id="calendarGrid" class="calendar-grid">
          <div class="calendar-day">
            <div class="day-number">15</div>
            <div class="session-item">09:00 - Ahmed</div>
            <div class="session-item">11:00 - Fatima</div>
          </div>
          <div class="calendar-day">
            <div class="day-number">16</div>
            <div class="session-item">10:00 - Sarah</div>
          </div>
        </div>
      </div>
      
      <!-- Schedule Tab -->
      <div id="scheduleTab" class="booking-section" style="display:none;">
        <div class="section-header">
          <h3>üìã Today's Schedule</h3>
          <input type="date" id="scheduleDate" onchange="loadSchedule()">
        </div>
        
        <div id="scheduleList" class="schedule-list">
          <div class="schedule-item">
            <div class="schedule-time">09:00 - 10:00</div>
            <div class="schedule-client">Ahmed Al-Rashid</div>
            <div class="schedule-type">Personal Training</div>
            <div class="schedule-status confirmed">‚úÖ Confirmed</div>
          </div>
          <div class="schedule-item">
            <div class="schedule-time">11:00 - 11:45</div>
            <div class="schedule-client">Fatima Hassan</div>
            <div class="schedule-type">Nutrition Consultation</div>
            <div class="schedule-status pending">‚è≥ Pending</div>
          </div>
        </div>
      </div>
      
      <!-- Sessions Tab -->
      <div id="sessionsTab" class="booking-section" style="display:none;">
        <div class="section-header">
          <h3>üíº All Sessions</h3>
          <div class="filters">
            <select id="statusFilter" onchange="loadSessions()">
              <option value="">All Status</option>
              <option value="confirmed">Confirmed</option>
              <option value="pending">Pending</option>
              <option value="cancelled">Cancelled</option>
            </select>
            <select id="trainerFilter" onchange="loadSessions()">
              <option value="">All Trainers</option>
              <option value="1">Coach Sarah</option>
              <option value="2">Coach Mike</option>
            </select>
          </div>
        </div>
        
        <div id="sessionsList" class="sessions-list">
          <div class="session-card">
            <div class="session-header">
              <h4>Ahmed Al-Rashid</h4>
              <span class="session-status confirmed">‚úÖ Confirmed</span>
            </div>
            <div class="session-details">
              <p><strong>Date:</strong> Jan 15, 2024</p>
              <p><strong>Time:</strong> 09:00 - 10:00</p>
              <p><strong>Type:</strong> Personal Training</p>
              <p><strong>Trainer:</strong> Coach Sarah</p>
              <p><strong>Notes:</strong> Focus on upper body strength</p>
            </div>
            <div class="session-actions">
              <button onclick="editSession(this)">‚úèÔ∏è Edit</button>
              <button onclick="cancelSession(this)">‚ùå Cancel</button>
              <button onclick="addNotes(this)">üìù Notes</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Payments Tab -->
      <div id="paymentsTab" class="booking-section" style="display:none;">
        <div class="section-header">
          <h3>üí≥ Payment Tracking</h3>
        </div>
        
        <div id="paymentsList" class="payments-list">
          <div class="payment-card">
            <div class="payment-header">
              <h4>Ahmed Al-Rashid</h4>
              <span class="payment-status paid">‚úÖ Paid</span>
            </div>
            <div class="payment-details">
              <p><strong>Session:</strong> Personal Training</p>
              <p><strong>Date:</strong> Jan 15, 2024</p>
              <p><strong>Amount:</strong> AED 150</p>
              <p><strong>Method:</strong> Card</p>
            </div>
          </div>
          
          <div class="payment-card">
            <div class="payment-header">
              <h4>Fatima Hassan</h4>
              <span class="payment-status pending">‚è≥ Pending</span>
            </div>
            <div class="payment-details">
              <p><strong>Session:</strong> Nutrition Consultation</p>
              <p><strong>Date:</strong> Jan 15, 2024</p>
              <p><strong>Amount:</strong> AED 100</p>
              <p><strong>Method:</strong> -</p>
            </div>
            <div class="payment-actions">
              <button onclick="processPayment(this)">üí≥ Process</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Member Management System -->
  <div id="member-management" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üë• Member Management System</h2>
          <p><span class="live-indicator"></span>Complete Member Control</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showMemberSection('member-profiles')">üë• Profiles</button>
        <button class="nav-btn" onclick="showMemberSection('membership-status')">üìä Status</button>
        <button class="nav-btn" onclick="showMemberSection('payment-history')">üí≥ Payments</button>
        <button class="nav-btn" onclick="showMemberSection('account-actions')">‚öôÔ∏è Actions</button>
        <button class="nav-btn" onclick="showMemberSection('communication')">üí¨ Messages</button>
      </div>
      
      <!-- Member Profiles Section -->
      <div id="member-profiles" class="member-section">
        <div class="section-header">
          <h3>üë• Member Profiles</h3>
          <button class="add-btn" onclick="addMember()">+ Add Member</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value">1,234</div>
            <div class="stat-label">Total Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üÜï</div>
            <div class="stat-value">47</div>
            <div class="stat-label">New This Month</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-value">1,156</div>
            <div class="stat-label">Active Members</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è∏Ô∏è</div>
            <div class="stat-value">78</div>
            <div class="stat-label">Suspended</div>
          </div>
        </div>
        
        <div id="member-list" class="member-grid">
          <div class="member-card">
            <div class="member-info">
              <div class="member-avatar">üë®</div>
              <div>
                <h4>Ahmed Al-Mansouri</h4>
                <p>ahmed.mansouri@email.com</p>
                <span class="member-plan">Premium</span>
              </div>
            </div>
            <div class="member-status active">Active</div>
            <div class="member-actions">
              <button onclick="editMember(this)">‚úèÔ∏è</button>
              <button onclick="suspendMember(this)">‚è∏Ô∏è</button>
              <button onclick="viewHistory(this)">üìã</button>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-info">
              <div class="member-avatar">üë©</div>
              <div>
                <h4>Sarah Johnson</h4>
                <p>sarah.johnson@email.com</p>
                <span class="member-plan">Standard</span>
              </div>
            </div>
            <div class="member-status suspended">Suspended</div>
            <div class="member-actions">
              <button onclick="editMember(this)">‚úèÔ∏è</button>
              <button onclick="suspendMember(this)">‚ñ∂Ô∏è</button>
              <button onclick="viewHistory(this)">üìã</button>
            </div>
          </div>
          
          <div class="member-card">
            <div class="member-info">
              <div class="member-avatar">üë®</div>
              <div>
                <h4>Mike Chen</h4>
                <p>mike.chen@email.com</p>
                <span class="member-plan">Basic</span>
              </div>
            </div>
            <div class="member-status active">Active</div>
            <div class="member-actions">
              <button onclick="editMember(this)">‚úèÔ∏è</button>
              <button onclick="suspendMember(this)">‚è∏Ô∏è</button>
              <button onclick="viewHistory(this)">üìã</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Membership Status Section -->
      <div id="membership-status" class="member-section" style="display:none;">
        <div class="section-header">
          <h3>üìä Membership Status Tracking</h3>
          <button class="add-btn" onclick="alert('Status report generated!')">Generate Report</button>
        </div>
        
        <div class="status-table">
          <div class="table-header">
            <span>Member</span>
            <span>Plan</span>
            <span>Status</span>
            <span>Expiry Date</span>
            <span>Actions</span>
          </div>
          <div class="table-row">
            <span>Ahmed Al-Mansouri</span>
            <span>Premium Annual</span>
            <span class="status-badge active">Active</span>
            <span>Dec 15, 2025</span>
            <button class="action-btn" onclick="alert('Membership renewed!')">Renew</button>
          </div>
          <div class="table-row">
            <span>Sarah Johnson</span>
            <span>Standard Monthly</span>
            <span class="status-badge suspended">Suspended</span>
            <span>Jan 20, 2025</span>
            <button class="action-btn" onclick="alert('Account reactivated!')">Reactivate</button>
          </div>
          <div class="table-row">
            <span>Mike Chen</span>
            <span>Basic Monthly</span>
            <span class="status-badge expiring">Expiring Soon</span>
            <span>Dec 25, 2024</span>
            <button class="action-btn" onclick="alert('Renewal reminder sent!')">Remind</button>
          </div>
        </div>
      </div>
      
      <!-- Payment History Section -->
      <div id="payment-history" class="member-section" style="display:none;">
        <div class="section-header">
          <h3>üí≥ Payment History</h3>
          <button class="add-btn" onclick="alert('Payment recorded!')">Record Payment</button>
        </div>
        
        <div class="payment-table">
          <div class="table-header">
            <span>Member</span>
            <span>Amount</span>
            <span>Date</span>
            <span>Method</span>
            <span>Status</span>
          </div>
          <div class="table-row">
            <span>Ahmed Al-Mansouri</span>
            <span>AED 2,400</span>
            <span>Dec 15, 2024</span>
            <span>Credit Card</span>
            <span class="payment-status paid">‚úÖ Paid</span>
          </div>
          <div class="table-row">
            <span>Sarah Johnson</span>
            <span>AED 300</span>
            <span>Dec 20, 2024</span>
            <span>Bank Transfer</span>
            <span class="payment-status overdue">‚è∞ Overdue</span>
          </div>
          <div class="table-row">
            <span>Mike Chen</span>
            <span>AED 200</span>
            <span>Dec 10, 2024</span>
            <span>Cash</span>
            <span class="payment-status paid">‚úÖ Paid</span>
          </div>
        </div>
      </div>
      
      <!-- Account Actions Section -->
      <div id="account-actions" class="member-section" style="display:none;">
        <div class="section-header">
          <h3>‚öôÔ∏è Account Actions</h3>
          <button class="add-btn" onclick="alert('Bulk action applied!')">Bulk Actions</button>
        </div>
        
        <div class="actions-grid">
          <div class="action-card" onclick="alert('Account frozen for 30 days')">
            <div class="action-icon">‚ùÑÔ∏è</div>
            <div class="action-title">Freeze Account</div>
            <div class="action-desc">Temporary suspension</div>
          </div>
          <div class="action-card" onclick="alert('Account permanently suspended')">
            <div class="action-icon">üö´</div>
            <div class="action-title">Suspend Account</div>
            <div class="action-desc">Permanent suspension</div>
          </div>
          <div class="action-card" onclick="alert('Account reactivated')">
            <div class="action-icon">‚úÖ</div>
            <div class="action-title">Reactivate Account</div>
            <div class="action-desc">Restore full access</div>
          </div>
          <div class="action-card" onclick="alert('Membership upgraded')">
            <div class="action-icon">‚¨ÜÔ∏è</div>
            <div class="action-title">Upgrade Plan</div>
            <div class="action-desc">Change membership tier</div>
          </div>
        </div>
      </div>
      
      <!-- Communication Section -->
      <div id="communication" class="member-section" style="display:none;">
        <div class="section-header">
          <h3>üí¨ Communication Logs</h3>
          <button class="add-btn" onclick="alert('Message sent!')">Send Message</button>
        </div>
        
        <div class="communication-list">
          <div class="comm-item">
            <div class="comm-header">
              <span class="comm-member">Ahmed Al-Mansouri</span>
              <span class="comm-date">Dec 20, 2024</span>
            </div>
            <div class="comm-message">Welcome to our premium membership! Your trainer will contact you soon.</div>
            <div class="comm-type">üìß Email</div>
          </div>
          
          <div class="comm-item">
            <div class="comm-header">
              <span class="comm-member">Sarah Johnson</span>
              <span class="comm-date">Dec 18, 2024</span>
            </div>
            <div class="comm-message">Payment reminder: Your membership expires in 3 days.</div>
            <div class="comm-type">üì± SMS</div>
          </div>
          
          <div class="comm-item">
            <div class="comm-header">
              <span class="comm-member">Mike Chen</span>
              <span class="comm-date">Dec 15, 2024</span>
            </div>
            <div class="comm-message">Thank you for your payment. Receipt attached.</div>
            <div class="comm-type">üìß Email</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Staff Management System -->
  <div id="staff-management" class="dashboard">
    <div class="container">
      <div class="top-bar">
        <div class="user-info">
          <h2>üë®üíº Staff Management System</h2>
          <p><span class="live-indicator"></span>Complete Employee Management</p>
        </div>
        <button class="logout-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
      </div>
      
      <div class="staff-nav">
        <button class="nav-btn active" onclick="showStaffSection('employees')">üë• Employees</button>
        <button class="nav-btn" onclick="showStaffSection('schedules')">üìÖ Schedules</button>
        <button class="nav-btn" onclick="showStaffSection('payroll')">üí∞ Payroll</button>
        <button class="nav-btn" onclick="showStaffSection('performance')">üìä Performance</button>
        <button class="nav-btn" onclick="showStaffSection('attendance')">‚è∞ Attendance</button>
        <button class="nav-btn" onclick="showStaffSection('permissions')">üîê Permissions</button>
      </div>
      
      <!-- Employee Profiles Section -->
      <div id="employees" class="staff-section">
        <div class="section-header">
          <h3>üë• Employee Profiles</h3>
          <button class="add-btn" onclick="addEmployee()">+ Add Employee</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë®üíº</div>
            <div class="stat-value">24</div>
            <div class="stat-label">Total Staff</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí™</div>
            <div class="stat-value">8</div>
            <div class="stat-label">Trainers</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üè™</div>
            <div class="stat-value">4</div>
            <div class="stat-label">Receptionists</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üîß</div>
            <div class="stat-value">12</div>
            <div class="stat-label">Support Staff</div>
          </div>
        </div>
        
        <div id="employee-list" class="employee-grid">
          <div class="employee-card">
            <div class="employee-info">
              <div class="employee-avatar">üë®</div>
              <div>
                <h4>Ahmed Al-Rashid</h4>
                <p>Senior Trainer</p>
                <span class="salary">AED 4,500/month</span>
              </div>
            </div>
            <div class="employee-actions">
              <button onclick="editEmployee(this)">‚úèÔ∏è</button>
              <button onclick="deleteEmployee(this)">üóëÔ∏è</button>
            </div>
          </div>
          
          <div class="employee-card">
            <div class="employee-info">
              <div class="employee-avatar">üë©</div>
              <div>
                <h4>Sarah Johnson</h4>
                <p>Receptionist</p>
                <span class="salary">AED 3,200/month</span>
              </div>
            </div>
            <div class="employee-actions">
              <button onclick="editEmployee(this)">‚úèÔ∏è</button>
              <button onclick="deleteEmployee(this)">üóëÔ∏è</button>
            </div>
          </div>
          
          <div class="employee-card">
            <div class="employee-info">
              <div class="employee-avatar">üë®</div>
              <div>
                <h4>Mike Chen</h4>
                <p>Fitness Trainer</p>
                <span class="salary">AED 4,000/month</span>
              </div>
            </div>
            <div class="employee-actions">
              <button onclick="editEmployee(this)">‚úèÔ∏è</button>
              <button onclick="deleteEmployee(this)">üóëÔ∏è</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Schedules Section -->
      <div id="schedules" class="staff-section" style="display:none;">
        <div class="section-header">
          <h3>üìÖ Staff Schedules</h3>
          <button class="add-btn" onclick="alert('Schedule management feature')">+ Create Schedule</button>
        </div>
        
        <div class="schedule-grid">
          <div class="schedule-card">
            <h4>Morning Shift (6:00 AM - 2:00 PM)</h4>
            <div class="shift-staff">
              <span class="staff-tag">Ahmed Al-Rashid</span>
              <span class="staff-tag">Sarah Johnson</span>
              <span class="staff-tag">Mike Chen</span>
            </div>
          </div>
          
          <div class="schedule-card">
            <h4>Evening Shift (2:00 PM - 10:00 PM)</h4>
            <div class="shift-staff">
              <span class="staff-tag">Lisa Park</span>
              <span class="staff-tag">David Wilson</span>
              <span class="staff-tag">Emma Davis</span>
            </div>
          </div>
          
          <div class="schedule-card">
            <h4>Night Shift (10:00 PM - 6:00 AM)</h4>
            <div class="shift-staff">
              <span class="staff-tag">Security Team</span>
              <span class="staff-tag">Cleaning Crew</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Payroll Section -->
      <div id="payroll" class="staff-section" style="display:none;">
        <div class="section-header">
          <h3>üí∞ Payroll Management</h3>
          <button class="add-btn" onclick="generatePayroll()">Generate Payroll</button>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-value">AED 45,600</div>
            <div class="stat-label">Monthly Payroll</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-value">AED 3,800</div>
            <div class="stat-label">Average Salary</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí≥</div>
            <div class="stat-value">AED 6,840</div>
            <div class="stat-label">Benefits & Bonuses</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-value">+8%</div>
            <div class="stat-label">YoY Growth</div>
          </div>
        </div>
        
        <div class="payroll-table">
          <div class="table-header">
            <span>Employee</span>
            <span>Base Salary</span>
            <span>Overtime</span>
            <span>Bonuses</span>
            <span>Total</span>
          </div>
          <div class="table-row">
            <span>Ahmed Al-Rashid</span>
            <span>AED 4,500</span>
            <span>AED 300</span>
            <span>AED 200</span>
            <span>AED 5,000</span>
          </div>
          <div class="table-row">
            <span>Sarah Johnson</span>
            <span>AED 3,200</span>
            <span>AED 150</span>
            <span>AED 100</span>
            <span>AED 3,450</span>
          </div>
          <div class="table-row">
            <span>Mike Chen</span>
            <span>AED 4,000</span>
            <span>AED 200</span>
            <span>AED 150</span>
            <span>AED 4,350</span>
          </div>
        </div>
      </div>
      
      <!-- Performance Section -->
      <div id="performance" class="staff-section" style="display:none;">
        <div class="section-header">
          <h3>üìä Performance Tracking</h3>
          <button class="add-btn" onclick="exportReports()">Export Reports</button>
        </div>
        
        <div class="performance-grid">
          <div class="performance-card">
            <div class="employee-info">
              <div class="employee-avatar">üë®</div>
              <div>
                <h4>Ahmed Al-Rashid</h4>
                <p>Senior Trainer</p>
              </div>
            </div>
            <div class="performance-metrics">
              <div class="metric">
                <span class="metric-label">Client Satisfaction</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 95%"></div>
                </div>
                <span class="metric-value">95%</span>
              </div>
              <div class="metric">
                <span class="metric-label">Punctuality</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 88%"></div>
                </div>
                <span class="metric-value">88%</span>
              </div>
            </div>
          </div>
          
          <div class="performance-card">
            <div class="employee-info">
              <div class="employee-avatar">üë©</div>
              <div>
                <h4>Sarah Johnson</h4>
                <p>Receptionist</p>
              </div>
            </div>
            <div class="performance-metrics">
              <div class="metric">
                <span class="metric-label">Customer Service</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 92%"></div>
                </div>
                <span class="metric-value">92%</span>
              </div>
              <div class="metric">
                <span class="metric-label">Efficiency</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 85%"></div>
                </div>
                <span class="metric-value">85%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Attendance Section -->
      <div id="attendance" class="staff-section" style="display:none;">
        <div class="section-header">
          <h3>‚è∞ Attendance Monitoring</h3>
          <button class="add-btn" onclick="alert('Attendance export feature')">Export Data</button>
        </div>
        
        <div class="attendance-table">
          <div class="table-header">
            <span>Employee</span>
            <span>Today</span>
            <span>This Week</span>
            <span>Check In</span>
            <span>Check Out</span>
          </div>
          <div class="table-row">
            <span>Ahmed Al-Rashid</span>
            <button class="attendance-btn" onclick="markAttendance(this)">‚úÖ</button>
            <span>5/5 days</span>
            <span>06:00 AM</span>
            <span>02:00 PM</span>
          </div>
          <div class="table-row">
            <span>Sarah Johnson</span>
            <button class="attendance-btn" onclick="markAttendance(this)">‚úÖ</button>
            <span>5/5 days</span>
            <span>08:00 AM</span>
            <span>04:00 PM</span>
          </div>
          <div class="table-row">
            <span>Mike Chen</span>
            <button class="attendance-btn" onclick="markAttendance(this)">‚ùå</button>
            <span>4/5 days</span>
            <span>--:--</span>
            <span>--:--</span>
          </div>
        </div>
      </div>
      
      <!-- Permissions Section -->
      <div id="permissions" class="staff-section" style="display:none;">
        <div class="section-header">
          <h3>üîê Role-Based Permissions</h3>
          <button class="add-btn" onclick="alert('Permission management feature')">Manage Roles</button>
        </div>
        
        <div class="permissions-grid">
          <div class="permission-card">
            <h4>üëî Gym Owner</h4>
            <div class="permissions-list">
              <span class="permission granted">‚úÖ Full System Access</span>
              <span class="permission granted">‚úÖ Financial Reports</span>
              <span class="permission granted">‚úÖ Staff Management</span>
              <span class="permission granted">‚úÖ System Settings</span>
            </div>
          </div>
          
          <div class="permission-card">
            <h4>üîß Admin Manager</h4>
            <div class="permissions-list">
              <span class="permission granted">‚úÖ Member Management</span>
              <span class="permission granted">‚úÖ Class Scheduling</span>
              <span class="permission granted">‚úÖ Equipment Management</span>
              <span class="permission denied">‚ùå Financial Reports</span>
            </div>
          </div>
          
          <div class="permission-card">
            <h4>üè™ Receptionist</h4>
            <div class="permissions-list">
              <span class="permission granted">‚úÖ Member Check-in</span>
              <span class="permission granted">‚úÖ New Registration</span>
              <span class="permission granted">‚úÖ Payment Processing</span>
              <span class="permission denied">‚ùå Staff Management</span>
            </div>
          </div>
          
          <div class="permission-card">
            <h4>üí™ Personal Trainer</h4>
            <div class="permissions-list">
              <span class="permission granted">‚úÖ Client Management</span>
              <span class="permission granted">‚úÖ Workout Plans</span>
              <span class="permission granted">‚úÖ Progress Tracking</span>
              <span class="permission denied">‚ùå System Settings</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let currentUserRole = 'owner'; // Track current user role
    
    // Login functionality
    document.getElementById('login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const role = document.getElementById('role').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (password === 'admin123') {
        currentUserRole = role; // Store current role
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById(role + '-dashboard').classList.add('active');
        
        if (role === 'owner') {
          setTimeout(initRevenueChart, 100);
        }
      } else {
        alert('Invalid credentials. Use password: admin123');
      }
    });
    
    function logout() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('login-screen').style.display = 'flex';
      document.getElementById('login-form').reset();
    }
    
    function initRevenueChart() {
      const ctx = document.getElementById('revenueChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [{
            label: 'Revenue (AED)',
            data: [38000, 42000, 39000, 45000, 47000, 45230],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { labels: { color: 'white' } }
          },
          scales: {
            y: { 
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            x: { 
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }
    
    function showFeature(featureName) {
      if (featureName === 'Staff Management') {
        showStaffManagement();
        return;
      }
      if (featureName === 'Financial Reports') {
        showFinancialReports();
        return;
      }
      if (featureName === 'Member Analytics') {
        showMemberAnalytics();
        return;
      }
      if (featureName === 'Business Settings') {
        showBusinessSettings();
        return;
      }
      if (featureName === 'Class Scheduling') {
        showClassScheduling();
        return;
      }
      
      const features = {
        'Financial Reports': 'Comprehensive financial analytics:\n‚Ä¢ Revenue & expense tracking\n‚Ä¢ Profit/loss statements\n‚Ä¢ Member payment status\n‚Ä¢ Tax reporting (UAE VAT)\n‚Ä¢ Budget forecasting',

        'Business Settings': 'Configure gym operations:\n‚Ä¢ Membership pricing\n‚Ä¢ Class schedules\n‚Ä¢ Equipment management\n‚Ä¢ Branch settings\n‚Ä¢ Policy management',
        'Member Management': 'Complete member control:\n‚Ä¢ Add/edit member profiles\n‚Ä¢ Membership status tracking\n‚Ä¢ Payment history\n‚Ä¢ Freeze/suspend accounts\n‚Ä¢ Communication logs',
        'Class Scheduling': 'Smart class management:\n‚Ä¢ Schedule classes & instructors\n‚Ä¢ Capacity management\n‚Ä¢ Booking system\n‚Ä¢ Waitlist handling\n‚Ä¢ Attendance tracking',
        'Equipment Management': 'Equipment lifecycle management:\n‚Ä¢ Maintenance schedules\n‚Ä¢ Repair tracking\n‚Ä¢ Inventory management\n‚Ä¢ Usage analytics\n‚Ä¢ Replacement planning',
        'System Settings': 'System administration:\n‚Ä¢ User permissions\n‚Ä¢ Security settings\n‚Ä¢ Backup management\n‚Ä¢ Integration settings\n‚Ä¢ Audit logs',
        'Member Check-in': 'Streamlined check-in process:\n‚Ä¢ QR code scanning\n‚Ä¢ Manual check-in\n‚Ä¢ Guest registration\n‚Ä¢ Access control\n‚Ä¢ Real-time capacity tracking',
        'New Registration': 'Member onboarding:\n‚Ä¢ Registration forms\n‚Ä¢ Document upload\n‚Ä¢ Payment processing\n‚Ä¢ Tour scheduling\n‚Ä¢ Welcome packages',
        'Payment Processing': 'Financial transactions:\n‚Ä¢ Membership renewals\n‚Ä¢ Personal training fees\n‚Ä¢ Product sales\n‚Ä¢ Refund processing\n‚Ä¢ Payment plans',
        'Customer Support': 'Support management:\n‚Ä¢ Inquiry tracking\n‚Ä¢ Complaint resolution\n‚Ä¢ Feedback collection\n‚Ä¢ Communication history\n‚Ä¢ Escalation procedures',
        'Client Management': 'Personal training clients:\n‚Ä¢ Client profiles\n‚Ä¢ Training history\n‚Ä¢ Progress photos\n‚Ä¢ Goal tracking\n‚Ä¢ Communication logs',
        'Workout Plans': 'Custom fitness programs:\n‚Ä¢ Exercise library\n‚Ä¢ Program templates\n‚Ä¢ Progress tracking\n‚Ä¢ Nutrition integration\n‚Ä¢ Performance analytics',
        'Progress Tracking': 'Client achievements:\n‚Ä¢ Body measurements\n‚Ä¢ Strength gains\n‚Ä¢ Cardio improvements\n‚Ä¢ Photo comparisons\n‚Ä¢ Goal milestones',
        'Session Booking': 'Training appointments:\n‚Ä¢ Calendar management\n‚Ä¢ Client scheduling\n‚Ä¢ Session notes\n‚Ä¢ Payment tracking\n‚Ä¢ Cancellation handling'
      };
      
      alert('üöÄ ' + featureName + '\n\n' + (features[featureName] || 'Feature details coming soon...'));
    }
    
    function showStaffManagement() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('staff-management').classList.add('active');
    }
    
    function showFinancialReports() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('financial-reports').classList.add('active');
      setTimeout(initFinancialCharts, 100);
    }
    
    function showMemberAnalytics() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('member-analytics').classList.add('active');
      setTimeout(initGrowthChart, 100);
    }
    
    function showBusinessSettings() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('business-settings').classList.add('active');
    }
    
    function showMemberManagement() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('member-management').classList.add('active');
    }
    
    function showMemberSection(section) {
      document.querySelectorAll('.member-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    function addMember() {
      const name = prompt('Member Name:');
      const email = prompt('Email:');
      const plan = prompt('Membership Plan (Basic/Standard/Premium):');
      
      if (name && email && plan) {
        const memberList = document.getElementById('member-list');
        const memberCard = document.createElement('div');
        memberCard.className = 'member-card';
        memberCard.innerHTML = `
          <div class="member-info">
            <div class="member-avatar">üë§</div>
            <div>
              <h4>${name}</h4>
              <p>${email}</p>
              <span class="member-plan">${plan}</span>
            </div>
          </div>
          <div class="member-status active">Active</div>
          <div class="member-actions">
            <button onclick="editMember(this)">‚úèÔ∏è</button>
            <button onclick="suspendMember(this)">‚è∏Ô∏è</button>
            <button onclick="viewHistory(this)">üìã</button>
          </div>
        `;
        memberList.appendChild(memberCard);
        alert('Member added successfully!');
      }
    }
    
    function editMember(btn) {
      const card = btn.closest('.member-card');
      const name = card.querySelector('h4').textContent;
      const newName = prompt('Edit Name:', name);
      if (newName) {
        card.querySelector('h4').textContent = newName;
        alert('Member updated!');
      }
    }
    
    function suspendMember(btn) {
      const card = btn.closest('.member-card');
      const status = card.querySelector('.member-status');
      if (status.textContent === 'Active') {
        status.textContent = 'Suspended';
        status.className = 'member-status suspended';
        btn.textContent = '‚ñ∂Ô∏è';
        alert('Member suspended!');
      } else {
        status.textContent = 'Active';
        status.className = 'member-status active';
        btn.textContent = '‚è∏Ô∏è';
        alert('Member reactivated!');
      }
    }
    
    function viewHistory(btn) {
      const card = btn.closest('.member-card');
      const name = card.querySelector('h4').textContent;
      alert(`Payment History - ${name}\n\n‚Ä¢ Dec 2024: AED 300 ‚úÖ\n‚Ä¢ Nov 2024: AED 300 ‚úÖ\n‚Ä¢ Oct 2024: AED 300 ‚úÖ\n‚Ä¢ Sep 2024: AED 300 ‚è∞ Late\n\nTotal Paid: AED 1,200`);
    }
    
    function backToDashboard() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById(currentUserRole + '-dashboard').classList.add('active');
    }
    
    function showStaffSection(section) {
      document.querySelectorAll('.staff-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    function showFinancialSection(section) {
      document.querySelectorAll('.financial-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      if (section === 'revenue-tracking') setTimeout(initRevenueChart, 100);
      if (section === 'profit-loss') setTimeout(initProfitLossChart, 100);
      if (section === 'budget-forecast') setTimeout(initBudgetChart, 100);
    }
    
    function showAnalyticsSection(section) {
      document.querySelectorAll('.analytics-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      if (section === 'growth-retention') setTimeout(initGrowthChart, 100);
      if (section === 'churn-prediction') setTimeout(initChurnChart, 100);
      if (section === 'usage-patterns') setTimeout(initUsageChart, 100);
      if (section === 'lifetime-value') setTimeout(initLTVChart, 100);
      if (section === 'demographics') setTimeout(initDemographicsChart, 100);
    }
    
    function showSettingsSection(section) {
      document.querySelectorAll('.settings-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    function addEmployee() {
      const name = prompt('Employee Name:');
      const role = prompt('Role (Trainer/Receptionist/Cleaner/Manager):');
      const salary = prompt('Monthly Salary (AED):');
      
      if (name && role && salary) {
        const employeeList = document.getElementById('employee-list');
        const employeeCard = document.createElement('div');
        employeeCard.className = 'employee-card';
        employeeCard.innerHTML = `
          <div class="employee-info">
            <div class="employee-avatar">üë§</div>
            <div>
              <h4>${name}</h4>
              <p>${role}</p>
              <span class="salary">AED ${salary}/month</span>
            </div>
          </div>
          <div class="employee-actions">
            <button onclick="editEmployee(this)">‚úèÔ∏è</button>
            <button onclick="deleteEmployee(this)">üóëÔ∏è</button>
          </div>
        `;
        employeeList.appendChild(employeeCard);
        alert('Employee added successfully!');
      }
    }
    
    function editEmployee(btn) {
      const card = btn.closest('.employee-card');
      const name = card.querySelector('h4').textContent;
      const newName = prompt('Edit Name:', name);
      if (newName) {
        card.querySelector('h4').textContent = newName;
        alert('Employee updated!');
      }
    }
    
    function deleteEmployee(btn) {
      if (confirm('Delete this employee?')) {
        btn.closest('.employee-card').remove();
        alert('Employee deleted!');
      }
    }
    
    function markAttendance(btn) {
      const status = btn.textContent === '‚úÖ' ? '‚ùå' : '‚úÖ';
      btn.textContent = status;
      btn.style.background = status === '‚úÖ' ? '#22c55e' : '#ef4444';
    }
    
    function generatePayroll() {
      alert('üí∞ Payroll Generated!\n\nTotal Payroll: AED 45,600\n‚Ä¢ 12 Employees processed\n‚Ä¢ Direct deposits initiated\n‚Ä¢ Tax calculations completed\n‚Ä¢ Reports generated');
    }
    
    function exportReports() {
      alert('üìä Reports Exported!\n\n‚Ä¢ Staff_Performance_Report.pdf\n‚Ä¢ Attendance_Summary.xlsx\n‚Ä¢ Payroll_Details.pdf\n‚Ä¢ Schedule_Overview.pdf\n\nFiles saved to Downloads folder.');
    }
    
    function generateFinancialReport(type) {
      const reports = {
        'revenue': 'üí∞ Revenue Report Generated!\n\n‚Ä¢ Monthly Revenue: AED 245,680\n‚Ä¢ YTD Revenue: AED 2,456,800\n‚Ä¢ Growth Rate: +15.2%\n‚Ä¢ Top Revenue Sources:\n  - Memberships: 65%\n  - Personal Training: 25%\n  - Products: 10%',
        'expenses': 'üí∏ Expense Report Generated!\n\n‚Ä¢ Monthly Expenses: AED 156,420\n‚Ä¢ YTD Expenses: AED 1,564,200\n‚Ä¢ Major Categories:\n  - Staff Salaries: 45%\n  - Rent & Utilities: 30%\n  - Equipment: 15%\n  - Marketing: 10%',
        'profit-loss': 'üìà P&L Statement Generated!\n\n‚Ä¢ Revenue: AED 245,680\n‚Ä¢ Expenses: AED 156,420\n‚Ä¢ Gross Profit: AED 89,260\n‚Ä¢ Net Profit Margin: 36.3%\n‚Ä¢ EBITDA: AED 95,680',
        'vat': 'üèõÔ∏è UAE VAT Report Generated!\n\n‚Ä¢ VAT Collected: AED 12,284\n‚Ä¢ VAT Paid: AED 7,821\n‚Ä¢ Net VAT Due: AED 4,463\n‚Ä¢ VAT Rate: 5%\n‚Ä¢ Filing Period: Q4 2024',
        'budget': 'üìä Budget Forecast Generated!\n\n‚Ä¢ Q1 2025 Forecast: AED 280,000\n‚Ä¢ Annual Projection: AED 3,200,000\n‚Ä¢ Growth Target: +18%\n‚Ä¢ Budget Variance: -2.3%'
      };
      alert(reports[type] || 'Report generated successfully!');
    }
    
    async function exportFinancialData(format) {
      if (format === 'pdf') {
        try {
          const response = await fetch('/api/financial/export/pdf', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' }
          });
          const result = await response.json();
          
          if (result.success) {
            alert(`üìÑ Financial Data Exported!\n\nFormat: PDF\nFiles Generated:\n‚Ä¢ ${result.files.join('\n‚Ä¢ ')}\n\nSaved to Downloads folder.`);
          }
        } catch (error) {
          alert(`üìÑ Financial Data Exported!\n\nFormat: PDF\nFiles Generated:\n‚Ä¢ Revenue_Analysis.pdf\n‚Ä¢ Expense_Breakdown.pdf\n‚Ä¢ PL_Statement.pdf\n‚Ä¢ VAT_Report.pdf\n‚Ä¢ Budget_Forecast.pdf\n\nSaved to Downloads folder.`);
        }
      } else {
        alert(`üìÑ Financial Data Exported!\n\nFormat: ${format.toUpperCase()}\nFiles Generated:\n‚Ä¢ Revenue_Analysis.${format}\n‚Ä¢ Expense_Breakdown.${format}\n‚Ä¢ PL_Statement.${format}\n‚Ä¢ VAT_Report.${format}\n‚Ä¢ Budget_Forecast.${format}\n\nSaved to Downloads folder.`);
      }
    }
    
    function initFinancialCharts() {
      // Initialize all financial charts when the section loads
      setTimeout(initRevenueChart, 100);
    }
    
    function initRevenueChart() {
      const ctx = document.getElementById('revenueTrackingChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
          datasets: [{
            label: 'Revenue (AED)',
            data: [180000, 195000, 210000, 225000, 240000, 245000, 250000, 255000, 260000, 265000, 270000, 275000],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4
          }, {
            label: 'Expenses (AED)',
            data: [120000, 125000, 130000, 135000, 140000, 145000, 150000, 152000, 154000, 156000, 158000, 160000],
            borderColor: '#FF6B6B',
            backgroundColor: 'rgba(255, 107, 107, 0.1)',
            borderWidth: 2,
            fill: false,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } },
            x: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }
          }
        }
      });
    }
    
    function initProfitLossChart() {
      const ctx = document.getElementById('profitLossChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'bar',
        data: {
          labels: ['Q1', 'Q2', 'Q3', 'Q4'],
          datasets: [{
            label: 'Revenue',
            data: [720000, 750000, 780000, 810000],
            backgroundColor: 'rgba(34, 197, 94, 0.8)'
          }, {
            label: 'Expenses',
            data: [480000, 495000, 510000, 525000],
            backgroundColor: 'rgba(239, 68, 68, 0.8)'
          }, {
            label: 'Profit',
            data: [240000, 255000, 270000, 285000],
            backgroundColor: 'rgba(229, 62, 62, 0.8)'
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } },
            x: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }
          }
        }
      });
    }
    
    function initBudgetChart() {
      const ctx = document.getElementById('budgetChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'doughnut',
        data: {
          labels: ['Memberships', 'Personal Training', 'Products', 'Classes', 'Other'],
          datasets: [{
            data: [65, 25, 10, 8, 2],
            backgroundColor: [
              'rgba(229, 62, 62, 0.8)',
              'rgba(255, 107, 107, 0.8)',
              'rgba(34, 197, 94, 0.8)',
              'rgba(59, 130, 246, 0.8)',
              'rgba(168, 85, 247, 0.8)'
            ]
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } }
        }
      });
    }
    
    function initGrowthChart() {
      const ctx = document.getElementById('growthChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
          datasets: [{
            label: 'New Members',
            data: [45, 52, 48, 61, 55, 67, 72, 58, 63, 69, 74, 78],
            borderColor: '#22c55e',
            backgroundColor: 'rgba(34, 197, 94, 0.1)',
            borderWidth: 3,
            fill: true
          }, {
            label: 'Churned Members',
            data: [12, 15, 18, 14, 16, 13, 11, 19, 17, 14, 12, 15],
            borderColor: '#ef4444',
            backgroundColor: 'rgba(239, 68, 68, 0.1)',
            borderWidth: 2,
            fill: true
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } },
            x: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }
          }
        }
      });
    }
    
    function initChurnChart() {
      const ctx = document.getElementById('churnChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'doughnut',
        data: {
          labels: ['Low Risk', 'Medium Risk', 'High Risk', 'Critical Risk'],
          datasets: [{
            data: [65, 20, 10, 5],
            backgroundColor: [
              'rgba(34, 197, 94, 0.8)',
              'rgba(251, 191, 36, 0.8)',
              'rgba(249, 115, 22, 0.8)',
              'rgba(239, 68, 68, 0.8)'
            ]
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } }
        }
      });
    }
    
    function initUsageChart() {
      const ctx = document.getElementById('usageChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'bar',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            label: 'Peak Hours (6-9 AM)',
            data: [180, 165, 172, 168, 175, 145, 120],
            backgroundColor: 'rgba(229, 62, 62, 0.8)'
          }, {
            label: 'Evening (6-9 PM)',
            data: [220, 210, 225, 215, 230, 195, 160],
            backgroundColor: 'rgba(255, 107, 107, 0.8)'
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } },
            x: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }
          }
        }
      });
    }
    
    function initLTVChart() {
      const ctx = document.getElementById('ltvChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'scatter',
        data: {
          datasets: [{
            label: 'Member LTV vs Tenure',
            data: [
              {x: 6, y: 1800}, {x: 12, y: 3600}, {x: 18, y: 5400},
              {x: 24, y: 7200}, {x: 30, y: 9000}, {x: 36, y: 10800}
            ],
            backgroundColor: 'rgba(229, 62, 62, 0.6)',
            borderColor: '#E53E3E',
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { 
              title: { display: true, text: 'Lifetime Value (AED)', color: 'white' },
              ticks: { color: 'white' }, 
              grid: { color: 'rgba(255, 255, 255, 0.1)' } 
            },
            x: { 
              title: { display: true, text: 'Tenure (Months)', color: 'white' },
              ticks: { color: 'white' }, 
              grid: { color: 'rgba(255, 255, 255, 0.1)' } 
            }
          }
        }
      });
    }
    
    function initDemographicsChart() {
      const ctx = document.getElementById('demographicsChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'bar',
        data: {
          labels: ['18-25', '26-35', '36-45', '46-55', '55+'],
          datasets: [{
            label: 'Male',
            data: [120, 280, 220, 150, 80],
            backgroundColor: 'rgba(59, 130, 246, 0.8)'
          }, {
            label: 'Female',
            data: [95, 240, 180, 120, 65],
            backgroundColor: 'rgba(236, 72, 153, 0.8)'
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } },
            x: { ticks: { color: 'white' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }
          }
        }
      });
    }
    
    // Class Scheduling Functions
    function showClassScheduling() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('class-scheduling').classList.add('active');
    }
    
    function showClassSection(section) {
      document.querySelectorAll('.class-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    function addClass() {
      const name = prompt('Class Name:');
      const instructor = prompt('Instructor:');
      const time = prompt('Time (HH:MM):');
      const capacity = prompt('Capacity:');
      const room = prompt('Room:');
      const price = prompt('Price (AED):');
      
      if (name && instructor && time && capacity && room && price) {
        const classList = document.getElementById('class-list');
        const classCard = document.createElement('div');
        classCard.className = 'class-card';
        classCard.innerHTML = `
          <div class="class-header">
            <h4>${name}</h4>
            <span class="class-status active">Active</span>
          </div>
          <div class="class-details">
            <p><strong>Instructor:</strong> ${instructor}</p>
            <p><strong>Time:</strong> ${time} - ${time}</p>
            <p><strong>Capacity:</strong> 0/${capacity}</p>
            <p><strong>Room:</strong> ${room}</p>
            <p><strong>Price:</strong> AED ${price}</p>
          </div>
          <div class="class-actions">
            <button onclick="editClass(this)">‚úèÔ∏è</button>
            <button onclick="viewBookings(this)">üë•</button>
            <button onclick="cancelClass(this)">‚ùå</button>
          </div>
        `;
        classList.appendChild(classCard);
        alert('Class added successfully!');
      }
    }
    
    function editClass(btn) {
      const card = btn.closest('.class-card');
      const name = card.querySelector('h4').textContent;
      const newName = prompt('Edit Class Name:', name);
      if (newName) {
        card.querySelector('h4').textContent = newName;
        alert('Class updated!');
      }
    }
    
    function viewBookings(btn) {
      const card = btn.closest('.class-card');
      const name = card.querySelector('h4').textContent;
      alert(`Bookings for ${name}:\n\n‚Ä¢ Ahmed Al-Rashid - Confirmed\n‚Ä¢ Fatima Hassan - Confirmed\n‚Ä¢ Omar Khalil - Waitlist\n‚Ä¢ Sarah Johnson - Confirmed\n\nTotal: 15/20 booked, 3 on waitlist`);
    }
    
    function cancelClass(btn) {
      if (confirm('Cancel this class? All bookings will be refunded.')) {
        btn.closest('.class-card').remove();
        alert('Class cancelled and members notified!');
      }
    }
    
    function addBooking() {
      const member = prompt('Member Name:');
      const className = prompt('Class Name:');
      const date = prompt('Date (YYYY-MM-DD):');
      
      if (member && className && date) {
        alert(`Booking created for ${member} in ${className} on ${date}`);
      }
    }
    
    function cancelBooking(btn) {
      if (confirm('Cancel this booking?')) {
        btn.closest('.table-row').remove();
        alert('Booking cancelled and member notified!');
      }
    }
    
    function confirmFromWaitlist(btn) {
      const member = btn.closest('.waitlist-member');
      const memberName = member.querySelector('span').textContent;
      
      if (confirm(`Confirm ${memberName} from waitlist?`)) {
        member.remove();
        alert(`${memberName} confirmed and notified!`);
      }
    }
    
    function processWaitlist() {
      alert('Processing waitlist...\n\n‚Ä¢ 3 members moved to confirmed\n‚Ä¢ 2 members notified of availability\n‚Ä¢ Automatic notifications sent');
    }
    
    function toggleAttendance(btn) {
      if (btn.classList.contains('present')) {
        btn.classList.remove('present');
        btn.classList.add('absent');
        btn.textContent = '‚ùå Absent';
      } else {
        btn.classList.remove('absent');
        btn.classList.add('present');
        btn.textContent = '‚úÖ Present';
      }
    }
    
    function exportAttendance() {
      alert('üìä Attendance Report Exported!\n\nFormat: PDF\nFiles Generated:\n‚Ä¢ Class_Attendance_Report.pdf\n‚Ä¢ Monthly_Attendance_Summary.pdf\n‚Ä¢ Instructor_Performance.pdf\n\nSaved to Downloads folder.');
    }
    
    function assignInstructor() {
      const instructor = prompt('Instructor Name:');
      const className = prompt('Class Name:');
      const time = prompt('Time:');
      
      if (instructor && className && time) {
        alert(`${instructor} assigned to ${className} at ${time}`);
      }
    }
    
    // Equipment Management Functions
    function showEquipmentManagement() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('equipment-management').classList.add('active');
      setTimeout(initUsageAnalyticsChart, 100);
    }
    
    function showEquipmentSection(section) {
      document.querySelectorAll('.equipment-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      if (section === 'usage-analytics') setTimeout(initUsageAnalyticsChart, 100);
    }
    
    function addEquipment() {
      const name = prompt('Equipment Name:');
      const brand = prompt('Brand:');
      const category = prompt('Category (Cardio/Strength/Functional):');
      const location = prompt('Location:');
      const price = prompt('Purchase Price (AED):');
      
      if (name && brand && category && location && price) {
        const equipmentList = document.getElementById('equipment-list');
        const equipmentCard = document.createElement('div');
        equipmentCard.className = 'equipment-inventory-card';
        equipmentCard.innerHTML = `
          <div class="equipment-header">
            <h4>${name}</h4>
            <span class="equipment-status active">‚úÖ Active</span>
          </div>
          <div class="equipment-details">
            <p><strong>Brand:</strong> ${brand}</p>
            <p><strong>Location:</strong> ${location}</p>
            <p><strong>Usage:</strong> 0 / 10,000 hrs</p>
            <p><strong>Last Maintenance:</strong> New Equipment</p>
            <p><strong>Next Maintenance:</strong> 3 months</p>
          </div>
          <div class="usage-bar">
            <div class="usage-fill" style="width: 0%"></div>
          </div>
          <div class="equipment-actions">
            <button onclick="editEquipment(this)">‚úèÔ∏è</button>
            <button onclick="scheduleMaintenance(this)">üîß</button>
            <button onclick="viewHistory(this)">üìä</button>
          </div>
        `;
        equipmentList.appendChild(equipmentCard);
        alert('Equipment added successfully!');
      }
    }
    
    function editEquipment(btn) {
      const card = btn.closest('.equipment-inventory-card');
      const name = card.querySelector('h4').textContent;
      const newName = prompt('Edit Equipment Name:', name);
      if (newName) {
        card.querySelector('h4').textContent = newName;
        alert('Equipment updated!');
      }
    }
    
    function scheduleMaintenance(btn) {
      const card = btn ? btn.closest('.equipment-inventory-card') : null;
      const equipmentName = card ? card.querySelector('h4').textContent : prompt('Equipment Name:');
      const date = prompt('Maintenance Date (YYYY-MM-DD):');
      const technician = prompt('Assigned Technician:');
      const type = prompt('Maintenance Type (Routine/Repair):');
      
      if (equipmentName && date && technician && type) {
        alert(`Maintenance scheduled for ${equipmentName} on ${date} with ${technician}`);
      }
    }
    
    function viewHistory(btn) {
      const card = btn.closest('.equipment-inventory-card');
      const name = card.querySelector('h4').textContent;
      alert(`Equipment History - ${name}\n\n‚Ä¢ Purchase Date: Jan 15, 2023\n‚Ä¢ Total Usage: 2,847 hours\n‚Ä¢ Maintenance Records: 3\n‚Ä¢ Repair History: 1\n‚Ä¢ Current Condition: Good\n‚Ä¢ Warranty: Valid until Jan 2026`);
    }
    
    function completeMaintenance(btn) {
      const row = btn.closest('.table-row');
      const equipment = row.querySelector('span').textContent;
      
      if (confirm(`Mark maintenance as completed for ${equipment}?`)) {
        const status = row.querySelector('.maintenance-status');
        status.textContent = '‚úÖ Completed';
        status.className = 'maintenance-status completed';
        btn.textContent = 'Completed';
        btn.disabled = true;
        alert('Maintenance marked as completed!');
      }
    }
    
    function addRepairRecord() {
      const equipment = prompt('Equipment Name:');
      const issue = prompt('Issue Description:');
      const solution = prompt('Solution Applied:');
      const cost = prompt('Repair Cost (AED):');
      const technician = prompt('Technician:');
      
      if (equipment && issue && solution && cost && technician) {
        alert(`Repair record added for ${equipment}\nCost: AED ${cost}\nTechnician: ${technician}`);
      }
    }
    
    function exportUsageReport() {
      alert('üìä Usage Analytics Exported!\n\nFormat: PDF\nFiles Generated:\n‚Ä¢ Equipment_Usage_Report.pdf\n‚Ä¢ Maintenance_Schedule.pdf\n‚Ä¢ Efficiency_Analysis.pdf\n‚Ä¢ Peak_Hours_Report.pdf\n\nSaved to Downloads folder.');
    }
    
    function generateReplacementPlan() {
      alert('üîÑ Replacement Plan Generated!\n\n‚Ä¢ High Priority: 3 items (AED 45,000)\n‚Ä¢ Medium Priority: 7 items (AED 84,000)\n‚Ä¢ Low Priority: 12 items (AED 156,000)\n\nTotal Budget Required: AED 285,000\nRecommended Timeline: 18 months');
    }
    
    function initUsageAnalyticsChart() {
      const ctx = document.getElementById('usageAnalyticsChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['6 AM', '9 AM', '12 PM', '3 PM', '6 PM', '9 PM'],
          datasets: [{
            label: 'Cardio Equipment',
            data: [85, 65, 45, 55, 95, 75],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4
          }, {
            label: 'Strength Equipment',
            data: [45, 55, 75, 85, 90, 70],
            borderColor: '#FF6B6B',
            backgroundColor: 'rgba(255, 107, 107, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { 
              title: { display: true, text: 'Usage %', color: 'white' },
              ticks: { color: 'white' }, 
              grid: { color: 'rgba(255, 255, 255, 0.1)' } 
            },
            x: { 
              title: { display: true, text: 'Time of Day', color: 'white' },
              ticks: { color: 'white' }, 
              grid: { color: 'rgba(255, 255, 255, 0.1)' } 
            }
          }
        }
      });
    }
    
    // System Settings Functions
    function showSystemSettings() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('system-settings').classList.add('active');
    }
    
    function showSystemSection(section) {
      document.querySelectorAll('.system-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    function addUser() {
      const email = prompt('User Email:');
      const role = prompt('Role (admin/receptionist/trainer):');
      const password = prompt('Temporary Password:');
      
      if (email && role && password) {
        alert(`User created successfully!\n\nEmail: ${email}\nRole: ${role}\nTemporary password sent to user.`);
      }
    }
    
    function editUser(btn) {
      const row = btn.closest('.table-row');
      const email = row.querySelector('span').textContent;
      const newRole = prompt('New Role:', 'receptionist');
      
      if (newRole) {
        alert(`User ${email} role updated to ${newRole}`);
      }
    }
    
    function unlockUser(btn) {
      const row = btn.closest('.table-row');
      const email = row.querySelector('span').textContent;
      
      if (confirm(`Unlock user account for ${email}?`)) {
        const status = row.querySelector('.user-status');
        status.textContent = '‚úÖ Active';
        status.className = 'user-status active';
        btn.textContent = 'Edit';
        btn.onclick = () => editUser(btn);
        alert('User account unlocked successfully!');
      }
    }
    
    function saveSecuritySettings() {
      alert('üîí Security Settings Saved!\n\n‚Ä¢ Password policy updated\n‚Ä¢ Session timeout configured\n‚Ä¢ Access control rules applied\n‚Ä¢ All users will be notified of changes');
    }
    
    function createBackup() {
      const backupStatus = document.querySelector('.backup-status');
      backupStatus.textContent = '‚è≥ In Progress';
      backupStatus.className = 'backup-status in-progress';
      
      setTimeout(() => {
        backupStatus.textContent = '‚úÖ Completed';
        backupStatus.className = 'backup-status completed';
        alert('üíæ Backup Created Successfully!\n\nSize: 2.6 GB\nLocation: /backups/gymestry\nTime: 3 minutes 42 seconds');
      }, 3000);
    }
    
    function downloadBackup(btn) {
      const item = btn.closest('.backup-item');
      const date = item.querySelector('span').textContent;
      alert(`üì• Downloading backup from ${date}...\n\nBackup will be downloaded to your Downloads folder.`);
    }
    
    function saveIntegrations() {
      alert('üîó Integration Settings Saved!\n\n‚Ä¢ Payment gateway configured\n‚Ä¢ Email service updated\n‚Ä¢ SMS service connected\n‚Ä¢ Analytics tracking enabled');
    }
    
    function filterAuditLogs(element) {
      const filterType = element.tagName.toLowerCase();
      const filterValue = element.value;
      
      if (filterValue) {
        alert(`Filtering audit logs by ${filterType}: ${filterValue}`);
      } else {
        alert('Showing all audit logs');
      }
    }
    
    function exportAuditLogs() {
      alert('üìÑ Audit Logs Exported!\n\nFormat: CSV\nFiles Generated:\n‚Ä¢ Audit_Logs_Full.csv\n‚Ä¢ Security_Events.csv\n‚Ä¢ User_Activities.csv\n‚Ä¢ System_Events.csv\n\nSaved to Downloads folder.');
    }
    
    // Client Management Functions
    function showClientManagement() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('client-management').classList.add('active');
    }
    
    function showClientSection(section) {
      document.querySelectorAll('.client-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    function addClient() {
      const name = prompt('Client Name:');
      const email = prompt('Email:');
      const phone = prompt('Phone:');
      const age = prompt('Age:');
      
      if (name && email && phone && age) {
        alert(`Client added successfully!\n\nName: ${name}\nEmail: ${email}\nPhone: ${phone}\nAge: ${age}`);
      }
    }
    
    function viewClientDetails(btn) {
      const card = btn.closest('.client-card');
      const name = card.querySelector('h4').textContent;
      alert(`Client Details - ${name}\n\n‚Ä¢ Current Weight: 78 kg\n‚Ä¢ Target Weight: 75 kg\n‚Ä¢ Body Fat: 18.5%\n‚Ä¢ Sessions Completed: 24/32\n‚Ä¢ Join Date: Jan 15, 2024\n‚Ä¢ Emergency Contact: Fatima Al-Mansouri`);
    }
    
    function editClient(btn) {
      const card = btn.closest('.client-card');
      const name = card.querySelector('h4').textContent;
      alert(`Edit Client - ${name}\n\nClient profile editing interface would open here.`);
    }
    
    function addSession(btn) {
      const card = btn.closest('.client-card');
      const name = card.querySelector('h4').textContent;
      alert(`Add Training Session - ${name}\n\nSession logging interface would open here.`);
    }
    
    // Workout Plans Functions
    function showWorkoutPlans() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('workout-plans').classList.add('active');
      setTimeout(initProgressChart, 100);
    }
    
    function showWorkoutSection(section) {
      document.querySelectorAll('.workout-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      if (section === 'progress-tracking') setTimeout(initProgressChart, 100);
    }
    
    function addExercise() {
      const name = prompt('Exercise Name:');
      const category = prompt('Category (Chest/Back/Legs/etc):');
      const difficulty = prompt('Difficulty (Beginner/Intermediate/Advanced):');
      const equipment = prompt('Equipment Required:');
      
      if (name && category && difficulty && equipment) {
        alert(`Exercise added successfully!\n\nName: ${name}\nCategory: ${category}\nDifficulty: ${difficulty}\nEquipment: ${equipment}`);
      }
    }
    
    function filterExercises(select) {
      const filterValue = select.value;
      const filterType = select.options[0].textContent.split(' ')[1].toLowerCase();
      
      if (filterValue) {
        alert(`Filtering exercises by ${filterType}: ${filterValue}`);
      } else {
        alert('Showing all exercises');
      }
    }
    
    function viewExercise(btn) {
      const card = btn.closest('.exercise-card');
      const name = card.querySelector('h4').textContent;
      alert(`Exercise Details - ${name}\n\n‚Ä¢ Muscle Groups: Chest, Triceps, Shoulders\n‚Ä¢ Equipment: Barbell\n‚Ä¢ Difficulty: Intermediate\n‚Ä¢ Calories: 8 per minute\n‚Ä¢ Instructions: Lie on bench, grip bar shoulder-width apart...`);
    }
    
    function editExercise(btn) {
      const card = btn.closest('.exercise-card');
      const name = card.querySelector('h4').textContent;
      alert(`Edit Exercise - ${name}\n\nExercise editing interface would open here.`);
    }
    
    function addToPlan(btn) {
      const card = btn.closest('.exercise-card');
      const name = card.querySelector('h4').textContent;
      alert(`Add to Plan - ${name}\n\nExercise added to current workout plan.`);
    }
    
    function createTemplate() {
      const name = prompt('Template Name:');
      const category = prompt('Category (Strength/Fat Loss/Endurance):');
      const duration = prompt('Duration (weeks):');
      const frequency = prompt('Days per week:');
      
      if (name && category && duration && frequency) {
        alert(`Template created successfully!\n\nName: ${name}\nCategory: ${category}\nDuration: ${duration} weeks\nFrequency: ${frequency} days/week`);
      }
    }
    
    function previewTemplate(btn) {
      const card = btn.closest('.template-card');
      const name = card.querySelector('h4').textContent;
      alert(`Template Preview - ${name}\n\n‚Ä¢ Duration: 4 weeks\n‚Ä¢ Frequency: 3 days/week\n‚Ä¢ Exercises: Bench Press, Squats, Pull-ups\n‚Ä¢ Sets/Reps: 3x8-10\n‚Ä¢ Progression: Weekly weight increases`);
    }
    
    function assignTemplate(btn) {
      const card = btn.closest('.template-card');
      const name = card.querySelector('h4').textContent;
      const client = prompt('Assign to client:');
      
      if (client) {
        alert(`Template assigned successfully!\n\nTemplate: ${name}\nClient: ${client}\nStart Date: Today`);
      }
    }
    
    function editTemplate(btn) {
      const card = btn.closest('.template-card');
      const name = card.querySelector('h4').textContent;
      alert(`Edit Template - ${name}\n\nTemplate editing interface would open here.`);
    }
    
    function logWorkout() {
      const client = prompt('Client Name:');
      const exercise = prompt('Exercise:');
      const sets = prompt('Sets:');
      const reps = prompt('Reps:');
      const weight = prompt('Weight (kg):');
      
      if (client && exercise && sets && reps && weight) {
        alert(`Workout logged successfully!\n\nClient: ${client}\nExercise: ${exercise}\nSets: ${sets}\nReps: ${reps}\nWeight: ${weight}kg`);
      }
    }
    
    function createNutritionPlan() {
      const client = prompt('Client Name:');
      const goal = prompt('Goal (Muscle Building/Fat Loss/Maintenance):');
      const calories = prompt('Daily Calories:');
      
      if (client && goal && calories) {
        alert(`Nutrition plan created!\n\nClient: ${client}\nGoal: ${goal}\nDaily Calories: ${calories}\nMacro split calculated automatically.`);
      }
    }
    
    function generateReport() {
      alert('üìà Performance Report Generated!\n\nFormat: PDF\nFiles Generated:\n‚Ä¢ Client_Performance_Analysis.pdf\n‚Ä¢ Strength_Progress_Report.pdf\n‚Ä¢ Workout_Consistency_Report.pdf\n‚Ä¢ Nutrition_Compliance_Report.pdf\n\nSaved to Downloads folder.');
    }
    
    function initProgressChart() {
      const ctx = document.getElementById('progressChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
          datasets: [{
            label: 'Bench Press (kg)',
            data: [60, 62, 65, 67, 70, 72],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4
          }, {
            label: 'Squats (kg)',
            data: [80, 82, 85, 87, 90, 92],
            borderColor: '#FF6B6B',
            backgroundColor: 'rgba(255, 107, 107, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: { 
              title: { display: true, text: 'Weight (kg)', color: 'white' },
              ticks: { color: 'white' }, 
              grid: { color: 'rgba(255, 255, 255, 0.1)' } 
            },
            x: { 
              title: { display: true, text: 'Training Period', color: 'white' },
              ticks: { color: 'white' }, 
              grid: { color: 'rgba(255, 255, 255, 0.1)' } 
            }
          }
        }
      });
    }
    
    // Progress Tracking Functions
    function showProgressTracking() {
      document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
      document.getElementById('progress-tracking').classList.add('active');
      setTimeout(initMeasurementsChart, 100);
    }
    
    function showProgressSection(section) {
      document.querySelectorAll('.progress-section').forEach(s => s.style.display = 'none');
      document.getElementById(section).style.display = 'block';
      
      document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      if (section === 'body-measurements') setTimeout(initMeasurementsChart, 100);
      if (section === 'strength-gains') setTimeout(initStrengthChart, 100);
      if (section === 'cardio-improvements') setTimeout(initCardioChart, 100);
    }
    
    function addMeasurement() {
      const client = prompt('Client Name:');
      const weight = prompt('Weight (kg):');
      const bodyFat = prompt('Body Fat %:');
      const muscleMass = prompt('Muscle Mass (kg):');
      
      if (client && weight && bodyFat && muscleMass) {
        alert(`Measurement added successfully!\n\nClient: ${client}\nWeight: ${weight}kg\nBody Fat: ${bodyFat}%\nMuscle Mass: ${muscleMass}kg`);
      }
    }
    
    function logStrengthProgress() {
      const client = prompt('Client Name:');
      const exercise = prompt('Exercise:');
      const weight = prompt('Weight (kg):');
      const reps = prompt('Reps:');
      const sets = prompt('Sets:');
      
      if (client && exercise && weight && reps && sets) {
        alert(`Strength progress logged!\n\nClient: ${client}\nExercise: ${exercise}\nWeight: ${weight}kg\nReps: ${reps}\nSets: ${sets}`);
      }
    }
    
    function logCardioProgress() {
      const client = prompt('Client Name:');
      const exercise = prompt('Cardio Exercise:');
      const duration = prompt('Duration (minutes):');
      const distance = prompt('Distance (km):');
      
      if (client && exercise && duration && distance) {
        alert(`Cardio progress logged!\n\nClient: ${client}\nExercise: ${exercise}\nDuration: ${duration} min\nDistance: ${distance} km`);
      }
    }
    
    function uploadProgressPhoto() {
      const client = prompt('Client Name:');
      const type = prompt('Photo Type (front/side/back):');
      const notes = prompt('Notes:');
      
      if (client && type) {
        alert(`Progress photo uploaded!\n\nClient: ${client}\nType: ${type}\nNotes: ${notes || 'None'}`);
      }
    }
    
    function addMilestone() {
      const client = prompt('Client Name:');
      const title = prompt('Milestone Title:');
      const category = prompt('Category (weight/strength/cardio):');
      const reward = prompt('Reward:');
      
      if (client && title && category) {
        alert(`Milestone added!\n\nClient: ${client}\nTitle: ${title}\nCategory: ${category}\nReward: ${reward || 'None'}`);
      }
    }
    
    function initMeasurementsChart() {
      const ctx = document.getElementById('measurementsChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['Sep', 'Oct', 'Nov', 'Dec'],
          datasets: [{
            label: 'Weight (kg)',
            data: [82, 80.5, 79.2, 78.0],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            yAxisID: 'y'
          }, {
            label: 'Body Fat (%)',
            data: [22, 21.2, 19.8, 18.5],
            borderColor: '#FF6B6B',
            backgroundColor: 'rgba(255, 107, 107, 0.1)',
            borderWidth: 2,
            yAxisID: 'y1'
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: {
              type: 'linear',
              display: true,
              position: 'left',
              title: { display: true, text: 'Weight (kg)', color: 'white' },
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            y1: {
              type: 'linear',
              display: true,
              position: 'right',
              title: { display: true, text: 'Body Fat (%)', color: 'white' },
              ticks: { color: 'white' },
              grid: { drawOnChartArea: false }
            },
            x: {
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }
    
    function initStrengthChart() {
      const ctx = document.getElementById('strengthChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
          datasets: [{
            label: 'Bench Press 1RM (kg)',
            data: [90, 95, 98, 100, 103, 106],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4
          }, {
            label: 'Squats 1RM (kg)',
            data: [140, 145, 150, 155, 158, 160],
            borderColor: '#FF6B6B',
            backgroundColor: 'rgba(255, 107, 107, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: {
              title: { display: true, text: '1RM Weight (kg)', color: 'white' },
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            x: {
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }
    
    function initCardioChart() {
      const ctx = document.getElementById('cardioChart');
      if (!ctx) return;
      
      new Chart(ctx.getContext('2d'), {
        type: 'line',
        data: {
          labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6'],
          datasets: [{
            label: 'Distance (km)',
            data: [3.5, 3.8, 4.2, 4.5, 4.8, 5.2],
            borderColor: '#E53E3E',
            backgroundColor: 'rgba(229, 62, 62, 0.1)',
            borderWidth: 3,
            fill: true,
            tension: 0.4
          }, {
            label: 'Avg Heart Rate (bpm)',
            data: [165, 162, 160, 158, 156, 155],
            borderColor: '#FF6B6B',
            backgroundColor: 'rgba(255, 107, 107, 0.1)',
            borderWidth: 2,
            yAxisID: 'y1'
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { labels: { color: 'white' } } },
          scales: {
            y: {
              type: 'linear',
              display: true,
              position: 'left',
              title: { display: true, text: 'Distance (km)', color: 'white' },
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            y1: {
              type: 'linear',
              display: true,
              position: 'right',
              title: { display: true, text: 'Heart Rate (bpm)', color: 'white' },
              ticks: { color: 'white' },
              grid: { drawOnChartArea: false }
            },
            x: {
              ticks: { color: 'white' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }
    // Customer Support Functions
    let currentTicketId = null;
    let supportTickets = [];
    let supportFeedback = [];
    
    function showCustomerSupport() {
      hideAllSections();
      document.getElementById('customerSupportSection').style.display = 'block';
      loadSupportData();
    }
    
    function showSupportTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      document.getElementById(tabName + 'Tab').classList.add('active');
      event.target.classList.add('active');
      
      if (tabName === 'tickets') {
        loadTickets();
      } else if (tabName === 'feedback') {
        loadFeedback();
      }
    }
    
    async function loadSupportData() {
      try {
        const [statsRes, ticketsRes] = await Promise.all([
          fetch('http://localhost:3016/api/support/stats'),
          fetch('http://localhost:3016/api/support/tickets')
        ]);
        
        const stats = await statsRes.json();
        supportTickets = await ticketsRes.json();
        
        document.getElementById('totalTickets').textContent = stats.totalTickets;
        document.getElementById('openTickets').textContent = stats.openTickets;
        document.getElementById('resolvedTickets').textContent = stats.resolvedTickets;
        document.getElementById('averageRating').textContent = stats.averageRating;
        
        loadTickets();
      } catch (error) {
        console.error('Error loading support data:', error);
      }
    }
    
    function loadTickets() {
      const ticketsList = document.getElementById('ticketsList');
      ticketsList.innerHTML = '';
      
      supportTickets.forEach(ticket => {
        const ticketItem = document.createElement('div');
        ticketItem.className = 'ticket-item';
        ticketItem.innerHTML = `
          <div class="ticket-header">
            <h4>${ticket.subject}</h4>
            <div class="ticket-meta">
              <span class="ticket-type ${ticket.type}">${ticket.type}</span>
              <span class="ticket-status ${ticket.status}">${ticket.status}</span>
              <span class="ticket-priority ${ticket.priority}">${ticket.priority}</span>
            </div>
          </div>
          <p><strong>Member:</strong> ${ticket.memberName} (${ticket.memberId})</p>
          <p>${ticket.description}</p>
          <p><small>Created: ${new Date(ticket.createdAt).toLocaleString()}</small></p>
        `;
        ticketItem.onclick = () => openTicketModal(ticket.id);
        ticketsList.appendChild(ticketItem);
      });
    }
    
    async function filterTickets() {
      const status = document.getElementById('statusFilter').value;
      const type = document.getElementById('typeFilter').value;
      const priority = document.getElementById('priorityFilter').value;
      
      const params = new URLSearchParams();
      if (status) params.append('status', status);
      if (type) params.append('type', type);
      if (priority) params.append('priority', priority);
      
      try {
        const response = await fetch(`http://localhost:3016/api/support/tickets?${params}`);
        supportTickets = await response.json();
        loadTickets();
      } catch (error) {
        console.error('Error filtering tickets:', error);
      }
    }
    
    async function openTicketModal(ticketId) {
      try {
        const response = await fetch(`http://localhost:3016/api/support/tickets/${ticketId}`);
        const data = await response.json();
        
        currentTicketId = ticketId;
        
        document.getElementById('modalTicketSubject').textContent = data.ticket.subject;
        document.getElementById('modalMemberName').textContent = data.ticket.memberName;
        document.getElementById('modalTicketType').textContent = data.ticket.type;
        document.getElementById('modalTicketStatus').textContent = data.ticket.status;
        document.getElementById('modalTicketPriority').textContent = data.ticket.priority;
        
        const commsList = document.getElementById('modalCommunications');
        commsList.innerHTML = '';
        
        data.communications.forEach(comm => {
          const commItem = document.createElement('div');
          commItem.className = `communication-item ${comm.from}`;
          commItem.innerHTML = `
            <div class="comm-header">
              <span class="comm-from">${comm.from}</span>
              <span class="comm-time">${new Date(comm.timestamp).toLocaleString()}</span>
            </div>
            <p>${comm.message}</p>
          `;
          commsList.appendChild(commItem);
        });
        
        document.getElementById('ticketModal').style.display = 'flex';
      } catch (error) {
        console.error('Error loading ticket details:', error);
      }
    }
    
    function closeTicketModal() {
      document.getElementById('ticketModal').style.display = 'none';
      currentTicketId = null;
    }
    
    async function addMessage() {
      const message = document.getElementById('newMessage').value.trim();
      if (!message || !currentTicketId) return;
      
      try {
        const response = await fetch(`http://localhost:3016/api/support/tickets/${currentTicketId}/communications`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ from: 'staff', message })
        });
        
        const result = await response.json();
        
        if (result.success) {
          document.getElementById('newMessage').value = '';
          openTicketModal(currentTicketId); // Refresh modal
        }
      } catch (error) {
        console.error('Error adding message:', error);
      }
    }
    
    async function updateTicketStatus() {
      const newStatus = prompt('Enter new status (open/in_progress/resolved):');
      if (!newStatus || !currentTicketId) return;
      
      try {
        const response = await fetch(`http://localhost:3016/api/support/tickets/${currentTicketId}`, {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ status: newStatus })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert('Status updated successfully');
          closeTicketModal();
          loadSupportData();
        }
      } catch (error) {
        console.error('Error updating status:', error);
      }
    }
    
    async function escalateTicket() {
      const reason = prompt('Enter escalation reason:');
      if (!reason || !currentTicketId) return;
      
      try {
        const response = await fetch(`http://localhost:3016/api/support/tickets/${currentTicketId}/escalate`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ reason })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert('Ticket escalated to manager');
          openTicketModal(currentTicketId); // Refresh modal
          loadSupportData();
        }
      } catch (error) {
        console.error('Error escalating ticket:', error);
      }
    }
    
    async function createTicket() {
      const memberId = document.getElementById('newMemberId').value;
      const memberName = document.getElementById('newMemberName').value;
      const type = document.getElementById('newTicketType').value;
      const priority = document.getElementById('newPriority').value;
      const subject = document.getElementById('newSubject').value;
      const description = document.getElementById('newDescription').value;
      
      if (!memberId || !memberName || !type || !subject || !description) {
        alert('Please fill all required fields');
        return;
      }
      
      try {
        const response = await fetch('http://localhost:3016/api/support/tickets', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ memberId, memberName, type, subject, description, priority })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert('Ticket created successfully');
          document.getElementById('newMemberId').value = '';
          document.getElementById('newMemberName').value = '';
          document.getElementById('newSubject').value = '';
          document.getElementById('newDescription').value = '';
          loadSupportData();
        }
      } catch (error) {
        console.error('Error creating ticket:', error);
      }
    }
    
    async function loadFeedback() {
      try {
        const response = await fetch('http://localhost:3016/api/support/feedback');
        supportFeedback = await response.json();
        
        const feedbackList = document.getElementById('feedbackList');
        feedbackList.innerHTML = '';
        
        supportFeedback.forEach(feedback => {
          const feedbackItem = document.createElement('div');
          feedbackItem.className = 'feedback-item';
          feedbackItem.innerHTML = `
            <div class="feedback-header">
              <h4>${feedback.memberName}</h4>
              <div class="rating-stars">${'‚òÖ'.repeat(feedback.rating)}${'‚òÜ'.repeat(5-feedback.rating)}</div>
            </div>
            <div class="feedback-category ${feedback.category}">${feedback.category}</div>
            <p>${feedback.comment}</p>
            <p><small>${new Date(feedback.date).toLocaleString()}</small></p>
          `;
          feedbackList.appendChild(feedbackItem);
        });
      } catch (error) {
        console.error('Error loading feedback:', error);
      }
    }
    
    async function filterFeedback() {
      const category = document.getElementById('categoryFilter').value;
      const rating = document.getElementById('ratingFilter').value;
      
      const params = new URLSearchParams();
      if (category) params.append('category', category);
      if (rating) params.append('rating', rating);
      
      try {
        const response = await fetch(`http://localhost:3016/api/support/feedback?${params}`);
        supportFeedback = await response.json();
        loadFeedback();
      } catch (error) {
        console.error('Error filtering feedback:', error);
      }
    }
    
    async function loadMemberHistory() {
      const memberId = document.getElementById('memberIdSearch').value.trim();
      if (!memberId) {
        alert('Please enter a Member ID');
        return;
      }
      
      try {
        const response = await fetch(`http://localhost:3016/api/support/member/${memberId}/history`);
        const history = await response.json();
        
        const historyDiv = document.getElementById('memberHistory');
        historyDiv.innerHTML = `
          <div class="history-section">
            <h4>Support Tickets (${history.tickets.length})</h4>
            ${history.tickets.map(ticket => `
              <div class="ticket-item" onclick="openTicketModal(${ticket.id})">
                <strong>${ticket.subject}</strong> - ${ticket.status}
                <br><small>${new Date(ticket.createdAt).toLocaleString()}</small>
              </div>
            `).join('')}
          </div>
          <div class="history-section">
            <h4>Feedback (${history.feedback.length})</h4>
            ${history.feedback.map(feedback => `
              <div class="feedback-item">
                <strong>${feedback.category}</strong> - ${'‚òÖ'.repeat(feedback.rating)}
                <br>${feedback.comment}
                <br><small>${new Date(feedback.date).toLocaleString()}</small>
              </div>
            `).join('')}
          </div>
        `;
      } catch (error) {
        console.error('Error loading member history:', error);
      }
    }

    // Payment Processing Functions
    let cart = [];
    let products = [];
    let members = [];
    let transactions = [];
    let paymentPlans = [];
    
    function showPaymentProcessing() {
      hideAllSections();
      document.getElementById('paymentProcessingSection').style.display = 'block';
      loadPaymentData();
    }
    
    function showPaymentTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      document.getElementById(tabName + 'Tab').classList.add('active');
      event.target.classList.add('active');
      
      if (tabName === 'products') {
        loadProducts();
      } else if (tabName === 'refunds') {
        loadRefundableTransactions();
      } else if (tabName === 'plans') {
        loadPaymentPlans();
      }
    }
    
    async function loadPaymentData() {
      try {
        const [membersRes, transactionsRes] = await Promise.all([
          fetch('http://localhost:3015/api/payments/members'),
          fetch('http://localhost:3015/api/payments/transactions')
        ]);
        
        members = await membersRes.json();
        transactions = await transactionsRes.json();
        
        populateMemberSelects();
        loadRecentTransactions();
      } catch (error) {
        console.error('Error loading payment data:', error);
      }
    }
    
    function populateMemberSelects() {
      const selects = ['renewalMember', 'trainingMember', 'productMember', 'planMember'];
      
      selects.forEach(selectId => {
        const select = document.getElementById(selectId);
        select.innerHTML = '<option value="">Select Member</option>';
        
        members.forEach(member => {
          const option = document.createElement('option');
          option.value = member.id;
          option.textContent = `${member.name} (${member.id})`;
          select.appendChild(option);
        });
      });
    }
    
    async function processRenewal() {
      const memberId = document.getElementById('renewalMember').value;
      const planType = document.getElementById('renewalPlan').value;
      const paymentMethod = document.getElementById('renewalMethod').value;
      
      if (!memberId || !planType) {
        alert('Please select member and plan');
        return;
      }
      
      const amounts = { basic: 200, standard: 300, premium: 450 };
      const amount = amounts[planType];
      
      try {
        const response = await fetch('http://localhost:3015/api/payments/membership-renewal', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ memberId, planType, amount, paymentMethod })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Membership renewed successfully!\n\nMember: ${result.member.name}\nPlan: ${planType}\nAmount: AED ${amount}\nNext Due: ${result.member.nextDue}`);
          loadPaymentData();
        } else {
          alert(`‚ùå Renewal failed: ${result.message}`);
        }
      } catch (error) {
        console.error('Error processing renewal:', error);
        alert('Error processing renewal. Please try again.');
      }
    }
    
    async function processTrainingPayment() {
      const memberId = document.getElementById('trainingMember').value;
      const trainerId = document.getElementById('trainer').value;
      const sessions = parseInt(document.getElementById('sessions').value);
      const rate = parseFloat(document.getElementById('sessionRate').value);
      const paymentMethod = document.getElementById('trainingMethod').value;
      
      if (!memberId || !trainerId || !sessions || !rate) {
        alert('Please fill all training payment details');
        return;
      }
      
      const amount = sessions * rate;
      
      try {
        const response = await fetch('http://localhost:3015/api/payments/personal-training', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ memberId, trainerId, sessions, amount, paymentMethod })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Training payment processed!\n\nSessions: ${sessions}\nRate: AED ${rate}\nTotal: AED ${amount}`);
          document.getElementById('sessions').value = '';
          loadPaymentData();
        } else {
          alert('‚ùå Payment processing failed');
        }
      } catch (error) {
        console.error('Error processing training payment:', error);
        alert('Error processing payment. Please try again.');
      }
    }
    
    async function loadProducts() {
      try {
        const response = await fetch('http://localhost:3015/api/payments/products');
        products = await response.json();
        
        const productList = document.getElementById('productList');
        productList.innerHTML = '';
        
        products.forEach(product => {
          const productItem = document.createElement('div');
          productItem.className = 'product-item';
          productItem.innerHTML = `
            <div class="product-info">
              <h5>${product.name}</h5>
              <p>AED ${product.price} | Stock: ${product.stock}</p>
            </div>
            <div class="product-controls">
              <input type="number" class="quantity-input" min="1" max="${product.stock}" value="1" id="qty-${product.id}">
              <button class="add-to-cart" onclick="addToCart('${product.id}')">Add to Cart</button>
            </div>
          `;
          productList.appendChild(productItem);
        });
      } catch (error) {
        console.error('Error loading products:', error);
      }
    }
    
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      const quantity = parseInt(document.getElementById(`qty-${productId}`).value);
      
      if (quantity > product.stock) {
        alert('Insufficient stock');
        return;
      }
      
      const existingItem = cart.find(item => item.productId === productId);
      
      if (existingItem) {
        existingItem.quantity += quantity;
      } else {
        cart.push({ productId, name: product.name, price: product.price, quantity });
      }
      
      updateCartDisplay();
    }
    
    function updateCartDisplay() {
      const cartItems = document.getElementById('cartItems');
      const cartTotal = document.getElementById('cartTotal');
      
      cartItems.innerHTML = '';
      let total = 0;
      
      cart.forEach((item, index) => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
          <span>${item.name} x ${item.quantity}</span>
          <span>AED ${itemTotal}</span>
          <button onclick="removeFromCart(${index})" style="background: #ef4444; border: none; color: white; padding: 2px 6px; border-radius: 3px; cursor: pointer;">√ó</button>
        `;
        cartItems.appendChild(cartItem);
      });
      
      cartTotal.textContent = total;
    }
    
    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCartDisplay();
    }
    
    async function processProductSale() {
      const memberId = document.getElementById('productMember').value;
      const paymentMethod = document.getElementById('productMethod').value;
      
      if (!memberId || cart.length === 0) {
        alert('Please select member and add products to cart');
        return;
      }
      
      const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      
      try {
        const response = await fetch('http://localhost:3015/api/payments/product-sale', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ memberId, items: cart, totalAmount, paymentMethod })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Product sale completed!\n\nTotal: AED ${totalAmount}\nItems: ${cart.length}`);
          cart = [];
          updateCartDisplay();
          loadProducts();
          loadPaymentData();
        } else {
          alert(`‚ùå Sale failed: ${result.message}`);
        }
      } catch (error) {
        console.error('Error processing product sale:', error);
        alert('Error processing sale. Please try again.');
      }
    }
    
    async function loadRefundableTransactions() {
      const select = document.getElementById('refundTransaction');
      select.innerHTML = '<option value="">Select Transaction to Refund</option>';
      
      const refundableTransactions = transactions.filter(t => t.status === 'completed' && t.amount > 0);
      
      refundableTransactions.forEach(transaction => {
        const option = document.createElement('option');
        option.value = transaction.id;
        option.textContent = `${transaction.type} - AED ${transaction.amount} - ${new Date(transaction.date).toLocaleDateString()}`;
        select.appendChild(option);
      });
    }
    
    async function processRefund() {
      const transactionId = parseInt(document.getElementById('refundTransaction').value);
      const refundAmount = parseFloat(document.getElementById('refundAmount').value);
      const reason = document.getElementById('refundReason').value;
      
      if (!transactionId || !refundAmount || !reason) {
        alert('Please fill all refund details');
        return;
      }
      
      try {
        const response = await fetch('http://localhost:3015/api/payments/refund', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ originalTransactionId: transactionId, refundAmount, reason })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Refund processed successfully!\n\nAmount: AED ${refundAmount}\nReason: ${reason}`);
          document.getElementById('refundAmount').value = '';
          document.getElementById('refundReason').value = '';
          loadPaymentData();
        } else {
          alert('‚ùå Refund processing failed');
        }
      } catch (error) {
        console.error('Error processing refund:', error);
        alert('Error processing refund. Please try again.');
      }
    }
    
    async function createPaymentPlan() {
      const memberId = document.getElementById('planMember').value;
      const totalAmount = parseFloat(document.getElementById('totalAmount').value);
      const installments = parseInt(document.getElementById('installments').value);
      const firstPayment = parseFloat(document.getElementById('firstPayment').value);
      
      if (!memberId || !totalAmount || !installments || !firstPayment) {
        alert('Please fill all payment plan details');
        return;
      }
      
      try {
        const response = await fetch('http://localhost:3015/api/payments/payment-plan', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ memberId, totalAmount, installments, firstPayment })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Payment plan created!\n\nTotal: AED ${totalAmount}\nFirst Payment: AED ${firstPayment}\nInstallments: ${installments}`);
          document.getElementById('totalAmount').value = '';
          document.getElementById('installments').value = '';
          document.getElementById('firstPayment').value = '';
          loadPaymentPlans();
          loadPaymentData();
        } else {
          alert('‚ùå Payment plan creation failed');
        }
      } catch (error) {
        console.error('Error creating payment plan:', error);
        alert('Error creating payment plan. Please try again.');
      }
    }
    
    async function loadPaymentPlans() {
      try {
        const response = await fetch('http://localhost:3015/api/payments/payment-plans');
        paymentPlans = await response.json();
        
        const plansList = document.getElementById('paymentPlansList');
        plansList.innerHTML = '';
        
        paymentPlans.forEach(plan => {
          const member = members.find(m => m.id === plan.memberId);
          const progress = (plan.paidAmount / plan.totalAmount) * 100;
          
          const planItem = document.createElement('div');
          planItem.className = 'plan-item';
          planItem.innerHTML = `
            <div class="plan-info">
              <h5>${member?.name || plan.memberId}</h5>
              <div class="plan-progress">
                <div class="plan-progress-fill" style="width: ${progress}%"></div>
              </div>
            </div>
            <span>AED ${plan.paidAmount} / ${plan.totalAmount}</span>
            <span>${plan.installments} installments</span>
            <span>Next: ${plan.nextDue}</span>
            ${plan.status === 'active' ? `<button class="pay-installment" onclick="payInstallment(${plan.id})">Pay Installment</button>` : '<span style="color: #22c55e;">Completed</span>'}
          `;
          plansList.appendChild(planItem);
        });
      } catch (error) {
        console.error('Error loading payment plans:', error);
      }
    }
    
    async function payInstallment(planId) {
      const plan = paymentPlans.find(p => p.id === planId);
      const installmentAmount = Math.ceil(plan.remainingAmount / (plan.installments - Math.floor(plan.paidAmount / (plan.totalAmount / plan.installments))));
      
      try {
        const response = await fetch(`http://localhost:3015/api/payments/installment/${planId}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ amount: installmentAmount, paymentMethod: 'card' })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Installment paid!\n\nAmount: AED ${installmentAmount}\nRemaining: AED ${result.paymentPlan.remainingAmount}`);
          loadPaymentPlans();
          loadPaymentData();
        } else {
          alert('‚ùå Installment payment failed');
        }
      } catch (error) {
        console.error('Error paying installment:', error);
        alert('Error processing installment. Please try again.');
      }
    }
    
    function loadRecentTransactions() {
      const transactionsList = document.getElementById('transactionsList');
      transactionsList.innerHTML = '';
      
      const recentTransactions = transactions.slice(-10).reverse();
      
      recentTransactions.forEach(transaction => {
        const member = members.find(m => m.id === transaction.memberId);
        
        const transactionItem = document.createElement('div');
        transactionItem.className = 'transaction-item';
        transactionItem.innerHTML = `
          <span>${member?.name || transaction.memberId}</span>
          <span class="transaction-type ${transaction.type}">${transaction.type.replace('_', ' ')}</span>
          <span>AED ${transaction.amount}</span>
          <span class="transaction-status ${transaction.status}">${transaction.status}</span>
          <span>${new Date(transaction.date).toLocaleDateString()}</span>
        `;
        transactionsList.appendChild(transactionItem);
      });
    }

    // New Registration Functions
    let currentStep = 1;
    let registrationData = {};
    let currentRegistrationId = null;
    let selectedPlan = null;
    let uploadedDocuments = [];
    let selectedTourSlot = null;
    
    function showNewRegistration() {
      hideAllSections();
      document.getElementById('newRegistrationSection').style.display = 'block';
      resetRegistration();
      loadMembershipPlans();
    }
    
    function resetRegistration() {
      currentStep = 1;
      registrationData = {};
      currentRegistrationId = null;
      selectedPlan = null;
      uploadedDocuments = [];
      selectedTourSlot = null;
      
      // Reset steps
      document.querySelectorAll('.step').forEach((step, index) => {
        step.classList.remove('active', 'completed');
        if (index === 0) step.classList.add('active');
      });
      
      // Reset step content
      document.querySelectorAll('.registration-step').forEach((step, index) => {
        step.classList.remove('active');
        if (index === 0) step.classList.add('active');
      });
      
      // Clear forms
      document.querySelectorAll('.form-input').forEach(input => {
        input.value = '';
      });
    }
    
    async function loadMembershipPlans() {
      try {
        const response = await fetch('http://localhost:3014/api/membership-plans');
        const plans = await response.json();
        
        const plansContainer = document.getElementById('membershipPlans');
        plansContainer.innerHTML = '';
        
        plans.forEach(plan => {
          const planCard = document.createElement('div');
          planCard.className = 'plan-card';
          planCard.innerHTML = `
            <h4>${plan.name}</h4>
            <div class="plan-price">AED ${plan.price}</div>
            <ul class="plan-features">
              ${plan.features.map(feature => `<li>‚úÖ ${feature}</li>`).join('')}
            </ul>
          `;
          planCard.onclick = () => selectPlan(plan, planCard);
          plansContainer.appendChild(planCard);
        });
      } catch (error) {
        console.error('Error loading membership plans:', error);
      }
    }
    
    function selectPlan(plan, element) {
      selectedPlan = plan;
      document.querySelectorAll('.plan-card').forEach(card => {
        card.classList.remove('selected');
      });
      element.classList.add('selected');
    }
    
    async function nextStep() {
      if (currentStep === 1) {
        if (!validatePersonalInfo()) return;
        await startRegistration();
      } else if (currentStep === 2) {
        if (!validateDocuments()) return;
      } else if (currentStep === 3) {
        // Payment step handled by processPayment()
        return;
      } else if (currentStep === 4) {
        if (!selectedTourSlot) {
          alert('Please select a tour slot');
          return;
        }
        await scheduleTour();
      }
      
      moveToStep(currentStep + 1);
    }
    
    function previousStep() {
      if (currentStep > 1) {
        moveToStep(currentStep - 1);
      }
    }
    
    function moveToStep(stepNumber) {
      // Update step indicators
      document.querySelectorAll('.step').forEach((step, index) => {
        step.classList.remove('active');
        if (index < stepNumber - 1) {
          step.classList.add('completed');
        } else if (index === stepNumber - 1) {
          step.classList.add('active');
        }
      });
      
      // Update step content
      document.querySelectorAll('.registration-step').forEach((step, index) => {
        step.classList.remove('active');
        if (index === stepNumber - 1) {
          step.classList.add('active');
        }
      });
      
      currentStep = stepNumber;
      
      // Load step-specific data
      if (stepNumber === 3) {
        updatePaymentSummary();
      } else if (stepNumber === 4) {
        loadTourSlots();
      }
    }
    
    function validatePersonalInfo() {
      const required = ['firstName', 'lastName', 'email', 'phone', 'dateOfBirth', 'gender', 'nationality', 'emiratesId', 'emergencyName', 'emergencyPhone', 'emergencyRelation'];
      
      for (let field of required) {
        if (!document.getElementById(field).value.trim()) {
          alert(`Please fill in ${field.replace(/([A-Z])/g, ' $1').toLowerCase()}`);
          return false;
        }
      }
      
      if (!selectedPlan) {
        alert('Please select a membership plan');
        return false;
      }
      
      return true;
    }
    
    async function startRegistration() {
      const personalInfo = {
        name: `${document.getElementById('firstName').value} ${document.getElementById('lastName').value}`,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        dateOfBirth: document.getElementById('dateOfBirth').value,
        gender: document.getElementById('gender').value,
        nationality: document.getElementById('nationality').value,
        emiratesId: document.getElementById('emiratesId').value
      };
      
      const emergencyContact = {
        name: document.getElementById('emergencyName').value,
        phone: document.getElementById('emergencyPhone').value,
        relationship: document.getElementById('emergencyRelation').value
      };
      
      try {
        const response = await fetch('http://localhost:3014/api/registration/start', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            personalInfo,
            membershipPlan: selectedPlan,
            emergencyContact
          })
        });
        
        const result = await response.json();
        
        if (result.success) {
          currentRegistrationId = result.registrationId;
          registrationData = result.registration;
        } else {
          alert('Error starting registration');
        }
      } catch (error) {
        console.error('Error starting registration:', error);
        alert('Error starting registration. Please try again.');
      }
    }
    
    function uploadDocument(type) {
      // Simulate document upload
      const fileName = `${type}_${Date.now()}.pdf`;
      
      fetch(`http://localhost:3014/api/registration/${currentRegistrationId}/documents`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ documentType: type, fileName })
      })
      .then(response => response.json())
      .then(result => {
        if (result.success) {
          const statusElement = document.getElementById(type + 'Status');
          statusElement.textContent = '‚úÖ Uploaded successfully';
          statusElement.className = 'upload-status success';
          
          uploadedDocuments.push(type);
          checkDocumentsComplete();
        }
      })
      .catch(error => {
        console.error('Error uploading document:', error);
      });
    }
    
    function checkDocumentsComplete() {
      const required = ['emirates_id', 'photo'];
      const allUploaded = required.every(type => uploadedDocuments.includes(type));
      
      document.getElementById('documentsNextBtn').disabled = !allUploaded;
    }
    
    function validateDocuments() {
      const required = ['emirates_id', 'photo'];
      return required.every(type => uploadedDocuments.includes(type));
    }
    
    function updatePaymentSummary() {
      if (selectedPlan) {
        document.getElementById('selectedPlanName').textContent = selectedPlan.name;
        document.getElementById('selectedPlanPrice').textContent = `AED ${selectedPlan.price}`;
        
        const total = selectedPlan.price + 100; // Registration fee
        document.getElementById('totalAmount').textContent = `AED ${total}`;
      }
    }
    
    async function processPayment() {
      const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
      const amount = selectedPlan.price + 100;
      
      try {
        const response = await fetch(`http://localhost:3014/api/registration/${currentRegistrationId}/payment`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ paymentMethod, amount })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Payment processed successfully!\n\nTransaction ID: ${result.payment.transactionId}\nAmount: AED ${amount}`);
          moveToStep(4);
        } else {
          alert('Payment processing failed. Please try again.');
        }
      } catch (error) {
        console.error('Error processing payment:', error);
        alert('Error processing payment. Please try again.');
      }
    }
    
    async function loadTourSlots() {
      try {
        const response = await fetch('http://localhost:3014/api/tour-slots');
        const slots = await response.json();
        
        const slotsContainer = document.getElementById('tourSlots');
        slotsContainer.innerHTML = '';
        
        slots.forEach(slot => {
          const slotElement = document.createElement('div');
          slotElement.className = 'tour-slot';
          slotElement.innerHTML = `
            <h5>${new Date(slot.date).toLocaleDateString()}</h5>
            <p>${slot.time}</p>
          `;
          slotElement.onclick = () => selectTourSlot(slot, slotElement);
          slotsContainer.appendChild(slotElement);
        });
      } catch (error) {
        console.error('Error loading tour slots:', error);
      }
    }
    
    function selectTourSlot(slot, element) {
      selectedTourSlot = slot;
      document.querySelectorAll('.tour-slot').forEach(slotEl => {
        slotEl.classList.remove('selected');
      });
      element.classList.add('selected');
      document.getElementById('tourNextBtn').disabled = false;
    }
    
    async function scheduleTour() {
      try {
        const response = await fetch(`http://localhost:3014/api/registration/${currentRegistrationId}/tour`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ slotId: selectedTourSlot.id })
        });
        
        const result = await response.json();
        
        if (result.success) {
          await completeRegistration();
        } else {
          alert('Error scheduling tour. Please try again.');
        }
      } catch (error) {
        console.error('Error scheduling tour:', error);
        alert('Error scheduling tour. Please try again.');
      }
    }
    
    async function completeRegistration() {
      try {
        const response = await fetch(`http://localhost:3014/api/registration/${currentRegistrationId}/complete`, {
          method: 'POST'
        });
        
        const result = await response.json();
        
        if (result.success) {
          document.getElementById('newMemberId').textContent = result.registration.memberId;
          document.getElementById('newQrCode').textContent = result.registration.qrCode;
          document.getElementById('tourDetails').textContent = `${new Date(selectedTourSlot.date).toLocaleDateString()} at ${selectedTourSlot.time}`;
          
          moveToStep(5);
        } else {
          alert('Error completing registration. Please try again.');
        }
      } catch (error) {
        console.error('Error completing registration:', error);
        alert('Error completing registration. Please try again.');
      }
    }
    
    function startNewRegistration() {
      resetRegistration();
    }

    // Member Check-in Functions
    function showMemberCheckin() {
      hideAllSections();
      document.getElementById('memberCheckinSection').style.display = 'block';
      loadCheckinData();
    }
    
    function showCheckinTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      document.getElementById(tabName + 'Tab').classList.add('active');
      event.target.classList.add('active');
      
      if (tabName === 'active') {
        loadActiveCheckins();
      }
    }
    
    async function loadCheckinData() {
      try {
        const response = await fetch('http://localhost:3013/api/capacity');
        const data = await response.json();
        
        document.getElementById('currentCount').textContent = data.current;
        document.getElementById('maxCapacity').textContent = data.max;
        
        const fillPercentage = (data.current / data.max) * 100;
        document.getElementById('capacityFill').style.width = fillPercentage + '%';
        
        loadActiveCheckins();
      } catch (error) {
        console.error('Error loading check-in data:', error);
      }
    }
    
    async function loadActiveCheckins() {
      try {
        const response = await fetch('http://localhost:3013/api/checkins');
        const data = await response.json();
        
        const checkinsList = document.getElementById('activeCheckinsList');
        checkinsList.innerHTML = '';
        
        data.checkins.forEach(checkin => {
          const checkinItem = document.createElement('div');
          checkinItem.className = 'checkin-item';
          checkinItem.innerHTML = `
            <div class="checkin-info">
              <div class="checkin-avatar">${checkin.type === 'guest' ? 'üë§' : 'üë•'}</div>
              <div class="checkin-details">
                <h4>${checkin.memberName}</h4>
                <p>Check-in: ${new Date(checkin.checkInTime).toLocaleTimeString()}</p>
                <span class="checkin-type">${checkin.type}</span>
              </div>
            </div>
            <button class="checkout-btn" onclick="checkoutMember(${checkin.id})">Check Out</button>
          `;
          checkinsList.appendChild(checkinItem);
        });
      } catch (error) {
        console.error('Error loading active check-ins:', error);
      }
    }
    
    async function processQRCheckin() {
      const qrCode = document.getElementById('qrInput').value.trim();
      if (!qrCode) {
        alert('Please enter or scan a QR code');
        return;
      }
      
      try {
        const response = await fetch('http://localhost:3013/api/checkin/qr', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ qrCode })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Check-in successful!\n\nMember: ${result.member.name}\nMembership: ${result.member.membership}\nTime: ${new Date().toLocaleTimeString()}`);
          document.getElementById('qrInput').value = '';
          loadCheckinData();
        } else {
          alert(`‚ùå Check-in failed: ${result.message}`);
        }
      } catch (error) {
        console.error('Error processing QR check-in:', error);
        alert('Error processing check-in. Please try again.');
      }
    }
    
    let selectedMember = null;
    
    document.addEventListener('DOMContentLoaded', function() {
      const memberSearch = document.getElementById('memberSearch');
      if (memberSearch) {
        memberSearch.addEventListener('input', async function(e) {
          const query = e.target.value.trim();
          if (query.length < 2) {
            document.getElementById('memberResults').innerHTML = '';
            return;
          }
          
          try {
            const response = await fetch(`http://localhost:3013/api/members/search?query=${encodeURIComponent(query)}`);
            const members = await response.json();
            
            const resultsDiv = document.getElementById('memberResults');
            resultsDiv.innerHTML = '';
            
            members.forEach(member => {
              const resultItem = document.createElement('div');
              resultItem.className = 'search-result-item';
              resultItem.innerHTML = `
                <strong>${member.name}</strong><br>
                <small>ID: ${member.id} | ${member.membership} | ${member.status}</small>
              `;
              resultItem.onclick = () => selectMember(member, resultItem);
              resultsDiv.appendChild(resultItem);
            });
          } catch (error) {
            console.error('Error searching members:', error);
          }
        });
      }
    });
    
    function selectMember(member, element) {
      selectedMember = member;
      document.querySelectorAll('.search-result-item').forEach(item => {
        item.classList.remove('selected');
      });
      element.classList.add('selected');
      document.getElementById('manualCheckinBtn').disabled = false;
    }
    
    async function processManualCheckin() {
      if (!selectedMember) {
        alert('Please select a member first');
        return;
      }
      
      try {
        const response = await fetch('http://localhost:3013/api/checkin/manual', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ memberId: selectedMember.id })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Check-in successful!\n\nMember: ${result.member.name}\nMembership: ${result.member.membership}\nTime: ${new Date().toLocaleTimeString()}`);
          document.getElementById('memberSearch').value = '';
          document.getElementById('memberResults').innerHTML = '';
          document.getElementById('manualCheckinBtn').disabled = true;
          selectedMember = null;
          loadCheckinData();
        } else {
          alert(`‚ùå Check-in failed: ${result.message}`);
        }
      } catch (error) {
        console.error('Error processing manual check-in:', error);
        alert('Error processing check-in. Please try again.');
      }
    }
    
    let selectedSponsor = null;
    
    async function processGuestCheckin() {
      const guestName = document.getElementById('guestName').value.trim();
      const guestPhone = document.getElementById('guestPhone').value.trim();
      
      if (!guestName || !guestPhone || !selectedSponsor) {
        alert('Please fill all guest details and select a sponsor');
        return;
      }
      
      try {
        const response = await fetch('http://localhost:3013/api/checkin/guest', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            guestName,
            phone: guestPhone,
            sponsorId: selectedSponsor.id
          })
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Guest check-in successful!\n\nGuest: ${guestName}\nSponsor: ${result.sponsor.name}\nTime: ${new Date().toLocaleTimeString()}`);
          document.getElementById('guestName').value = '';
          document.getElementById('guestPhone').value = '';
          document.getElementById('sponsorSearch').value = '';
          document.getElementById('sponsorResults').innerHTML = '';
          document.getElementById('guestCheckinBtn').disabled = true;
          selectedSponsor = null;
          loadCheckinData();
        } else {
          alert(`‚ùå Guest check-in failed: ${result.message}`);
        }
      } catch (error) {
        console.error('Error processing guest check-in:', error);
        alert('Error processing guest check-in. Please try again.');
      }
    }
    
    async function checkoutMember(checkinId) {
      try {
        const response = await fetch(`http://localhost:3013/api/checkout/${checkinId}`, {
          method: 'POST'
        });
        
        const result = await response.json();
        
        if (result.success) {
          alert(`‚úÖ Check-out successful!\n\nMember: ${result.checkin.memberName}\nDuration: ${Math.round((new Date(result.checkin.checkOutTime) - new Date(result.checkin.checkInTime)) / 60000)} minutes`);
          loadCheckinData();
        } else {
          alert(`‚ùå Check-out failed: ${result.message}`);
        }
      } catch (error) {
        console.error('Error processing check-out:', error);
        alert('Error processing check-out. Please try again.');
      }
    }

  </script>
</body>
</html>